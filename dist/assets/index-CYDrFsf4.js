function kg(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var tt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function af(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function _g(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var lf={exports:{}},di={},cf={exports:{}},F={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $s=Symbol.for("react.element"),bg=Symbol.for("react.portal"),Sg=Symbol.for("react.fragment"),Eg=Symbol.for("react.strict_mode"),jg=Symbol.for("react.profiler"),Cg=Symbol.for("react.provider"),Ng=Symbol.for("react.context"),Pg=Symbol.for("react.forward_ref"),Rg=Symbol.for("react.suspense"),Tg=Symbol.for("react.memo"),Ag=Symbol.for("react.lazy"),Zc=Symbol.iterator;function Og(e){return e===null||typeof e!="object"?null:(e=Zc&&e[Zc]||e["@@iterator"],typeof e=="function"?e:null)}var uf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},df=Object.assign,ff={};function Pn(e,t,r){this.props=e,this.context=t,this.refs=ff,this.updater=r||uf}Pn.prototype.isReactComponent={};Pn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Pn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function hf(){}hf.prototype=Pn.prototype;function Il(e,t,r){this.props=e,this.context=t,this.refs=ff,this.updater=r||uf}var Dl=Il.prototype=new hf;Dl.constructor=Il;df(Dl,Pn.prototype);Dl.isPureReactComponent=!0;var eu=Array.isArray,pf=Object.prototype.hasOwnProperty,$l={current:null},mf={key:!0,ref:!0,__self:!0,__source:!0};function gf(e,t,r){var n,s={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)pf.call(t,n)&&!mf.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:$s,type:e,key:o,ref:i,props:s,_owner:$l.current}}function Lg(e,t){return{$$typeof:$s,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ul(e){return typeof e=="object"&&e!==null&&e.$$typeof===$s}function Ig(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var tu=/\/+/g;function Mi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ig(""+e.key):t.toString(36)}function xo(e,t,r,n,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case $s:case bg:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+Mi(i,0):n,eu(s)?(r="",e!=null&&(r=e.replace(tu,"$&/")+"/"),xo(s,t,r,"",function(u){return u})):s!=null&&(Ul(s)&&(s=Lg(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(tu,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",eu(e))for(var a=0;a<e.length;a++){o=e[a];var l=n+Mi(o,a);i+=xo(o,t,r,l,s)}else if(l=Og(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=n+Mi(o,a++),i+=xo(o,t,r,l,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function qs(e,t,r){if(e==null)return e;var n=[],s=0;return xo(e,n,"","",function(o){return t.call(r,o,s++)}),n}function Dg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ae={current:null},ko={transition:null},$g={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:ko,ReactCurrentOwner:$l};function vf(){throw Error("act(...) is not supported in production builds of React.")}F.Children={map:qs,forEach:function(e,t,r){qs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return qs(e,function(){t++}),t},toArray:function(e){return qs(e,function(t){return t})||[]},only:function(e){if(!Ul(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};F.Component=Pn;F.Fragment=Sg;F.Profiler=jg;F.PureComponent=Il;F.StrictMode=Eg;F.Suspense=Rg;F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$g;F.act=vf;F.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=df({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=$l.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)pf.call(t,l)&&!mf.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:$s,type:e.type,key:s,ref:o,props:n,_owner:i}};F.createContext=function(e){return e={$$typeof:Ng,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Cg,_context:e},e.Consumer=e};F.createElement=gf;F.createFactory=function(e){var t=gf.bind(null,e);return t.type=e,t};F.createRef=function(){return{current:null}};F.forwardRef=function(e){return{$$typeof:Pg,render:e}};F.isValidElement=Ul;F.lazy=function(e){return{$$typeof:Ag,_payload:{_status:-1,_result:e},_init:Dg}};F.memo=function(e,t){return{$$typeof:Tg,type:e,compare:t===void 0?null:t}};F.startTransition=function(e){var t=ko.transition;ko.transition={};try{e()}finally{ko.transition=t}};F.unstable_act=vf;F.useCallback=function(e,t){return Ae.current.useCallback(e,t)};F.useContext=function(e){return Ae.current.useContext(e)};F.useDebugValue=function(){};F.useDeferredValue=function(e){return Ae.current.useDeferredValue(e)};F.useEffect=function(e,t){return Ae.current.useEffect(e,t)};F.useId=function(){return Ae.current.useId()};F.useImperativeHandle=function(e,t,r){return Ae.current.useImperativeHandle(e,t,r)};F.useInsertionEffect=function(e,t){return Ae.current.useInsertionEffect(e,t)};F.useLayoutEffect=function(e,t){return Ae.current.useLayoutEffect(e,t)};F.useMemo=function(e,t){return Ae.current.useMemo(e,t)};F.useReducer=function(e,t,r){return Ae.current.useReducer(e,t,r)};F.useRef=function(e){return Ae.current.useRef(e)};F.useState=function(e){return Ae.current.useState(e)};F.useSyncExternalStore=function(e,t,r){return Ae.current.useSyncExternalStore(e,t,r)};F.useTransition=function(){return Ae.current.useTransition()};F.version="18.3.1";cf.exports=F;var p=cf.exports;const Ml=af(p),yf=kg({__proto__:null,default:Ml},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ug=p,Mg=Symbol.for("react.element"),Fg=Symbol.for("react.fragment"),zg=Object.prototype.hasOwnProperty,Bg=Ug.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Wg={key:!0,ref:!0,__self:!0,__source:!0};function wf(e,t,r){var n,s={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)zg.call(t,n)&&!Wg.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Mg,type:e,key:o,ref:i,props:s,_owner:Bg.current}}di.Fragment=Fg;di.jsx=wf;di.jsxs=wf;lf.exports=di;var c=lf.exports,Na={},xf={exports:{}},Ge={},kf={exports:{}},_f={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,I){var D=R.length;R.push(I);e:for(;0<D;){var B=D-1>>>1,de=R[B];if(0<s(de,I))R[B]=I,R[D]=de,D=B;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var I=R[0],D=R.pop();if(D!==I){R[0]=D;e:for(var B=0,de=R.length,vr=de>>>1;B<vr;){var Qe=2*(B+1)-1,Ui=R[Qe],yr=Qe+1,Vs=R[yr];if(0>s(Ui,D))yr<de&&0>s(Vs,Ui)?(R[B]=Vs,R[yr]=D,B=yr):(R[B]=Ui,R[Qe]=D,B=Qe);else if(yr<de&&0>s(Vs,D))R[B]=Vs,R[yr]=D,B=yr;else break e}}return I}function s(R,I){var D=R.sortIndex-I.sortIndex;return D!==0?D:R.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var l=[],u=[],d=1,f=null,h=3,m=!1,x=!1,y=!1,k=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(R){for(var I=r(u);I!==null;){if(I.callback===null)n(u);else if(I.startTime<=R)n(u),I.sortIndex=I.expirationTime,t(l,I);else break;I=r(u)}}function _(R){if(y=!1,w(R),!x)if(r(l)!==null)x=!0,ve(b);else{var I=r(u);I!==null&&he(_,I.startTime-R)}}function b(R,I){x=!1,y&&(y=!1,g(j),j=-1),m=!0;var D=h;try{for(w(I),f=r(l);f!==null&&(!(f.expirationTime>I)||R&&!O());){var B=f.callback;if(typeof B=="function"){f.callback=null,h=f.priorityLevel;var de=B(f.expirationTime<=I);I=e.unstable_now(),typeof de=="function"?f.callback=de:f===r(l)&&n(l),w(I)}else n(l);f=r(l)}if(f!==null)var vr=!0;else{var Qe=r(u);Qe!==null&&he(_,Qe.startTime-I),vr=!1}return vr}finally{f=null,h=D,m=!1}}var E=!1,S=null,j=-1,P=5,N=-1;function O(){return!(e.unstable_now()-N<P)}function T(){if(S!==null){var R=e.unstable_now();N=R;var I=!0;try{I=S(!0,R)}finally{I?L():(E=!1,S=null)}}else E=!1}var L;if(typeof v=="function")L=function(){v(T)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,le=H.port2;H.port1.onmessage=T,L=function(){le.postMessage(null)}}else L=function(){k(T,0)};function ve(R){S=R,E||(E=!0,L())}function he(R,I){j=k(function(){R(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,ve(b))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var D=h;h=I;try{return R()}finally{h=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,I){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var D=h;h=R;try{return I()}finally{h=D}},e.unstable_scheduleCallback=function(R,I,D){var B=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?B+D:B):D=B,R){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=D+de,R={id:d++,callback:I,priorityLevel:R,startTime:D,expirationTime:de,sortIndex:-1},D>B?(R.sortIndex=D,t(u,R),r(l)===null&&R===r(u)&&(y?(g(j),j=-1):y=!0,he(_,D-B))):(R.sortIndex=de,t(l,R),x||m||(x=!0,ve(b))),R},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(R){var I=h;return function(){var D=h;h=I;try{return R.apply(this,arguments)}finally{h=D}}}})(_f);kf.exports=_f;var Hg=kf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vg=p,qe=Hg;function C(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bf=new Set,fs={};function Mr(e,t){wn(e,t),wn(e+"Capture",t)}function wn(e,t){for(fs[e]=t,e=0;e<t.length;e++)bf.add(t[e])}var Pt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pa=Object.prototype.hasOwnProperty,qg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ru={},nu={};function Gg(e){return Pa.call(nu,e)?!0:Pa.call(ru,e)?!1:qg.test(e)?nu[e]=!0:(ru[e]=!0,!1)}function Kg(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Jg(e,t,r,n){if(t===null||typeof t>"u"||Kg(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Oe(e,t,r,n,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Ee={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ee[e]=new Oe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ee[t]=new Oe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ee[e]=new Oe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ee[e]=new Oe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ee[e]=new Oe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ee[e]=new Oe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ee[e]=new Oe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ee[e]=new Oe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ee[e]=new Oe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Fl=/[\-:]([a-z])/g;function zl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Fl,zl);Ee[t]=new Oe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Fl,zl);Ee[t]=new Oe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Fl,zl);Ee[t]=new Oe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ee[e]=new Oe(e,1,!1,e.toLowerCase(),null,!1,!1)});Ee.xlinkHref=new Oe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ee[e]=new Oe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Bl(e,t,r,n){var s=Ee.hasOwnProperty(t)?Ee[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Jg(t,r,s,n)&&(r=null),n||s===null?Gg(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ot=Vg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gs=Symbol.for("react.element"),Yr=Symbol.for("react.portal"),Xr=Symbol.for("react.fragment"),Wl=Symbol.for("react.strict_mode"),Ra=Symbol.for("react.profiler"),Sf=Symbol.for("react.provider"),Ef=Symbol.for("react.context"),Hl=Symbol.for("react.forward_ref"),Ta=Symbol.for("react.suspense"),Aa=Symbol.for("react.suspense_list"),Vl=Symbol.for("react.memo"),Wt=Symbol.for("react.lazy"),jf=Symbol.for("react.offscreen"),su=Symbol.iterator;function $n(e){return e===null||typeof e!="object"?null:(e=su&&e[su]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Object.assign,Fi;function Qn(e){if(Fi===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Fi=t&&t[1]||""}return`
`+Fi+e}var zi=!1;function Bi(e,t){if(!e||zi)return"";zi=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=n.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var l=`
`+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=a);break}}}finally{zi=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Qn(e):""}function Qg(e){switch(e.tag){case 5:return Qn(e.type);case 16:return Qn("Lazy");case 13:return Qn("Suspense");case 19:return Qn("SuspenseList");case 0:case 2:case 15:return e=Bi(e.type,!1),e;case 11:return e=Bi(e.type.render,!1),e;case 1:return e=Bi(e.type,!0),e;default:return""}}function Oa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Xr:return"Fragment";case Yr:return"Portal";case Ra:return"Profiler";case Wl:return"StrictMode";case Ta:return"Suspense";case Aa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ef:return(e.displayName||"Context")+".Consumer";case Sf:return(e._context.displayName||"Context")+".Provider";case Hl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Vl:return t=e.displayName||null,t!==null?t:Oa(e.type)||"Memo";case Wt:t=e._payload,e=e._init;try{return Oa(e(t))}catch{}}return null}function Yg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oa(t);case 8:return t===Wl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function lr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Cf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Xg(e){var t=Cf(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ks(e){e._valueTracker||(e._valueTracker=Xg(e))}function Nf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Cf(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Io(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function La(e,t){var r=t.checked;return ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ou(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=lr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Pf(e,t){t=t.checked,t!=null&&Bl(e,"checked",t,!1)}function Ia(e,t){Pf(e,t);var r=lr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Da(e,t.type,r):t.hasOwnProperty("defaultValue")&&Da(e,t.type,lr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function iu(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Da(e,t,r){(t!=="number"||Io(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Yn=Array.isArray;function un(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+lr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function $a(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(C(91));return ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function au(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(C(92));if(Yn(r)){if(1<r.length)throw Error(C(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:lr(r)}}function Rf(e,t){var r=lr(t.value),n=lr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function lu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Tf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ua(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Tf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Js,Af=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Js=Js||document.createElement("div"),Js.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Js.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function hs(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ts={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zg=["Webkit","ms","Moz","O"];Object.keys(ts).forEach(function(e){Zg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ts[t]=ts[e]})});function Of(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ts.hasOwnProperty(e)&&ts[e]?(""+t).trim():t+"px"}function Lf(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Of(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var ev=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ma(e,t){if(t){if(ev[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(C(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(C(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(C(61))}if(t.style!=null&&typeof t.style!="object")throw Error(C(62))}}function Fa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var za=null;function ql(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ba=null,dn=null,fn=null;function cu(e){if(e=Fs(e)){if(typeof Ba!="function")throw Error(C(280));var t=e.stateNode;t&&(t=gi(t),Ba(e.stateNode,e.type,t))}}function If(e){dn?fn?fn.push(e):fn=[e]:dn=e}function Df(){if(dn){var e=dn,t=fn;if(fn=dn=null,cu(e),t)for(e=0;e<t.length;e++)cu(t[e])}}function $f(e,t){return e(t)}function Uf(){}var Wi=!1;function Mf(e,t,r){if(Wi)return e(t,r);Wi=!0;try{return $f(e,t,r)}finally{Wi=!1,(dn!==null||fn!==null)&&(Uf(),Df())}}function ps(e,t){var r=e.stateNode;if(r===null)return null;var n=gi(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(C(231,t,typeof r));return r}var Wa=!1;if(Pt)try{var Un={};Object.defineProperty(Un,"passive",{get:function(){Wa=!0}}),window.addEventListener("test",Un,Un),window.removeEventListener("test",Un,Un)}catch{Wa=!1}function tv(e,t,r,n,s,o,i,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var rs=!1,Do=null,$o=!1,Ha=null,rv={onError:function(e){rs=!0,Do=e}};function nv(e,t,r,n,s,o,i,a,l){rs=!1,Do=null,tv.apply(rv,arguments)}function sv(e,t,r,n,s,o,i,a,l){if(nv.apply(this,arguments),rs){if(rs){var u=Do;rs=!1,Do=null}else throw Error(C(198));$o||($o=!0,Ha=u)}}function Fr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Ff(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function uu(e){if(Fr(e)!==e)throw Error(C(188))}function ov(e){var t=e.alternate;if(!t){if(t=Fr(e),t===null)throw Error(C(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return uu(s),e;if(o===n)return uu(s),t;o=o.sibling}throw Error(C(188))}if(r.return!==n.return)r=s,n=o;else{for(var i=!1,a=s.child;a;){if(a===r){i=!0,r=s,n=o;break}if(a===n){i=!0,n=s,r=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===r){i=!0,r=o,n=s;break}if(a===n){i=!0,n=o,r=s;break}a=a.sibling}if(!i)throw Error(C(189))}}if(r.alternate!==n)throw Error(C(190))}if(r.tag!==3)throw Error(C(188));return r.stateNode.current===r?e:t}function zf(e){return e=ov(e),e!==null?Bf(e):null}function Bf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Bf(e);if(t!==null)return t;e=e.sibling}return null}var Wf=qe.unstable_scheduleCallback,du=qe.unstable_cancelCallback,iv=qe.unstable_shouldYield,av=qe.unstable_requestPaint,ce=qe.unstable_now,lv=qe.unstable_getCurrentPriorityLevel,Gl=qe.unstable_ImmediatePriority,Hf=qe.unstable_UserBlockingPriority,Uo=qe.unstable_NormalPriority,cv=qe.unstable_LowPriority,Vf=qe.unstable_IdlePriority,fi=null,xt=null;function uv(e){if(xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(fi,e,void 0,(e.current.flags&128)===128)}catch{}}var dt=Math.clz32?Math.clz32:hv,dv=Math.log,fv=Math.LN2;function hv(e){return e>>>=0,e===0?32:31-(dv(e)/fv|0)|0}var Qs=64,Ys=4194304;function Xn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Mo(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var a=i&~s;a!==0?n=Xn(a):(o&=i,o!==0&&(n=Xn(o)))}else i=r&~s,i!==0?n=Xn(i):o!==0&&(n=Xn(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-dt(t),s=1<<r,n|=e[r],t&=~s;return n}function pv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mv(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-dt(o),a=1<<i,l=s[i];l===-1?(!(a&r)||a&n)&&(s[i]=pv(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function Va(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function qf(){var e=Qs;return Qs<<=1,!(Qs&4194240)&&(Qs=64),e}function Hi(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Us(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-dt(t),e[t]=r}function gv(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-dt(r),o=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~o}}function Kl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-dt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var V=0;function Gf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Kf,Jl,Jf,Qf,Yf,qa=!1,Xs=[],Xt=null,Zt=null,er=null,ms=new Map,gs=new Map,qt=[],vv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fu(e,t){switch(e){case"focusin":case"focusout":Xt=null;break;case"dragenter":case"dragleave":Zt=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":ms.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gs.delete(t.pointerId)}}function Mn(e,t,r,n,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Fs(t),t!==null&&Jl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function yv(e,t,r,n,s){switch(t){case"focusin":return Xt=Mn(Xt,e,t,r,n,s),!0;case"dragenter":return Zt=Mn(Zt,e,t,r,n,s),!0;case"mouseover":return er=Mn(er,e,t,r,n,s),!0;case"pointerover":var o=s.pointerId;return ms.set(o,Mn(ms.get(o)||null,e,t,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,gs.set(o,Mn(gs.get(o)||null,e,t,r,n,s)),!0}return!1}function Xf(e){var t=Er(e.target);if(t!==null){var r=Fr(t);if(r!==null){if(t=r.tag,t===13){if(t=Ff(r),t!==null){e.blockedOn=t,Yf(e.priority,function(){Jf(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _o(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ga(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);za=n,r.target.dispatchEvent(n),za=null}else return t=Fs(r),t!==null&&Jl(t),e.blockedOn=r,!1;t.shift()}return!0}function hu(e,t,r){_o(e)&&r.delete(t)}function wv(){qa=!1,Xt!==null&&_o(Xt)&&(Xt=null),Zt!==null&&_o(Zt)&&(Zt=null),er!==null&&_o(er)&&(er=null),ms.forEach(hu),gs.forEach(hu)}function Fn(e,t){e.blockedOn===t&&(e.blockedOn=null,qa||(qa=!0,qe.unstable_scheduleCallback(qe.unstable_NormalPriority,wv)))}function vs(e){function t(s){return Fn(s,e)}if(0<Xs.length){Fn(Xs[0],e);for(var r=1;r<Xs.length;r++){var n=Xs[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Xt!==null&&Fn(Xt,e),Zt!==null&&Fn(Zt,e),er!==null&&Fn(er,e),ms.forEach(t),gs.forEach(t),r=0;r<qt.length;r++)n=qt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<qt.length&&(r=qt[0],r.blockedOn===null);)Xf(r),r.blockedOn===null&&qt.shift()}var hn=Ot.ReactCurrentBatchConfig,Fo=!0;function xv(e,t,r,n){var s=V,o=hn.transition;hn.transition=null;try{V=1,Ql(e,t,r,n)}finally{V=s,hn.transition=o}}function kv(e,t,r,n){var s=V,o=hn.transition;hn.transition=null;try{V=4,Ql(e,t,r,n)}finally{V=s,hn.transition=o}}function Ql(e,t,r,n){if(Fo){var s=Ga(e,t,r,n);if(s===null)ea(e,t,n,zo,r),fu(e,n);else if(yv(s,e,t,r,n))n.stopPropagation();else if(fu(e,n),t&4&&-1<vv.indexOf(e)){for(;s!==null;){var o=Fs(s);if(o!==null&&Kf(o),o=Ga(e,t,r,n),o===null&&ea(e,t,n,zo,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else ea(e,t,n,null,r)}}var zo=null;function Ga(e,t,r,n){if(zo=null,e=ql(n),e=Er(e),e!==null)if(t=Fr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Ff(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zo=e,null}function Zf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lv()){case Gl:return 1;case Hf:return 4;case Uo:case cv:return 16;case Vf:return 536870912;default:return 16}default:return 16}}var Jt=null,Yl=null,bo=null;function eh(){if(bo)return bo;var e,t=Yl,r=t.length,n,s="value"in Jt?Jt.value:Jt.textContent,o=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[o-n];n++);return bo=s.slice(e,1<n?1-n:void 0)}function So(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zs(){return!0}function pu(){return!1}function Ke(e){function t(r,n,s,o,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Zs:pu,this.isPropagationStopped=pu,this}return ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Zs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Zs)},persist:function(){},isPersistent:Zs}),t}var Rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xl=Ke(Rn),Ms=ie({},Rn,{view:0,detail:0}),_v=Ke(Ms),Vi,qi,zn,hi=ie({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zn&&(zn&&e.type==="mousemove"?(Vi=e.screenX-zn.screenX,qi=e.screenY-zn.screenY):qi=Vi=0,zn=e),Vi)},movementY:function(e){return"movementY"in e?e.movementY:qi}}),mu=Ke(hi),bv=ie({},hi,{dataTransfer:0}),Sv=Ke(bv),Ev=ie({},Ms,{relatedTarget:0}),Gi=Ke(Ev),jv=ie({},Rn,{animationName:0,elapsedTime:0,pseudoElement:0}),Cv=Ke(jv),Nv=ie({},Rn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Pv=Ke(Nv),Rv=ie({},Rn,{data:0}),gu=Ke(Rv),Tv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Av={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ov={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ov[e])?!!t[e]:!1}function Zl(){return Lv}var Iv=ie({},Ms,{key:function(e){if(e.key){var t=Tv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=So(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Av[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zl,charCode:function(e){return e.type==="keypress"?So(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?So(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Dv=Ke(Iv),$v=ie({},hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vu=Ke($v),Uv=ie({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zl}),Mv=Ke(Uv),Fv=ie({},Rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),zv=Ke(Fv),Bv=ie({},hi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wv=Ke(Bv),Hv=[9,13,27,32],ec=Pt&&"CompositionEvent"in window,ns=null;Pt&&"documentMode"in document&&(ns=document.documentMode);var Vv=Pt&&"TextEvent"in window&&!ns,th=Pt&&(!ec||ns&&8<ns&&11>=ns),yu=" ",wu=!1;function rh(e,t){switch(e){case"keyup":return Hv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zr=!1;function qv(e,t){switch(e){case"compositionend":return nh(t);case"keypress":return t.which!==32?null:(wu=!0,yu);case"textInput":return e=t.data,e===yu&&wu?null:e;default:return null}}function Gv(e,t){if(Zr)return e==="compositionend"||!ec&&rh(e,t)?(e=eh(),bo=Yl=Jt=null,Zr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return th&&t.locale!=="ko"?null:t.data;default:return null}}var Kv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Kv[e.type]:t==="textarea"}function sh(e,t,r,n){If(n),t=Bo(t,"onChange"),0<t.length&&(r=new Xl("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ss=null,ys=null;function Jv(e){mh(e,0)}function pi(e){var t=rn(e);if(Nf(t))return e}function Qv(e,t){if(e==="change")return t}var oh=!1;if(Pt){var Ki;if(Pt){var Ji="oninput"in document;if(!Ji){var ku=document.createElement("div");ku.setAttribute("oninput","return;"),Ji=typeof ku.oninput=="function"}Ki=Ji}else Ki=!1;oh=Ki&&(!document.documentMode||9<document.documentMode)}function _u(){ss&&(ss.detachEvent("onpropertychange",ih),ys=ss=null)}function ih(e){if(e.propertyName==="value"&&pi(ys)){var t=[];sh(t,ys,e,ql(e)),Mf(Jv,t)}}function Yv(e,t,r){e==="focusin"?(_u(),ss=t,ys=r,ss.attachEvent("onpropertychange",ih)):e==="focusout"&&_u()}function Xv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pi(ys)}function Zv(e,t){if(e==="click")return pi(t)}function ey(e,t){if(e==="input"||e==="change")return pi(t)}function ty(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pt=typeof Object.is=="function"?Object.is:ty;function ws(e,t){if(pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Pa.call(t,s)||!pt(e[s],t[s]))return!1}return!0}function bu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Su(e,t){var r=bu(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=bu(r)}}function ah(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ah(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function lh(){for(var e=window,t=Io();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Io(e.document)}return t}function tc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ry(e){var t=lh(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&ah(r.ownerDocument.documentElement,r)){if(n!==null&&tc(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!e.extend&&o>n&&(s=n,n=o,o=s),s=Su(r,o);var i=Su(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ny=Pt&&"documentMode"in document&&11>=document.documentMode,en=null,Ka=null,os=null,Ja=!1;function Eu(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ja||en==null||en!==Io(n)||(n=en,"selectionStart"in n&&tc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),os&&ws(os,n)||(os=n,n=Bo(Ka,"onSelect"),0<n.length&&(t=new Xl("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=en)))}function eo(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var tn={animationend:eo("Animation","AnimationEnd"),animationiteration:eo("Animation","AnimationIteration"),animationstart:eo("Animation","AnimationStart"),transitionend:eo("Transition","TransitionEnd")},Qi={},ch={};Pt&&(ch=document.createElement("div").style,"AnimationEvent"in window||(delete tn.animationend.animation,delete tn.animationiteration.animation,delete tn.animationstart.animation),"TransitionEvent"in window||delete tn.transitionend.transition);function mi(e){if(Qi[e])return Qi[e];if(!tn[e])return e;var t=tn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in ch)return Qi[e]=t[r];return e}var uh=mi("animationend"),dh=mi("animationiteration"),fh=mi("animationstart"),hh=mi("transitionend"),ph=new Map,ju="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dr(e,t){ph.set(e,t),Mr(t,[e])}for(var Yi=0;Yi<ju.length;Yi++){var Xi=ju[Yi],sy=Xi.toLowerCase(),oy=Xi[0].toUpperCase()+Xi.slice(1);dr(sy,"on"+oy)}dr(uh,"onAnimationEnd");dr(dh,"onAnimationIteration");dr(fh,"onAnimationStart");dr("dblclick","onDoubleClick");dr("focusin","onFocus");dr("focusout","onBlur");dr(hh,"onTransitionEnd");wn("onMouseEnter",["mouseout","mouseover"]);wn("onMouseLeave",["mouseout","mouseover"]);wn("onPointerEnter",["pointerout","pointerover"]);wn("onPointerLeave",["pointerout","pointerover"]);Mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zn));function Cu(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,sv(n,t,void 0,e),e.currentTarget=null}function mh(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var a=n[i],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;Cu(s,a,u),o=l}else for(i=0;i<n.length;i++){if(a=n[i],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;Cu(s,a,u),o=l}}}if($o)throw e=Ha,$o=!1,Ha=null,e}function Z(e,t){var r=t[el];r===void 0&&(r=t[el]=new Set);var n=e+"__bubble";r.has(n)||(gh(t,e,2,!1),r.add(n))}function Zi(e,t,r){var n=0;t&&(n|=4),gh(r,e,n,t)}var to="_reactListening"+Math.random().toString(36).slice(2);function xs(e){if(!e[to]){e[to]=!0,bf.forEach(function(r){r!=="selectionchange"&&(iy.has(r)||Zi(r,!1,e),Zi(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[to]||(t[to]=!0,Zi("selectionchange",!1,t))}}function gh(e,t,r,n){switch(Zf(t)){case 1:var s=xv;break;case 4:s=kv;break;default:s=Ql}r=s.bind(null,t,r,e),s=void 0,!Wa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function ea(e,t,r,n,s){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;a!==null;){if(i=Er(a),i===null)return;if(l=i.tag,l===5||l===6){n=o=i;continue e}a=a.parentNode}}n=n.return}Mf(function(){var u=o,d=ql(r),f=[];e:{var h=ph.get(e);if(h!==void 0){var m=Xl,x=e;switch(e){case"keypress":if(So(r)===0)break e;case"keydown":case"keyup":m=Dv;break;case"focusin":x="focus",m=Gi;break;case"focusout":x="blur",m=Gi;break;case"beforeblur":case"afterblur":m=Gi;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=mu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Sv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Mv;break;case uh:case dh:case fh:m=Cv;break;case hh:m=zv;break;case"scroll":m=_v;break;case"wheel":m=Wv;break;case"copy":case"cut":case"paste":m=Pv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=vu}var y=(t&4)!==0,k=!y&&e==="scroll",g=y?h!==null?h+"Capture":null:h;y=[];for(var v=u,w;v!==null;){w=v;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,g!==null&&(_=ps(v,g),_!=null&&y.push(ks(v,_,w)))),k)break;v=v.return}0<y.length&&(h=new m(h,x,null,r,d),f.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==za&&(x=r.relatedTarget||r.fromElement)&&(Er(x)||x[Rt]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(x=r.relatedTarget||r.toElement,m=u,x=x?Er(x):null,x!==null&&(k=Fr(x),x!==k||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=u),m!==x)){if(y=mu,_="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(y=vu,_="onPointerLeave",g="onPointerEnter",v="pointer"),k=m==null?h:rn(m),w=x==null?h:rn(x),h=new y(_,v+"leave",m,r,d),h.target=k,h.relatedTarget=w,_=null,Er(d)===u&&(y=new y(g,v+"enter",x,r,d),y.target=w,y.relatedTarget=k,_=y),k=_,m&&x)t:{for(y=m,g=x,v=0,w=y;w;w=Wr(w))v++;for(w=0,_=g;_;_=Wr(_))w++;for(;0<v-w;)y=Wr(y),v--;for(;0<w-v;)g=Wr(g),w--;for(;v--;){if(y===g||g!==null&&y===g.alternate)break t;y=Wr(y),g=Wr(g)}y=null}else y=null;m!==null&&Nu(f,h,m,y,!1),x!==null&&k!==null&&Nu(f,k,x,y,!0)}}e:{if(h=u?rn(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var b=Qv;else if(xu(h))if(oh)b=ey;else{b=Xv;var E=Yv}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=Zv);if(b&&(b=b(e,u))){sh(f,b,r,d);break e}E&&E(e,h,u),e==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&Da(h,"number",h.value)}switch(E=u?rn(u):window,e){case"focusin":(xu(E)||E.contentEditable==="true")&&(en=E,Ka=u,os=null);break;case"focusout":os=Ka=en=null;break;case"mousedown":Ja=!0;break;case"contextmenu":case"mouseup":case"dragend":Ja=!1,Eu(f,r,d);break;case"selectionchange":if(ny)break;case"keydown":case"keyup":Eu(f,r,d)}var S;if(ec)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Zr?rh(e,r)&&(j="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(th&&r.locale!=="ko"&&(Zr||j!=="onCompositionStart"?j==="onCompositionEnd"&&Zr&&(S=eh()):(Jt=d,Yl="value"in Jt?Jt.value:Jt.textContent,Zr=!0)),E=Bo(u,j),0<E.length&&(j=new gu(j,e,null,r,d),f.push({event:j,listeners:E}),S?j.data=S:(S=nh(r),S!==null&&(j.data=S)))),(S=Vv?qv(e,r):Gv(e,r))&&(u=Bo(u,"onBeforeInput"),0<u.length&&(d=new gu("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}mh(f,t)})}function ks(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Bo(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=ps(e,r),o!=null&&n.unshift(ks(e,o,s)),o=ps(e,t),o!=null&&n.push(ks(e,o,s))),e=e.return}return n}function Wr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Nu(e,t,r,n,s){for(var o=t._reactName,i=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,s?(l=ps(r,o),l!=null&&i.unshift(ks(r,l,a))):s||(l=ps(r,o),l!=null&&i.push(ks(r,l,a)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var ay=/\r\n?/g,ly=/\u0000|\uFFFD/g;function Pu(e){return(typeof e=="string"?e:""+e).replace(ay,`
`).replace(ly,"")}function ro(e,t,r){if(t=Pu(t),Pu(e)!==t&&r)throw Error(C(425))}function Wo(){}var Qa=null,Ya=null;function Xa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Za=typeof setTimeout=="function"?setTimeout:void 0,cy=typeof clearTimeout=="function"?clearTimeout:void 0,Ru=typeof Promise=="function"?Promise:void 0,uy=typeof queueMicrotask=="function"?queueMicrotask:typeof Ru<"u"?function(e){return Ru.resolve(null).then(e).catch(dy)}:Za;function dy(e){setTimeout(function(){throw e})}function ta(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),vs(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);vs(t)}function tr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Tu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Tn=Math.random().toString(36).slice(2),yt="__reactFiber$"+Tn,_s="__reactProps$"+Tn,Rt="__reactContainer$"+Tn,el="__reactEvents$"+Tn,fy="__reactListeners$"+Tn,hy="__reactHandles$"+Tn;function Er(e){var t=e[yt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Rt]||r[yt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Tu(e);e!==null;){if(r=e[yt])return r;e=Tu(e)}return t}e=r,r=e.parentNode}return null}function Fs(e){return e=e[yt]||e[Rt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function rn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(C(33))}function gi(e){return e[_s]||null}var tl=[],nn=-1;function fr(e){return{current:e}}function ee(e){0>nn||(e.current=tl[nn],tl[nn]=null,nn--)}function Y(e,t){nn++,tl[nn]=e.current,e.current=t}var cr={},Pe=fr(cr),Me=fr(!1),Rr=cr;function xn(e,t){var r=e.type.contextTypes;if(!r)return cr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Fe(e){return e=e.childContextTypes,e!=null}function Ho(){ee(Me),ee(Pe)}function Au(e,t,r){if(Pe.current!==cr)throw Error(C(168));Y(Pe,t),Y(Me,r)}function vh(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(C(108,Yg(e)||"Unknown",s));return ie({},r,n)}function Vo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cr,Rr=Pe.current,Y(Pe,e),Y(Me,Me.current),!0}function Ou(e,t,r){var n=e.stateNode;if(!n)throw Error(C(169));r?(e=vh(e,t,Rr),n.__reactInternalMemoizedMergedChildContext=e,ee(Me),ee(Pe),Y(Pe,e)):ee(Me),Y(Me,r)}var St=null,vi=!1,ra=!1;function yh(e){St===null?St=[e]:St.push(e)}function py(e){vi=!0,yh(e)}function hr(){if(!ra&&St!==null){ra=!0;var e=0,t=V;try{var r=St;for(V=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}St=null,vi=!1}catch(s){throw St!==null&&(St=St.slice(e+1)),Wf(Gl,hr),s}finally{V=t,ra=!1}}return null}var sn=[],on=0,qo=null,Go=0,Ye=[],Xe=0,Tr=null,Et=1,jt="";function xr(e,t){sn[on++]=Go,sn[on++]=qo,qo=e,Go=t}function wh(e,t,r){Ye[Xe++]=Et,Ye[Xe++]=jt,Ye[Xe++]=Tr,Tr=e;var n=Et;e=jt;var s=32-dt(n)-1;n&=~(1<<s),r+=1;var o=32-dt(t)+s;if(30<o){var i=s-s%5;o=(n&(1<<i)-1).toString(32),n>>=i,s-=i,Et=1<<32-dt(t)+s|r<<s|n,jt=o+e}else Et=1<<o|r<<s|n,jt=e}function rc(e){e.return!==null&&(xr(e,1),wh(e,1,0))}function nc(e){for(;e===qo;)qo=sn[--on],sn[on]=null,Go=sn[--on],sn[on]=null;for(;e===Tr;)Tr=Ye[--Xe],Ye[Xe]=null,jt=Ye[--Xe],Ye[Xe]=null,Et=Ye[--Xe],Ye[Xe]=null}var Ve=null,He=null,te=!1,ut=null;function xh(e,t){var r=Ze(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Lu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ve=e,He=tr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ve=e,He=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Tr!==null?{id:Et,overflow:jt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ze(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ve=e,He=null,!0):!1;default:return!1}}function rl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function nl(e){if(te){var t=He;if(t){var r=t;if(!Lu(e,t)){if(rl(e))throw Error(C(418));t=tr(r.nextSibling);var n=Ve;t&&Lu(e,t)?xh(n,r):(e.flags=e.flags&-4097|2,te=!1,Ve=e)}}else{if(rl(e))throw Error(C(418));e.flags=e.flags&-4097|2,te=!1,Ve=e}}}function Iu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ve=e}function no(e){if(e!==Ve)return!1;if(!te)return Iu(e),te=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Xa(e.type,e.memoizedProps)),t&&(t=He)){if(rl(e))throw kh(),Error(C(418));for(;t;)xh(e,t),t=tr(t.nextSibling)}if(Iu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){He=tr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}He=null}}else He=Ve?tr(e.stateNode.nextSibling):null;return!0}function kh(){for(var e=He;e;)e=tr(e.nextSibling)}function kn(){He=Ve=null,te=!1}function sc(e){ut===null?ut=[e]:ut.push(e)}var my=Ot.ReactCurrentBatchConfig;function Bn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(C(309));var n=r.stateNode}if(!n)throw Error(C(147,e));var s=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(C(284));if(!r._owner)throw Error(C(290,e))}return e}function so(e,t){throw e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Du(e){var t=e._init;return t(e._payload)}function _h(e){function t(g,v){if(e){var w=g.deletions;w===null?(g.deletions=[v],g.flags|=16):w.push(v)}}function r(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function n(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function s(g,v){return g=or(g,v),g.index=0,g.sibling=null,g}function o(g,v,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<v?(g.flags|=2,v):w):(g.flags|=2,v)):(g.flags|=1048576,v)}function i(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,v,w,_){return v===null||v.tag!==6?(v=ca(w,g.mode,_),v.return=g,v):(v=s(v,w),v.return=g,v)}function l(g,v,w,_){var b=w.type;return b===Xr?d(g,v,w.props.children,_,w.key):v!==null&&(v.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Wt&&Du(b)===v.type)?(_=s(v,w.props),_.ref=Bn(g,v,w),_.return=g,_):(_=To(w.type,w.key,w.props,null,g.mode,_),_.ref=Bn(g,v,w),_.return=g,_)}function u(g,v,w,_){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=ua(w,g.mode,_),v.return=g,v):(v=s(v,w.children||[]),v.return=g,v)}function d(g,v,w,_,b){return v===null||v.tag!==7?(v=Pr(w,g.mode,_,b),v.return=g,v):(v=s(v,w),v.return=g,v)}function f(g,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=ca(""+v,g.mode,w),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Gs:return w=To(v.type,v.key,v.props,null,g.mode,w),w.ref=Bn(g,null,v),w.return=g,w;case Yr:return v=ua(v,g.mode,w),v.return=g,v;case Wt:var _=v._init;return f(g,_(v._payload),w)}if(Yn(v)||$n(v))return v=Pr(v,g.mode,w,null),v.return=g,v;so(g,v)}return null}function h(g,v,w,_){var b=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return b!==null?null:a(g,v,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Gs:return w.key===b?l(g,v,w,_):null;case Yr:return w.key===b?u(g,v,w,_):null;case Wt:return b=w._init,h(g,v,b(w._payload),_)}if(Yn(w)||$n(w))return b!==null?null:d(g,v,w,_,null);so(g,w)}return null}function m(g,v,w,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(w)||null,a(v,g,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Gs:return g=g.get(_.key===null?w:_.key)||null,l(v,g,_,b);case Yr:return g=g.get(_.key===null?w:_.key)||null,u(v,g,_,b);case Wt:var E=_._init;return m(g,v,w,E(_._payload),b)}if(Yn(_)||$n(_))return g=g.get(w)||null,d(v,g,_,b,null);so(v,_)}return null}function x(g,v,w,_){for(var b=null,E=null,S=v,j=v=0,P=null;S!==null&&j<w.length;j++){S.index>j?(P=S,S=null):P=S.sibling;var N=h(g,S,w[j],_);if(N===null){S===null&&(S=P);break}e&&S&&N.alternate===null&&t(g,S),v=o(N,v,j),E===null?b=N:E.sibling=N,E=N,S=P}if(j===w.length)return r(g,S),te&&xr(g,j),b;if(S===null){for(;j<w.length;j++)S=f(g,w[j],_),S!==null&&(v=o(S,v,j),E===null?b=S:E.sibling=S,E=S);return te&&xr(g,j),b}for(S=n(g,S);j<w.length;j++)P=m(S,g,j,w[j],_),P!==null&&(e&&P.alternate!==null&&S.delete(P.key===null?j:P.key),v=o(P,v,j),E===null?b=P:E.sibling=P,E=P);return e&&S.forEach(function(O){return t(g,O)}),te&&xr(g,j),b}function y(g,v,w,_){var b=$n(w);if(typeof b!="function")throw Error(C(150));if(w=b.call(w),w==null)throw Error(C(151));for(var E=b=null,S=v,j=v=0,P=null,N=w.next();S!==null&&!N.done;j++,N=w.next()){S.index>j?(P=S,S=null):P=S.sibling;var O=h(g,S,N.value,_);if(O===null){S===null&&(S=P);break}e&&S&&O.alternate===null&&t(g,S),v=o(O,v,j),E===null?b=O:E.sibling=O,E=O,S=P}if(N.done)return r(g,S),te&&xr(g,j),b;if(S===null){for(;!N.done;j++,N=w.next())N=f(g,N.value,_),N!==null&&(v=o(N,v,j),E===null?b=N:E.sibling=N,E=N);return te&&xr(g,j),b}for(S=n(g,S);!N.done;j++,N=w.next())N=m(S,g,j,N.value,_),N!==null&&(e&&N.alternate!==null&&S.delete(N.key===null?j:N.key),v=o(N,v,j),E===null?b=N:E.sibling=N,E=N);return e&&S.forEach(function(T){return t(g,T)}),te&&xr(g,j),b}function k(g,v,w,_){if(typeof w=="object"&&w!==null&&w.type===Xr&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Gs:e:{for(var b=w.key,E=v;E!==null;){if(E.key===b){if(b=w.type,b===Xr){if(E.tag===7){r(g,E.sibling),v=s(E,w.props.children),v.return=g,g=v;break e}}else if(E.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Wt&&Du(b)===E.type){r(g,E.sibling),v=s(E,w.props),v.ref=Bn(g,E,w),v.return=g,g=v;break e}r(g,E);break}else t(g,E);E=E.sibling}w.type===Xr?(v=Pr(w.props.children,g.mode,_,w.key),v.return=g,g=v):(_=To(w.type,w.key,w.props,null,g.mode,_),_.ref=Bn(g,v,w),_.return=g,g=_)}return i(g);case Yr:e:{for(E=w.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){r(g,v.sibling),v=s(v,w.children||[]),v.return=g,g=v;break e}else{r(g,v);break}else t(g,v);v=v.sibling}v=ua(w,g.mode,_),v.return=g,g=v}return i(g);case Wt:return E=w._init,k(g,v,E(w._payload),_)}if(Yn(w))return x(g,v,w,_);if($n(w))return y(g,v,w,_);so(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(r(g,v.sibling),v=s(v,w),v.return=g,g=v):(r(g,v),v=ca(w,g.mode,_),v.return=g,g=v),i(g)):r(g,v)}return k}var _n=_h(!0),bh=_h(!1),Ko=fr(null),Jo=null,an=null,oc=null;function ic(){oc=an=Jo=null}function ac(e){var t=Ko.current;ee(Ko),e._currentValue=t}function sl(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function pn(e,t){Jo=e,oc=an=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ue=!0),e.firstContext=null)}function rt(e){var t=e._currentValue;if(oc!==e)if(e={context:e,memoizedValue:t,next:null},an===null){if(Jo===null)throw Error(C(308));an=e,Jo.dependencies={lanes:0,firstContext:e}}else an=an.next=e;return t}var jr=null;function lc(e){jr===null?jr=[e]:jr.push(e)}function Sh(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,lc(t)):(r.next=s.next,s.next=r),t.interleaved=r,Tt(e,n)}function Tt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ht=!1;function cc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Eh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ct(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function rr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,W&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Tt(e,r)}return s=n.interleaved,s===null?(t.next=t,lc(n)):(t.next=s.next,s.next=t),n.interleaved=t,Tt(e,r)}function Eo(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Kl(e,r)}}function $u(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?s=o=t:o=o.next=t}else s=o=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Qo(e,t,r,n){var s=e.updateQueue;Ht=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,i===null?o=u:i.next=u,i=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(o!==null){var f=s.baseState;i=0,d=u=l=null,a=o;do{var h=a.lane,m=a.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,y=a;switch(h=t,m=r,y.tag){case 1:if(x=y.payload,typeof x=="function"){f=x.call(m,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,h=typeof x=="function"?x.call(m,f,h):x,h==null)break e;f=ie({},f,h);break e;case 2:Ht=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=f):d=d.next=m,i|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Or|=i,e.lanes=i,e.memoizedState=f}}function Uu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(C(191,s));s.call(n)}}}var zs={},kt=fr(zs),bs=fr(zs),Ss=fr(zs);function Cr(e){if(e===zs)throw Error(C(174));return e}function uc(e,t){switch(Y(Ss,t),Y(bs,e),Y(kt,zs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ua(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ua(t,e)}ee(kt),Y(kt,t)}function bn(){ee(kt),ee(bs),ee(Ss)}function jh(e){Cr(Ss.current);var t=Cr(kt.current),r=Ua(t,e.type);t!==r&&(Y(bs,e),Y(kt,r))}function dc(e){bs.current===e&&(ee(kt),ee(bs))}var se=fr(0);function Yo(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function fc(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var jo=Ot.ReactCurrentDispatcher,sa=Ot.ReactCurrentBatchConfig,Ar=0,oe=null,me=null,we=null,Xo=!1,is=!1,Es=0,gy=0;function je(){throw Error(C(321))}function hc(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!pt(e[r],t[r]))return!1;return!0}function pc(e,t,r,n,s,o){if(Ar=o,oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,jo.current=e===null||e.memoizedState===null?xy:ky,e=r(n,s),is){o=0;do{if(is=!1,Es=0,25<=o)throw Error(C(301));o+=1,we=me=null,t.updateQueue=null,jo.current=_y,e=r(n,s)}while(is)}if(jo.current=Zo,t=me!==null&&me.next!==null,Ar=0,we=me=oe=null,Xo=!1,t)throw Error(C(300));return e}function mc(){var e=Es!==0;return Es=0,e}function vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?oe.memoizedState=we=e:we=we.next=e,we}function nt(){if(me===null){var e=oe.alternate;e=e!==null?e.memoizedState:null}else e=me.next;var t=we===null?oe.memoizedState:we.next;if(t!==null)we=t,me=e;else{if(e===null)throw Error(C(310));me=e,e={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},we===null?oe.memoizedState=we=e:we=we.next=e}return we}function js(e,t){return typeof t=="function"?t(e):t}function oa(e){var t=nt(),r=t.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=e;var n=me,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var a=i=null,l=null,u=o;do{var d=u.lane;if((Ar&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,i=n):l=l.next=f,oe.lanes|=d,Or|=d}u=u.next}while(u!==null&&u!==o);l===null?i=n:l.next=a,pt(n,t.memoizedState)||(Ue=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do o=s.lane,oe.lanes|=o,Or|=o,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ia(e){var t=nt(),r=t.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,o=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);pt(o,t.memoizedState)||(Ue=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Ch(){}function Nh(e,t){var r=oe,n=nt(),s=t(),o=!pt(n.memoizedState,s);if(o&&(n.memoizedState=s,Ue=!0),n=n.queue,gc(Th.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||we!==null&&we.memoizedState.tag&1){if(r.flags|=2048,Cs(9,Rh.bind(null,r,n,s,t),void 0,null),xe===null)throw Error(C(349));Ar&30||Ph(r,t,s)}return s}function Ph(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Rh(e,t,r,n){t.value=r,t.getSnapshot=n,Ah(t)&&Oh(e)}function Th(e,t,r){return r(function(){Ah(t)&&Oh(e)})}function Ah(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!pt(e,r)}catch{return!0}}function Oh(e){var t=Tt(e,1);t!==null&&ft(t,e,1,-1)}function Mu(e){var t=vt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:e},t.queue=e,e=e.dispatch=wy.bind(null,oe,e),[t.memoizedState,e]}function Cs(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Lh(){return nt().memoizedState}function Co(e,t,r,n){var s=vt();oe.flags|=e,s.memoizedState=Cs(1|t,r,void 0,n===void 0?null:n)}function yi(e,t,r,n){var s=nt();n=n===void 0?null:n;var o=void 0;if(me!==null){var i=me.memoizedState;if(o=i.destroy,n!==null&&hc(n,i.deps)){s.memoizedState=Cs(t,r,o,n);return}}oe.flags|=e,s.memoizedState=Cs(1|t,r,o,n)}function Fu(e,t){return Co(8390656,8,e,t)}function gc(e,t){return yi(2048,8,e,t)}function Ih(e,t){return yi(4,2,e,t)}function Dh(e,t){return yi(4,4,e,t)}function $h(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Uh(e,t,r){return r=r!=null?r.concat([e]):null,yi(4,4,$h.bind(null,t,e),r)}function vc(){}function Mh(e,t){var r=nt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&hc(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Fh(e,t){var r=nt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&hc(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function zh(e,t,r){return Ar&21?(pt(r,t)||(r=qf(),oe.lanes|=r,Or|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ue=!0),e.memoizedState=r)}function vy(e,t){var r=V;V=r!==0&&4>r?r:4,e(!0);var n=sa.transition;sa.transition={};try{e(!1),t()}finally{V=r,sa.transition=n}}function Bh(){return nt().memoizedState}function yy(e,t,r){var n=sr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Wh(e))Hh(t,r);else if(r=Sh(e,t,r,n),r!==null){var s=Te();ft(r,e,n,s),Vh(r,t,n)}}function wy(e,t,r){var n=sr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Wh(e))Hh(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,r);if(s.hasEagerState=!0,s.eagerState=a,pt(a,i)){var l=t.interleaved;l===null?(s.next=s,lc(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=Sh(e,t,s,n),r!==null&&(s=Te(),ft(r,e,n,s),Vh(r,t,n))}}function Wh(e){var t=e.alternate;return e===oe||t!==null&&t===oe}function Hh(e,t){is=Xo=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Vh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Kl(e,r)}}var Zo={readContext:rt,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useInsertionEffect:je,useLayoutEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useMutableSource:je,useSyncExternalStore:je,useId:je,unstable_isNewReconciler:!1},xy={readContext:rt,useCallback:function(e,t){return vt().memoizedState=[e,t===void 0?null:t],e},useContext:rt,useEffect:Fu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Co(4194308,4,$h.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Co(4194308,4,e,t)},useInsertionEffect:function(e,t){return Co(4,2,e,t)},useMemo:function(e,t){var r=vt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=vt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=yy.bind(null,oe,e),[n.memoizedState,e]},useRef:function(e){var t=vt();return e={current:e},t.memoizedState=e},useState:Mu,useDebugValue:vc,useDeferredValue:function(e){return vt().memoizedState=e},useTransition:function(){var e=Mu(!1),t=e[0];return e=vy.bind(null,e[1]),vt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=oe,s=vt();if(te){if(r===void 0)throw Error(C(407));r=r()}else{if(r=t(),xe===null)throw Error(C(349));Ar&30||Ph(n,t,r)}s.memoizedState=r;var o={value:r,getSnapshot:t};return s.queue=o,Fu(Th.bind(null,n,o,e),[e]),n.flags|=2048,Cs(9,Rh.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=vt(),t=xe.identifierPrefix;if(te){var r=jt,n=Et;r=(n&~(1<<32-dt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Es++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=gy++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ky={readContext:rt,useCallback:Mh,useContext:rt,useEffect:gc,useImperativeHandle:Uh,useInsertionEffect:Ih,useLayoutEffect:Dh,useMemo:Fh,useReducer:oa,useRef:Lh,useState:function(){return oa(js)},useDebugValue:vc,useDeferredValue:function(e){var t=nt();return zh(t,me.memoizedState,e)},useTransition:function(){var e=oa(js)[0],t=nt().memoizedState;return[e,t]},useMutableSource:Ch,useSyncExternalStore:Nh,useId:Bh,unstable_isNewReconciler:!1},_y={readContext:rt,useCallback:Mh,useContext:rt,useEffect:gc,useImperativeHandle:Uh,useInsertionEffect:Ih,useLayoutEffect:Dh,useMemo:Fh,useReducer:ia,useRef:Lh,useState:function(){return ia(js)},useDebugValue:vc,useDeferredValue:function(e){var t=nt();return me===null?t.memoizedState=e:zh(t,me.memoizedState,e)},useTransition:function(){var e=ia(js)[0],t=nt().memoizedState;return[e,t]},useMutableSource:Ch,useSyncExternalStore:Nh,useId:Bh,unstable_isNewReconciler:!1};function at(e,t){if(e&&e.defaultProps){t=ie({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ol(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ie({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var wi={isMounted:function(e){return(e=e._reactInternals)?Fr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Te(),s=sr(e),o=Ct(n,s);o.payload=t,r!=null&&(o.callback=r),t=rr(e,o,s),t!==null&&(ft(t,e,s,n),Eo(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Te(),s=sr(e),o=Ct(n,s);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=rr(e,o,s),t!==null&&(ft(t,e,s,n),Eo(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Te(),n=sr(e),s=Ct(r,n);s.tag=2,t!=null&&(s.callback=t),t=rr(e,s,n),t!==null&&(ft(t,e,n,r),Eo(t,e,n))}};function zu(e,t,r,n,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!ws(r,n)||!ws(s,o):!0}function qh(e,t,r){var n=!1,s=cr,o=t.contextType;return typeof o=="object"&&o!==null?o=rt(o):(s=Fe(t)?Rr:Pe.current,n=t.contextTypes,o=(n=n!=null)?xn(e,s):cr),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Bu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&wi.enqueueReplaceState(t,t.state,null)}function il(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},cc(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=rt(o):(o=Fe(t)?Rr:Pe.current,s.context=xn(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(ol(e,t,o,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&wi.enqueueReplaceState(s,s.state,null),Qo(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Sn(e,t){try{var r="",n=t;do r+=Qg(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function aa(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function al(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var by=typeof WeakMap=="function"?WeakMap:Map;function Gh(e,t,r){r=Ct(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ti||(ti=!0,vl=n),al(e,t)},r}function Kh(e,t,r){r=Ct(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){al(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){al(e,t),typeof n!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Wu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new by;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=$y.bind(null,e,t,r),t.then(e,e))}function Hu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Vu(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ct(-1,1),t.tag=2,rr(r,t,1))),r.lanes|=1),e)}var Sy=Ot.ReactCurrentOwner,Ue=!1;function Re(e,t,r,n){t.child=e===null?bh(t,null,r,n):_n(t,e.child,r,n)}function qu(e,t,r,n,s){r=r.render;var o=t.ref;return pn(t,s),n=pc(e,t,r,n,o,s),r=mc(),e!==null&&!Ue?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,At(e,t,s)):(te&&r&&rc(t),t.flags|=1,Re(e,t,n,s),t.child)}function Gu(e,t,r,n,s){if(e===null){var o=r.type;return typeof o=="function"&&!Ec(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,Jh(e,t,o,n,s)):(e=To(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:ws,r(i,n)&&e.ref===t.ref)return At(e,t,s)}return t.flags|=1,e=or(o,n),e.ref=t.ref,e.return=t,t.child=e}function Jh(e,t,r,n,s){if(e!==null){var o=e.memoizedProps;if(ws(o,n)&&e.ref===t.ref)if(Ue=!1,t.pendingProps=n=o,(e.lanes&s)!==0)e.flags&131072&&(Ue=!0);else return t.lanes=e.lanes,At(e,t,s)}return ll(e,t,r,n,s)}function Qh(e,t,r){var n=t.pendingProps,s=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Y(cn,We),We|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Y(cn,We),We|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Y(cn,We),We|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Y(cn,We),We|=n;return Re(e,t,s,r),t.child}function Yh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ll(e,t,r,n,s){var o=Fe(r)?Rr:Pe.current;return o=xn(t,o),pn(t,s),r=pc(e,t,r,n,o,s),n=mc(),e!==null&&!Ue?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,At(e,t,s)):(te&&n&&rc(t),t.flags|=1,Re(e,t,r,s),t.child)}function Ku(e,t,r,n,s){if(Fe(r)){var o=!0;Vo(t)}else o=!1;if(pn(t,s),t.stateNode===null)No(e,t),qh(t,r,n),il(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=rt(u):(u=Fe(r)?Rr:Pe.current,u=xn(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==n||l!==u)&&Bu(t,i,n,u),Ht=!1;var h=t.memoizedState;i.state=h,Qo(t,n,i,s),l=t.memoizedState,a!==n||h!==l||Me.current||Ht?(typeof d=="function"&&(ol(t,r,d,n),l=t.memoizedState),(a=Ht||zu(t,r,a,n,h,l,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=u,n=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Eh(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:at(t.type,a),i.props=u,f=t.pendingProps,h=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=rt(l):(l=Fe(r)?Rr:Pe.current,l=xn(t,l));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==f||h!==l)&&Bu(t,i,n,l),Ht=!1,h=t.memoizedState,i.state=h,Qo(t,n,i,s);var x=t.memoizedState;a!==f||h!==x||Me.current||Ht?(typeof m=="function"&&(ol(t,r,m,n),x=t.memoizedState),(u=Ht||zu(t,r,u,n,h,x,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,x,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,x,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),i.props=n,i.state=x,i.context=l,n=u):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return cl(e,t,r,n,o,s)}function cl(e,t,r,n,s,o){Yh(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&Ou(t,r,!1),At(e,t,o);n=t.stateNode,Sy.current=t;var a=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=_n(t,e.child,null,o),t.child=_n(t,null,a,o)):Re(e,t,a,o),t.memoizedState=n.state,s&&Ou(t,r,!0),t.child}function Xh(e){var t=e.stateNode;t.pendingContext?Au(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Au(e,t.context,!1),uc(e,t.containerInfo)}function Ju(e,t,r,n,s){return kn(),sc(s),t.flags|=256,Re(e,t,r,n),t.child}var ul={dehydrated:null,treeContext:null,retryLane:0};function dl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Zh(e,t,r){var n=t.pendingProps,s=se.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Y(se,s&1),e===null)return nl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=_i(i,n,0,null),e=Pr(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=dl(r),t.memoizedState=ul,e):yc(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Ey(e,t,i,n,a,s,r);if(o){o=n.fallback,i=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=or(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=or(a,o):(o=Pr(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?dl(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=ul,n}return o=e.child,e=o.sibling,n=or(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function yc(e,t){return t=_i({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function oo(e,t,r,n){return n!==null&&sc(n),_n(t,e.child,null,r),e=yc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ey(e,t,r,n,s,o,i){if(r)return t.flags&256?(t.flags&=-257,n=aa(Error(C(422))),oo(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,s=t.mode,n=_i({mode:"visible",children:n.children},s,0,null),o=Pr(o,s,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&_n(t,e.child,null,i),t.child.memoizedState=dl(i),t.memoizedState=ul,o);if(!(t.mode&1))return oo(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(C(419)),n=aa(o,n,void 0),oo(e,t,i,n)}if(a=(i&e.childLanes)!==0,Ue||a){if(n=xe,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Tt(e,s),ft(n,e,s,-1))}return Sc(),n=aa(Error(C(421))),oo(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Uy.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,He=tr(s.nextSibling),Ve=t,te=!0,ut=null,e!==null&&(Ye[Xe++]=Et,Ye[Xe++]=jt,Ye[Xe++]=Tr,Et=e.id,jt=e.overflow,Tr=t),t=yc(t,n.children),t.flags|=4096,t)}function Qu(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),sl(e.return,t,r)}function la(e,t,r,n,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function ep(e,t,r){var n=t.pendingProps,s=n.revealOrder,o=n.tail;if(Re(e,t,n.children,r),n=se.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qu(e,r,t);else if(e.tag===19)Qu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Y(se,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Yo(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),la(t,!1,s,r,o);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Yo(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}la(t,!0,r,null,o);break;case"together":la(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function No(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function At(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Or|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,r=or(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=or(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function jy(e,t,r){switch(t.tag){case 3:Xh(t),kn();break;case 5:jh(t);break;case 1:Fe(t.type)&&Vo(t);break;case 4:uc(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Y(Ko,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Y(se,se.current&1),t.flags|=128,null):r&t.child.childLanes?Zh(e,t,r):(Y(se,se.current&1),e=At(e,t,r),e!==null?e.sibling:null);Y(se,se.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return ep(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Y(se,se.current),n)break;return null;case 22:case 23:return t.lanes=0,Qh(e,t,r)}return At(e,t,r)}var tp,fl,rp,np;tp=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};fl=function(){};rp=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Cr(kt.current);var o=null;switch(r){case"input":s=La(e,s),n=La(e,n),o=[];break;case"select":s=ie({},s,{value:void 0}),n=ie({},n,{value:void 0}),o=[];break;case"textarea":s=$a(e,s),n=$a(e,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Wo)}Ma(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fs.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var l=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(o||(o=[]),o.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Z("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};np=function(e,t,r,n){r!==n&&(t.flags|=4)};function Wn(e,t){if(!te)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ce(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Cy(e,t,r){var n=t.pendingProps;switch(nc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ce(t),null;case 1:return Fe(t.type)&&Ho(),Ce(t),null;case 3:return n=t.stateNode,bn(),ee(Me),ee(Pe),fc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(no(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ut!==null&&(xl(ut),ut=null))),fl(e,t),Ce(t),null;case 5:dc(t);var s=Cr(Ss.current);if(r=t.type,e!==null&&t.stateNode!=null)rp(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(C(166));return Ce(t),null}if(e=Cr(kt.current),no(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[yt]=t,n[_s]=o,e=(t.mode&1)!==0,r){case"dialog":Z("cancel",n),Z("close",n);break;case"iframe":case"object":case"embed":Z("load",n);break;case"video":case"audio":for(s=0;s<Zn.length;s++)Z(Zn[s],n);break;case"source":Z("error",n);break;case"img":case"image":case"link":Z("error",n),Z("load",n);break;case"details":Z("toggle",n);break;case"input":ou(n,o),Z("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Z("invalid",n);break;case"textarea":au(n,o),Z("invalid",n)}Ma(r,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&ro(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&ro(n.textContent,a,e),s=["children",""+a]):fs.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Z("scroll",n)}switch(r){case"input":Ks(n),iu(n,o,!0);break;case"textarea":Ks(n),lu(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Wo)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Tf(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[yt]=t,e[_s]=n,tp(e,t,!1,!1),t.stateNode=e;e:{switch(i=Fa(r,n),r){case"dialog":Z("cancel",e),Z("close",e),s=n;break;case"iframe":case"object":case"embed":Z("load",e),s=n;break;case"video":case"audio":for(s=0;s<Zn.length;s++)Z(Zn[s],e);s=n;break;case"source":Z("error",e),s=n;break;case"img":case"image":case"link":Z("error",e),Z("load",e),s=n;break;case"details":Z("toggle",e),s=n;break;case"input":ou(e,n),s=La(e,n),Z("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ie({},n,{value:void 0}),Z("invalid",e);break;case"textarea":au(e,n),s=$a(e,n),Z("invalid",e);break;default:s=n}Ma(r,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Lf(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Af(e,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&hs(e,l):typeof l=="number"&&hs(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(fs.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Z("scroll",e):l!=null&&Bl(e,o,l,i))}switch(r){case"input":Ks(e),iu(e,n,!1);break;case"textarea":Ks(e),lu(e);break;case"option":n.value!=null&&e.setAttribute("value",""+lr(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?un(e,!!n.multiple,o,!1):n.defaultValue!=null&&un(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Wo)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ce(t),null;case 6:if(e&&t.stateNode!=null)np(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(C(166));if(r=Cr(Ss.current),Cr(kt.current),no(t)){if(n=t.stateNode,r=t.memoizedProps,n[yt]=t,(o=n.nodeValue!==r)&&(e=Ve,e!==null))switch(e.tag){case 3:ro(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ro(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[yt]=t,t.stateNode=n}return Ce(t),null;case 13:if(ee(se),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(te&&He!==null&&t.mode&1&&!(t.flags&128))kh(),kn(),t.flags|=98560,o=!1;else if(o=no(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(C(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(C(317));o[yt]=t}else kn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ce(t),o=!1}else ut!==null&&(xl(ut),ut=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||se.current&1?ge===0&&(ge=3):Sc())),t.updateQueue!==null&&(t.flags|=4),Ce(t),null);case 4:return bn(),fl(e,t),e===null&&xs(t.stateNode.containerInfo),Ce(t),null;case 10:return ac(t.type._context),Ce(t),null;case 17:return Fe(t.type)&&Ho(),Ce(t),null;case 19:if(ee(se),o=t.memoizedState,o===null)return Ce(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)Wn(o,!1);else{if(ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Yo(e),i!==null){for(t.flags|=128,Wn(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Y(se,se.current&1|2),t.child}e=e.sibling}o.tail!==null&&ce()>En&&(t.flags|=128,n=!0,Wn(o,!1),t.lanes=4194304)}else{if(!n)if(e=Yo(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Wn(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!te)return Ce(t),null}else 2*ce()-o.renderingStartTime>En&&r!==1073741824&&(t.flags|=128,n=!0,Wn(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ce(),t.sibling=null,r=se.current,Y(se,n?r&1|2:r&1),t):(Ce(t),null);case 22:case 23:return bc(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?We&1073741824&&(Ce(t),t.subtreeFlags&6&&(t.flags|=8192)):Ce(t),null;case 24:return null;case 25:return null}throw Error(C(156,t.tag))}function Ny(e,t){switch(nc(t),t.tag){case 1:return Fe(t.type)&&Ho(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return bn(),ee(Me),ee(Pe),fc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return dc(t),null;case 13:if(ee(se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));kn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ee(se),null;case 4:return bn(),null;case 10:return ac(t.type._context),null;case 22:case 23:return bc(),null;case 24:return null;default:return null}}var io=!1,Ne=!1,Py=typeof WeakSet=="function"?WeakSet:Set,A=null;function ln(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ae(e,t,n)}else r.current=null}function hl(e,t,r){try{r()}catch(n){ae(e,t,n)}}var Yu=!1;function Ry(e,t){if(Qa=Fo,e=lh(),tc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,a=-1,l=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||s!==0&&f.nodeType!==3||(a=i+s),f!==o||n!==0&&f.nodeType!==3||(l=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===s&&(a=i),h===o&&++d===n&&(l=i),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ya={focusedElem:e,selectionRange:r},Fo=!1,A=t;A!==null;)if(t=A,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,A=e;else for(;A!==null;){t=A;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var y=x.memoizedProps,k=x.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:at(t.type,y),k);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(_){ae(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,A=e;break}A=t.return}return x=Yu,Yu=!1,x}function as(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&hl(t,r,o)}s=s.next}while(s!==n)}}function xi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function pl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function sp(e){var t=e.alternate;t!==null&&(e.alternate=null,sp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[yt],delete t[_s],delete t[el],delete t[fy],delete t[hy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function op(e){return e.tag===5||e.tag===3||e.tag===4}function Xu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||op(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ml(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Wo));else if(n!==4&&(e=e.child,e!==null))for(ml(e,t,r),e=e.sibling;e!==null;)ml(e,t,r),e=e.sibling}function gl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(gl(e,t,r),e=e.sibling;e!==null;)gl(e,t,r),e=e.sibling}var _e=null,lt=!1;function $t(e,t,r){for(r=r.child;r!==null;)ip(e,t,r),r=r.sibling}function ip(e,t,r){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(fi,r)}catch{}switch(r.tag){case 5:Ne||ln(r,t);case 6:var n=_e,s=lt;_e=null,$t(e,t,r),_e=n,lt=s,_e!==null&&(lt?(e=_e,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):_e.removeChild(r.stateNode));break;case 18:_e!==null&&(lt?(e=_e,r=r.stateNode,e.nodeType===8?ta(e.parentNode,r):e.nodeType===1&&ta(e,r),vs(e)):ta(_e,r.stateNode));break;case 4:n=_e,s=lt,_e=r.stateNode.containerInfo,lt=!0,$t(e,t,r),_e=n,lt=s;break;case 0:case 11:case 14:case 15:if(!Ne&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&hl(r,t,i),s=s.next}while(s!==n)}$t(e,t,r);break;case 1:if(!Ne&&(ln(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){ae(r,t,a)}$t(e,t,r);break;case 21:$t(e,t,r);break;case 22:r.mode&1?(Ne=(n=Ne)||r.memoizedState!==null,$t(e,t,r),Ne=n):$t(e,t,r);break;default:$t(e,t,r)}}function Zu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Py),t.forEach(function(n){var s=My.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function ot(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:_e=a.stateNode,lt=!1;break e;case 3:_e=a.stateNode.containerInfo,lt=!0;break e;case 4:_e=a.stateNode.containerInfo,lt=!0;break e}a=a.return}if(_e===null)throw Error(C(160));ip(o,i,s),_e=null,lt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ae(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ap(t,e),t=t.sibling}function ap(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ot(t,e),gt(e),n&4){try{as(3,e,e.return),xi(3,e)}catch(y){ae(e,e.return,y)}try{as(5,e,e.return)}catch(y){ae(e,e.return,y)}}break;case 1:ot(t,e),gt(e),n&512&&r!==null&&ln(r,r.return);break;case 5:if(ot(t,e),gt(e),n&512&&r!==null&&ln(r,r.return),e.flags&32){var s=e.stateNode;try{hs(s,"")}catch(y){ae(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Pf(s,o),Fa(a,i);var u=Fa(a,o);for(i=0;i<l.length;i+=2){var d=l[i],f=l[i+1];d==="style"?Lf(s,f):d==="dangerouslySetInnerHTML"?Af(s,f):d==="children"?hs(s,f):Bl(s,d,f,u)}switch(a){case"input":Ia(s,o);break;case"textarea":Rf(s,o);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?un(s,!!o.multiple,m,!1):h!==!!o.multiple&&(o.defaultValue!=null?un(s,!!o.multiple,o.defaultValue,!0):un(s,!!o.multiple,o.multiple?[]:"",!1))}s[_s]=o}catch(y){ae(e,e.return,y)}}break;case 6:if(ot(t,e),gt(e),n&4){if(e.stateNode===null)throw Error(C(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(y){ae(e,e.return,y)}}break;case 3:if(ot(t,e),gt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{vs(t.containerInfo)}catch(y){ae(e,e.return,y)}break;case 4:ot(t,e),gt(e);break;case 13:ot(t,e),gt(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(kc=ce())),n&4&&Zu(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ne=(u=Ne)||d,ot(t,e),Ne=u):ot(t,e),gt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(A=e,d=e.child;d!==null;){for(f=A=d;A!==null;){switch(h=A,m=h.child,h.tag){case 0:case 11:case 14:case 15:as(4,h,h.return);break;case 1:ln(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(y){ae(n,r,y)}}break;case 5:ln(h,h.return);break;case 22:if(h.memoizedState!==null){td(f);continue}}m!==null?(m.return=h,A=m):td(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Of("display",i))}catch(y){ae(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){ae(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ot(t,e),gt(e),n&4&&Zu(e);break;case 21:break;default:ot(t,e),gt(e)}}function gt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(op(r)){var n=r;break e}r=r.return}throw Error(C(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(hs(s,""),n.flags&=-33);var o=Xu(e);gl(e,o,s);break;case 3:case 4:var i=n.stateNode.containerInfo,a=Xu(e);ml(e,a,i);break;default:throw Error(C(161))}}catch(l){ae(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ty(e,t,r){A=e,lp(e)}function lp(e,t,r){for(var n=(e.mode&1)!==0;A!==null;){var s=A,o=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||io;if(!i){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ne;a=io;var u=Ne;if(io=i,(Ne=l)&&!u)for(A=s;A!==null;)i=A,l=i.child,i.tag===22&&i.memoizedState!==null?rd(s):l!==null?(l.return=i,A=l):rd(s);for(;o!==null;)A=o,lp(o),o=o.sibling;A=s,io=a,Ne=u}ed(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,A=o):ed(e)}}function ed(e){for(;A!==null;){var t=A;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ne||xi(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ne)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:at(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Uu(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Uu(t,i,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&vs(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}Ne||t.flags&512&&pl(t)}catch(h){ae(t,t.return,h)}}if(t===e){A=null;break}if(r=t.sibling,r!==null){r.return=t.return,A=r;break}A=t.return}}function td(e){for(;A!==null;){var t=A;if(t===e){A=null;break}var r=t.sibling;if(r!==null){r.return=t.return,A=r;break}A=t.return}}function rd(e){for(;A!==null;){var t=A;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{xi(4,t)}catch(l){ae(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){ae(t,s,l)}}var o=t.return;try{pl(t)}catch(l){ae(t,o,l)}break;case 5:var i=t.return;try{pl(t)}catch(l){ae(t,i,l)}}}catch(l){ae(t,t.return,l)}if(t===e){A=null;break}var a=t.sibling;if(a!==null){a.return=t.return,A=a;break}A=t.return}}var Ay=Math.ceil,ei=Ot.ReactCurrentDispatcher,wc=Ot.ReactCurrentOwner,et=Ot.ReactCurrentBatchConfig,W=0,xe=null,fe=null,Se=0,We=0,cn=fr(0),ge=0,Ns=null,Or=0,ki=0,xc=0,ls=null,De=null,kc=0,En=1/0,bt=null,ti=!1,vl=null,nr=null,ao=!1,Qt=null,ri=0,cs=0,yl=null,Po=-1,Ro=0;function Te(){return W&6?ce():Po!==-1?Po:Po=ce()}function sr(e){return e.mode&1?W&2&&Se!==0?Se&-Se:my.transition!==null?(Ro===0&&(Ro=qf()),Ro):(e=V,e!==0||(e=window.event,e=e===void 0?16:Zf(e.type)),e):1}function ft(e,t,r,n){if(50<cs)throw cs=0,yl=null,Error(C(185));Us(e,r,n),(!(W&2)||e!==xe)&&(e===xe&&(!(W&2)&&(ki|=r),ge===4&&Gt(e,Se)),ze(e,n),r===1&&W===0&&!(t.mode&1)&&(En=ce()+500,vi&&hr()))}function ze(e,t){var r=e.callbackNode;mv(e,t);var n=Mo(e,e===xe?Se:0);if(n===0)r!==null&&du(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&du(r),t===1)e.tag===0?py(nd.bind(null,e)):yh(nd.bind(null,e)),uy(function(){!(W&6)&&hr()}),r=null;else{switch(Gf(n)){case 1:r=Gl;break;case 4:r=Hf;break;case 16:r=Uo;break;case 536870912:r=Vf;break;default:r=Uo}r=gp(r,cp.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function cp(e,t){if(Po=-1,Ro=0,W&6)throw Error(C(327));var r=e.callbackNode;if(mn()&&e.callbackNode!==r)return null;var n=Mo(e,e===xe?Se:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ni(e,n);else{t=n;var s=W;W|=2;var o=dp();(xe!==e||Se!==t)&&(bt=null,En=ce()+500,Nr(e,t));do try{Iy();break}catch(a){up(e,a)}while(!0);ic(),ei.current=o,W=s,fe!==null?t=0:(xe=null,Se=0,t=ge)}if(t!==0){if(t===2&&(s=Va(e),s!==0&&(n=s,t=wl(e,s))),t===1)throw r=Ns,Nr(e,0),Gt(e,n),ze(e,ce()),r;if(t===6)Gt(e,n);else{if(s=e.current.alternate,!(n&30)&&!Oy(s)&&(t=ni(e,n),t===2&&(o=Va(e),o!==0&&(n=o,t=wl(e,o))),t===1))throw r=Ns,Nr(e,0),Gt(e,n),ze(e,ce()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(C(345));case 2:kr(e,De,bt);break;case 3:if(Gt(e,n),(n&130023424)===n&&(t=kc+500-ce(),10<t)){if(Mo(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Te(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Za(kr.bind(null,e,De,bt),t);break}kr(e,De,bt);break;case 4:if(Gt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-dt(n);o=1<<i,i=t[i],i>s&&(s=i),n&=~o}if(n=s,n=ce()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ay(n/1960))-n,10<n){e.timeoutHandle=Za(kr.bind(null,e,De,bt),n);break}kr(e,De,bt);break;case 5:kr(e,De,bt);break;default:throw Error(C(329))}}}return ze(e,ce()),e.callbackNode===r?cp.bind(null,e):null}function wl(e,t){var r=ls;return e.current.memoizedState.isDehydrated&&(Nr(e,t).flags|=256),e=ni(e,t),e!==2&&(t=De,De=r,t!==null&&xl(t)),e}function xl(e){De===null?De=e:De.push.apply(De,e)}function Oy(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!pt(o(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gt(e,t){for(t&=~xc,t&=~ki,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-dt(t),n=1<<r;e[r]=-1,t&=~n}}function nd(e){if(W&6)throw Error(C(327));mn();var t=Mo(e,0);if(!(t&1))return ze(e,ce()),null;var r=ni(e,t);if(e.tag!==0&&r===2){var n=Va(e);n!==0&&(t=n,r=wl(e,n))}if(r===1)throw r=Ns,Nr(e,0),Gt(e,t),ze(e,ce()),r;if(r===6)throw Error(C(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kr(e,De,bt),ze(e,ce()),null}function _c(e,t){var r=W;W|=1;try{return e(t)}finally{W=r,W===0&&(En=ce()+500,vi&&hr())}}function Lr(e){Qt!==null&&Qt.tag===0&&!(W&6)&&mn();var t=W;W|=1;var r=et.transition,n=V;try{if(et.transition=null,V=1,e)return e()}finally{V=n,et.transition=r,W=t,!(W&6)&&hr()}}function bc(){We=cn.current,ee(cn)}function Nr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,cy(r)),fe!==null)for(r=fe.return;r!==null;){var n=r;switch(nc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ho();break;case 3:bn(),ee(Me),ee(Pe),fc();break;case 5:dc(n);break;case 4:bn();break;case 13:ee(se);break;case 19:ee(se);break;case 10:ac(n.type._context);break;case 22:case 23:bc()}r=r.return}if(xe=e,fe=e=or(e.current,null),Se=We=t,ge=0,Ns=null,xc=ki=Or=0,De=ls=null,jr!==null){for(t=0;t<jr.length;t++)if(r=jr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=s,n.next=i}r.pending=n}jr=null}return e}function up(e,t){do{var r=fe;try{if(ic(),jo.current=Zo,Xo){for(var n=oe.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Xo=!1}if(Ar=0,we=me=oe=null,is=!1,Es=0,wc.current=null,r===null||r.return===null){ge=1,Ns=t,fe=null;break}e:{var o=e,i=r.return,a=r,l=t;if(t=Se,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Hu(i);if(m!==null){m.flags&=-257,Vu(m,i,a,o,t),m.mode&1&&Wu(o,u,t),t=m,l=u;var x=t.updateQueue;if(x===null){var y=new Set;y.add(l),t.updateQueue=y}else x.add(l);break e}else{if(!(t&1)){Wu(o,u,t),Sc();break e}l=Error(C(426))}}else if(te&&a.mode&1){var k=Hu(i);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Vu(k,i,a,o,t),sc(Sn(l,a));break e}}o=l=Sn(l,a),ge!==4&&(ge=2),ls===null?ls=[o]:ls.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var g=Gh(o,l,t);$u(o,g);break e;case 1:a=l;var v=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(nr===null||!nr.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=Kh(o,a,t);$u(o,_);break e}}o=o.return}while(o!==null)}hp(r)}catch(b){t=b,fe===r&&r!==null&&(fe=r=r.return);continue}break}while(!0)}function dp(){var e=ei.current;return ei.current=Zo,e===null?Zo:e}function Sc(){(ge===0||ge===3||ge===2)&&(ge=4),xe===null||!(Or&268435455)&&!(ki&268435455)||Gt(xe,Se)}function ni(e,t){var r=W;W|=2;var n=dp();(xe!==e||Se!==t)&&(bt=null,Nr(e,t));do try{Ly();break}catch(s){up(e,s)}while(!0);if(ic(),W=r,ei.current=n,fe!==null)throw Error(C(261));return xe=null,Se=0,ge}function Ly(){for(;fe!==null;)fp(fe)}function Iy(){for(;fe!==null&&!iv();)fp(fe)}function fp(e){var t=mp(e.alternate,e,We);e.memoizedProps=e.pendingProps,t===null?hp(e):fe=t,wc.current=null}function hp(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Ny(r,t),r!==null){r.flags&=32767,fe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ge=6,fe=null;return}}else if(r=Cy(r,t,We),r!==null){fe=r;return}if(t=t.sibling,t!==null){fe=t;return}fe=t=e}while(t!==null);ge===0&&(ge=5)}function kr(e,t,r){var n=V,s=et.transition;try{et.transition=null,V=1,Dy(e,t,r,n)}finally{et.transition=s,V=n}return null}function Dy(e,t,r,n){do mn();while(Qt!==null);if(W&6)throw Error(C(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(C(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(gv(e,o),e===xe&&(fe=xe=null,Se=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ao||(ao=!0,gp(Uo,function(){return mn(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=et.transition,et.transition=null;var i=V;V=1;var a=W;W|=4,wc.current=null,Ry(e,r),ap(r,e),ry(Ya),Fo=!!Qa,Ya=Qa=null,e.current=r,Ty(r),av(),W=a,V=i,et.transition=o}else e.current=r;if(ao&&(ao=!1,Qt=e,ri=s),o=e.pendingLanes,o===0&&(nr=null),uv(r.stateNode),ze(e,ce()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ti)throw ti=!1,e=vl,vl=null,e;return ri&1&&e.tag!==0&&mn(),o=e.pendingLanes,o&1?e===yl?cs++:(cs=0,yl=e):cs=0,hr(),null}function mn(){if(Qt!==null){var e=Gf(ri),t=et.transition,r=V;try{if(et.transition=null,V=16>e?16:e,Qt===null)var n=!1;else{if(e=Qt,Qt=null,ri=0,W&6)throw Error(C(331));var s=W;for(W|=4,A=e.current;A!==null;){var o=A,i=o.child;if(A.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(A=u;A!==null;){var d=A;switch(d.tag){case 0:case 11:case 15:as(8,d,o)}var f=d.child;if(f!==null)f.return=d,A=f;else for(;A!==null;){d=A;var h=d.sibling,m=d.return;if(sp(d),d===u){A=null;break}if(h!==null){h.return=m,A=h;break}A=m}}}var x=o.alternate;if(x!==null){var y=x.child;if(y!==null){x.child=null;do{var k=y.sibling;y.sibling=null,y=k}while(y!==null)}}A=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,A=i;else e:for(;A!==null;){if(o=A,o.flags&2048)switch(o.tag){case 0:case 11:case 15:as(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,A=g;break e}A=o.return}}var v=e.current;for(A=v;A!==null;){i=A;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,A=w;else e:for(i=v;A!==null;){if(a=A,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:xi(9,a)}}catch(b){ae(a,a.return,b)}if(a===i){A=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,A=_;break e}A=a.return}}if(W=s,hr(),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(fi,e)}catch{}n=!0}return n}finally{V=r,et.transition=t}}return!1}function sd(e,t,r){t=Sn(r,t),t=Gh(e,t,1),e=rr(e,t,1),t=Te(),e!==null&&(Us(e,1,t),ze(e,t))}function ae(e,t,r){if(e.tag===3)sd(e,e,r);else for(;t!==null;){if(t.tag===3){sd(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(nr===null||!nr.has(n))){e=Sn(r,e),e=Kh(t,e,1),t=rr(t,e,1),e=Te(),t!==null&&(Us(t,1,e),ze(t,e));break}}t=t.return}}function $y(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Te(),e.pingedLanes|=e.suspendedLanes&r,xe===e&&(Se&r)===r&&(ge===4||ge===3&&(Se&130023424)===Se&&500>ce()-kc?Nr(e,0):xc|=r),ze(e,t)}function pp(e,t){t===0&&(e.mode&1?(t=Ys,Ys<<=1,!(Ys&130023424)&&(Ys=4194304)):t=1);var r=Te();e=Tt(e,t),e!==null&&(Us(e,t,r),ze(e,r))}function Uy(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),pp(e,r)}function My(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(C(314))}n!==null&&n.delete(t),pp(e,r)}var mp;mp=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Me.current)Ue=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ue=!1,jy(e,t,r);Ue=!!(e.flags&131072)}else Ue=!1,te&&t.flags&1048576&&wh(t,Go,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;No(e,t),e=t.pendingProps;var s=xn(t,Pe.current);pn(t,r),s=pc(null,t,n,e,s,r);var o=mc();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fe(n)?(o=!0,Vo(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,cc(t),s.updater=wi,t.stateNode=s,s._reactInternals=t,il(t,n,e,r),t=cl(null,t,n,!0,o,r)):(t.tag=0,te&&o&&rc(t),Re(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(No(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=zy(n),e=at(n,e),s){case 0:t=ll(null,t,n,e,r);break e;case 1:t=Ku(null,t,n,e,r);break e;case 11:t=qu(null,t,n,e,r);break e;case 14:t=Gu(null,t,n,at(n.type,e),r);break e}throw Error(C(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:at(n,s),ll(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:at(n,s),Ku(e,t,n,s,r);case 3:e:{if(Xh(t),e===null)throw Error(C(387));n=t.pendingProps,o=t.memoizedState,s=o.element,Eh(e,t),Qo(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Sn(Error(C(423)),t),t=Ju(e,t,n,r,s);break e}else if(n!==s){s=Sn(Error(C(424)),t),t=Ju(e,t,n,r,s);break e}else for(He=tr(t.stateNode.containerInfo.firstChild),Ve=t,te=!0,ut=null,r=bh(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(kn(),n===s){t=At(e,t,r);break e}Re(e,t,n,r)}t=t.child}return t;case 5:return jh(t),e===null&&nl(t),n=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,Xa(n,s)?i=null:o!==null&&Xa(n,o)&&(t.flags|=32),Yh(e,t),Re(e,t,i,r),t.child;case 6:return e===null&&nl(t),null;case 13:return Zh(e,t,r);case 4:return uc(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=_n(t,null,n,r):Re(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:at(n,s),qu(e,t,n,s,r);case 7:return Re(e,t,t.pendingProps,r),t.child;case 8:return Re(e,t,t.pendingProps.children,r),t.child;case 12:return Re(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,Y(Ko,n._currentValue),n._currentValue=i,o!==null)if(pt(o.value,i)){if(o.children===s.children&&!Me.current){t=At(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=Ct(-1,r&-r),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),sl(o.return,r,t),a.lanes|=r;break}l=l.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(C(341));i.lanes|=r,a=i.alternate,a!==null&&(a.lanes|=r),sl(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Re(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,pn(t,r),s=rt(s),n=n(s),t.flags|=1,Re(e,t,n,r),t.child;case 14:return n=t.type,s=at(n,t.pendingProps),s=at(n.type,s),Gu(e,t,n,s,r);case 15:return Jh(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:at(n,s),No(e,t),t.tag=1,Fe(n)?(e=!0,Vo(t)):e=!1,pn(t,r),qh(t,n,s),il(t,n,s,r),cl(null,t,n,!0,e,r);case 19:return ep(e,t,r);case 22:return Qh(e,t,r)}throw Error(C(156,t.tag))};function gp(e,t){return Wf(e,t)}function Fy(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ze(e,t,r,n){return new Fy(e,t,r,n)}function Ec(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zy(e){if(typeof e=="function")return Ec(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Hl)return 11;if(e===Vl)return 14}return 2}function or(e,t){var r=e.alternate;return r===null?(r=Ze(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function To(e,t,r,n,s,o){var i=2;if(n=e,typeof e=="function")Ec(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Xr:return Pr(r.children,s,o,t);case Wl:i=8,s|=8;break;case Ra:return e=Ze(12,r,t,s|2),e.elementType=Ra,e.lanes=o,e;case Ta:return e=Ze(13,r,t,s),e.elementType=Ta,e.lanes=o,e;case Aa:return e=Ze(19,r,t,s),e.elementType=Aa,e.lanes=o,e;case jf:return _i(r,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Sf:i=10;break e;case Ef:i=9;break e;case Hl:i=11;break e;case Vl:i=14;break e;case Wt:i=16,n=null;break e}throw Error(C(130,e==null?e:typeof e,""))}return t=Ze(i,r,t,s),t.elementType=e,t.type=n,t.lanes=o,t}function Pr(e,t,r,n){return e=Ze(7,e,n,t),e.lanes=r,e}function _i(e,t,r,n){return e=Ze(22,e,n,t),e.elementType=jf,e.lanes=r,e.stateNode={isHidden:!1},e}function ca(e,t,r){return e=Ze(6,e,null,t),e.lanes=r,e}function ua(e,t,r){return t=Ze(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function By(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hi(0),this.expirationTimes=Hi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hi(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function jc(e,t,r,n,s,o,i,a,l){return e=new By(e,t,r,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ze(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},cc(o),e}function Wy(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function vp(e){if(!e)return cr;e=e._reactInternals;e:{if(Fr(e)!==e||e.tag!==1)throw Error(C(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(C(171))}if(e.tag===1){var r=e.type;if(Fe(r))return vh(e,r,t)}return t}function yp(e,t,r,n,s,o,i,a,l){return e=jc(r,n,!0,e,s,o,i,a,l),e.context=vp(null),r=e.current,n=Te(),s=sr(r),o=Ct(n,s),o.callback=t??null,rr(r,o,s),e.current.lanes=s,Us(e,s,n),ze(e,n),e}function bi(e,t,r,n){var s=t.current,o=Te(),i=sr(s);return r=vp(r),t.context===null?t.context=r:t.pendingContext=r,t=Ct(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=rr(s,t,i),e!==null&&(ft(e,s,i,o),Eo(e,s,i)),i}function si(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function od(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Cc(e,t){od(e,t),(e=e.alternate)&&od(e,t)}function Hy(){return null}var wp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Nc(e){this._internalRoot=e}Si.prototype.render=Nc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));bi(e,t,null,null)};Si.prototype.unmount=Nc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Lr(function(){bi(null,e,null,null)}),t[Rt]=null}};function Si(e){this._internalRoot=e}Si.prototype.unstable_scheduleHydration=function(e){if(e){var t=Qf();e={blockedOn:null,target:e,priority:t};for(var r=0;r<qt.length&&t!==0&&t<qt[r].priority;r++);qt.splice(r,0,e),r===0&&Xf(e)}};function Pc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ei(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function id(){}function Vy(e,t,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var u=si(i);o.call(u)}}var i=yp(t,n,e,0,null,!1,!1,"",id);return e._reactRootContainer=i,e[Rt]=i.current,xs(e.nodeType===8?e.parentNode:e),Lr(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=si(l);a.call(u)}}var l=jc(e,0,!1,null,null,!1,!1,"",id);return e._reactRootContainer=l,e[Rt]=l.current,xs(e.nodeType===8?e.parentNode:e),Lr(function(){bi(t,l,r,n)}),l}function ji(e,t,r,n,s){var o=r._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var l=si(i);a.call(l)}}bi(t,i,e,s)}else i=Vy(r,t,e,s,n);return si(i)}Kf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Xn(t.pendingLanes);r!==0&&(Kl(t,r|1),ze(t,ce()),!(W&6)&&(En=ce()+500,hr()))}break;case 13:Lr(function(){var n=Tt(e,1);if(n!==null){var s=Te();ft(n,e,1,s)}}),Cc(e,1)}};Jl=function(e){if(e.tag===13){var t=Tt(e,134217728);if(t!==null){var r=Te();ft(t,e,134217728,r)}Cc(e,134217728)}};Jf=function(e){if(e.tag===13){var t=sr(e),r=Tt(e,t);if(r!==null){var n=Te();ft(r,e,t,n)}Cc(e,t)}};Qf=function(){return V};Yf=function(e,t){var r=V;try{return V=e,t()}finally{V=r}};Ba=function(e,t,r){switch(t){case"input":if(Ia(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=gi(n);if(!s)throw Error(C(90));Nf(n),Ia(n,s)}}}break;case"textarea":Rf(e,r);break;case"select":t=r.value,t!=null&&un(e,!!r.multiple,t,!1)}};$f=_c;Uf=Lr;var qy={usingClientEntryPoint:!1,Events:[Fs,rn,gi,If,Df,_c]},Hn={findFiberByHostInstance:Er,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Gy={bundleType:Hn.bundleType,version:Hn.version,rendererPackageName:Hn.rendererPackageName,rendererConfig:Hn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ot.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=zf(e),e===null?null:e.stateNode},findFiberByHostInstance:Hn.findFiberByHostInstance||Hy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lo.isDisabled&&lo.supportsFiber)try{fi=lo.inject(Gy),xt=lo}catch{}}Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qy;Ge.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pc(t))throw Error(C(200));return Wy(e,t,null,r)};Ge.createRoot=function(e,t){if(!Pc(e))throw Error(C(299));var r=!1,n="",s=wp;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=jc(e,1,!1,null,null,r,!1,n,s),e[Rt]=t.current,xs(e.nodeType===8?e.parentNode:e),new Nc(t)};Ge.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=zf(t),e=e===null?null:e.stateNode,e};Ge.flushSync=function(e){return Lr(e)};Ge.hydrate=function(e,t,r){if(!Ei(t))throw Error(C(200));return ji(null,e,t,!0,r)};Ge.hydrateRoot=function(e,t,r){if(!Pc(e))throw Error(C(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",i=wp;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=yp(t,null,e,1,r??null,s,!1,o,i),e[Rt]=t.current,xs(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Si(t)};Ge.render=function(e,t,r){if(!Ei(t))throw Error(C(200));return ji(null,e,t,!1,r)};Ge.unmountComponentAtNode=function(e){if(!Ei(e))throw Error(C(40));return e._reactRootContainer?(Lr(function(){ji(null,null,e,!1,function(){e._reactRootContainer=null,e[Rt]=null})}),!0):!1};Ge.unstable_batchedUpdates=_c;Ge.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ei(r))throw Error(C(200));if(e==null||e._reactInternals===void 0)throw Error(C(38));return ji(e,t,r,!1,n)};Ge.version="18.3.1-next-f1338f8080-20240426";function xp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xp)}catch(e){console.error(e)}}xp(),xf.exports=Ge;var Rc=xf.exports;const Ky=af(Rc);var ad=Rc;Na.createRoot=ad.createRoot,Na.hydrateRoot=ad.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ps(){return Ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ps.apply(this,arguments)}var Yt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Yt||(Yt={}));const ld="popstate";function Jy(e){e===void 0&&(e={});function t(n,s){let{pathname:o,search:i,hash:a}=n.location;return kl("",{pathname:o,search:i,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:oi(s)}return Yy(t,r,null,e)}function ue(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function kp(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Qy(){return Math.random().toString(36).substr(2,8)}function cd(e,t){return{usr:e.state,key:e.key,idx:t}}function kl(e,t,r,n){return r===void 0&&(r=null),Ps({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?An(t):t,{state:r,key:t&&t.key||n||Qy()})}function oi(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function An(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Yy(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,i=s.history,a=Yt.Pop,l=null,u=d();u==null&&(u=0,i.replaceState(Ps({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){a=Yt.Pop;let k=d(),g=k==null?null:k-u;u=k,l&&l({action:a,location:y.location,delta:g})}function h(k,g){a=Yt.Push;let v=kl(y.location,k,g);u=d()+1;let w=cd(v,u),_=y.createHref(v);try{i.pushState(w,"",_)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;s.location.assign(_)}o&&l&&l({action:a,location:y.location,delta:1})}function m(k,g){a=Yt.Replace;let v=kl(y.location,k,g);u=d();let w=cd(v,u),_=y.createHref(v);i.replaceState(w,"",_),o&&l&&l({action:a,location:y.location,delta:0})}function x(k){let g=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof k=="string"?k:oi(k);return v=v.replace(/ $/,"%20"),ue(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let y={get action(){return a},get location(){return e(s,i)},listen(k){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(ld,f),l=k,()=>{s.removeEventListener(ld,f),l=null}},createHref(k){return t(s,k)},createURL:x,encodeLocation(k){let g=x(k);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:m,go(k){return i.go(k)}};return y}var ud;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ud||(ud={}));function Xy(e,t,r){return r===void 0&&(r="/"),Zy(e,t,r,!1)}function Zy(e,t,r,n){let s=typeof t=="string"?An(t):t,o=Tc(s.pathname||"/",r);if(o==null)return null;let i=_p(e);e0(i);let a=null;for(let l=0;a==null&&l<i.length;++l){let u=d0(o);a=c0(i[l],u,n)}return a}function _p(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,i,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};l.relativePath.startsWith("/")&&(ue(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=ir([n,l.relativePath]),d=r.concat(l);o.children&&o.children.length>0&&(ue(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),_p(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:a0(u,o.index),routesMeta:d})};return e.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let l of bp(o.path))s(o,i,l)}),t}function bp(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let i=bp(n.join("/")),a=[];return a.push(...i.map(l=>l===""?o:[o,l].join("/"))),s&&a.push(...i),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function e0(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:l0(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const t0=/^:[\w-]+$/,r0=3,n0=2,s0=1,o0=10,i0=-2,dd=e=>e==="*";function a0(e,t){let r=e.split("/"),n=r.length;return r.some(dd)&&(n+=i0),t&&(n+=n0),r.filter(s=>!dd(s)).reduce((s,o)=>s+(t0.test(o)?r0:o===""?s0:o0),n)}function l0(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function c0(e,t,r){let{routesMeta:n}=e,s={},o="/",i=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=fd({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=fd({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:ir([o,f.pathname]),pathnameBase:m0(ir([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=ir([o,f.pathnameBase]))}return i}function fd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=u0(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let y=a[f]||"";i=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const x=a[f];return m&&!x?u[h]=void 0:u[h]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function u0(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),kp(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function d0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return kp(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Tc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function f0(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?An(e):e;return{pathname:r?r.startsWith("/")?r:h0(r,t):t,search:g0(n),hash:v0(s)}}function h0(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function da(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function p0(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ac(e,t){let r=p0(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Oc(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=An(e):(s=Ps({},e),ue(!s.pathname||!s.pathname.includes("?"),da("?","pathname","search",s)),ue(!s.pathname||!s.pathname.includes("#"),da("#","pathname","hash",s)),ue(!s.search||!s.search.includes("#"),da("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}a=f>=0?t[f]:"/"}let l=f0(s,a),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const ir=e=>e.join("/").replace(/\/\/+/g,"/"),m0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),g0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,v0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function y0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Sp=["post","put","patch","delete"];new Set(Sp);const w0=["get",...Sp];new Set(w0);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rs(){return Rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rs.apply(this,arguments)}const Lc=p.createContext(null),x0=p.createContext(null),pr=p.createContext(null),Ci=p.createContext(null),Lt=p.createContext({outlet:null,matches:[],isDataRoute:!1}),Ep=p.createContext(null);function k0(e,t){let{relative:r}=t===void 0?{}:t;On()||ue(!1);let{basename:n,navigator:s}=p.useContext(pr),{hash:o,pathname:i,search:a}=Cp(e,{relative:r}),l=i;return n!=="/"&&(l=i==="/"?n:ir([n,i])),s.createHref({pathname:l,search:a,hash:o})}function On(){return p.useContext(Ci)!=null}function mr(){return On()||ue(!1),p.useContext(Ci).location}function jp(e){p.useContext(pr).static||p.useLayoutEffect(e)}function st(){let{isDataRoute:e}=p.useContext(Lt);return e?I0():_0()}function _0(){On()||ue(!1);let e=p.useContext(Lc),{basename:t,future:r,navigator:n}=p.useContext(pr),{matches:s}=p.useContext(Lt),{pathname:o}=mr(),i=JSON.stringify(Ac(s,r.v7_relativeSplatPath)),a=p.useRef(!1);return jp(()=>{a.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let f=Oc(u,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ir([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,o,e])}function b0(){let{matches:e}=p.useContext(Lt),t=e[e.length-1];return t?t.params:{}}function Cp(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=p.useContext(pr),{matches:s}=p.useContext(Lt),{pathname:o}=mr(),i=JSON.stringify(Ac(s,n.v7_relativeSplatPath));return p.useMemo(()=>Oc(e,JSON.parse(i),o,r==="path"),[e,i,o,r])}function S0(e,t){return E0(e,t)}function E0(e,t,r,n){On()||ue(!1);let{navigator:s}=p.useContext(pr),{matches:o}=p.useContext(Lt),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let u=mr(),d;if(t){var f;let k=typeof t=="string"?An(t):t;l==="/"||(f=k.pathname)!=null&&f.startsWith(l)||ue(!1),d=k}else d=u;let h=d.pathname||"/",m=h;if(l!=="/"){let k=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(k.length).join("/")}let x=Xy(e,{pathname:m}),y=R0(x&&x.map(k=>Object.assign({},k,{params:Object.assign({},a,k.params),pathname:ir([l,s.encodeLocation?s.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?l:ir([l,s.encodeLocation?s.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),o,r,n);return t&&y?p.createElement(Ci.Provider,{value:{location:Rs({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Yt.Pop}},y):y}function j0(){let e=L0(),t=y0(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:s},r):null,null)}const C0=p.createElement(j0,null);class N0 extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?p.createElement(Lt.Provider,{value:this.props.routeContext},p.createElement(Ep.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function P0(e){let{routeContext:t,match:r,children:n}=e,s=p.useContext(Lc);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(Lt.Provider,{value:t},n)}function R0(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||ue(!1),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,x=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||x){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let m,x=!1,y=null,k=null;r&&(m=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||C0,l&&(u<0&&h===0?(x=!0,k=null):u===h&&(x=!0,k=f.route.hydrateFallbackElement||null)));let g=t.concat(i.slice(0,h+1)),v=()=>{let w;return m?w=y:x?w=k:f.route.Component?w=p.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,p.createElement(P0,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?p.createElement(N0,{location:r.location,revalidation:r.revalidation,component:y,error:m,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var Np=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Np||{}),ii=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ii||{});function T0(e){let t=p.useContext(Lc);return t||ue(!1),t}function A0(e){let t=p.useContext(x0);return t||ue(!1),t}function O0(e){let t=p.useContext(Lt);return t||ue(!1),t}function Pp(e){let t=O0(),r=t.matches[t.matches.length-1];return r.route.id||ue(!1),r.route.id}function L0(){var e;let t=p.useContext(Ep),r=A0(ii.UseRouteError),n=Pp(ii.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function I0(){let{router:e}=T0(Np.UseNavigateStable),t=Pp(ii.UseNavigateStable),r=p.useRef(!1);return jp(()=>{r.current=!0}),p.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Rs({fromRouteId:t},o)))},[e,t])}const hd={};function D0(e,t){hd[t]||(hd[t]=!0,console.warn(t))}const pd=(e,t,r)=>D0(e," React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+r+"."));function $0(e,t){e!=null&&e.v7_startTransition||pd("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(e!=null&&e.v7_relativeSplatPath)&&!t&&pd("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Rp(e){let{to:t,replace:r,state:n,relative:s}=e;On()||ue(!1);let{future:o,static:i}=p.useContext(pr),{matches:a}=p.useContext(Lt),{pathname:l}=mr(),u=st(),d=Oc(t,Ac(a,o.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(d);return p.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function pe(e){ue(!1)}function U0(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Yt.Pop,navigator:o,static:i=!1,future:a}=e;On()&&ue(!1);let l=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:l,navigator:o,static:i,future:Rs({v7_relativeSplatPath:!1},a)}),[l,a,o,i]);typeof n=="string"&&(n=An(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:x="default"}=n,y=p.useMemo(()=>{let k=Tc(d,l);return k==null?null:{location:{pathname:k,search:f,hash:h,state:m,key:x},navigationType:s}},[l,d,f,h,m,x,s]);return y==null?null:p.createElement(pr.Provider,{value:u},p.createElement(Ci.Provider,{children:r,value:y}))}function Tp(e){let{children:t,location:r}=e;return S0(_l(t),r)}new Promise(()=>{});function _l(e,t){t===void 0&&(t=[]);let r=[];return p.Children.forEach(e,(n,s)=>{if(!p.isValidElement(n))return;let o=[...t,s];if(n.type===p.Fragment){r.push.apply(r,_l(n.props.children,o));return}n.type!==pe&&ue(!1),!n.props.index||!n.props.children||ue(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=_l(n.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bl(){return bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bl.apply(this,arguments)}function M0(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function F0(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function z0(e,t){return e.button===0&&(!t||t==="_self")&&!F0(e)}const B0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],W0="6";try{window.__reactRouterVersion=W0}catch{}const H0="startTransition",md=yf[H0];function V0(e){let{basename:t,children:r,future:n,window:s}=e,o=p.useRef();o.current==null&&(o.current=Jy({window:s,v5Compat:!0}));let i=o.current,[a,l]=p.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=p.useCallback(f=>{u&&md?md(()=>l(f)):l(f)},[l,u]);return p.useLayoutEffect(()=>i.listen(d),[i,d]),p.useEffect(()=>$0(n),[n]),p.createElement(U0,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:i,future:n})}const q0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",G0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,br=p.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:o,replace:i,state:a,target:l,to:u,preventScrollReset:d,viewTransition:f}=t,h=M0(t,B0),{basename:m}=p.useContext(pr),x,y=!1;if(typeof u=="string"&&G0.test(u)&&(x=u,q0))try{let w=new URL(window.location.href),_=u.startsWith("//")?new URL(w.protocol+u):new URL(u),b=Tc(_.pathname,m);_.origin===w.origin&&b!=null?u=b+_.search+_.hash:y=!0}catch{}let k=k0(u,{relative:s}),g=K0(u,{replace:i,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:f});function v(w){n&&n(w),w.defaultPrevented||g(w)}return p.createElement("a",bl({},h,{href:x||k,onClick:y||o?n:v,ref:r,target:l}))});var gd;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(gd||(gd={}));var vd;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(vd||(vd={}));function K0(e,t){let{target:r,replace:n,state:s,preventScrollReset:o,relative:i,viewTransition:a}=t===void 0?{}:t,l=st(),u=mr(),d=Cp(e,{relative:i});return p.useCallback(f=>{if(z0(f,r)){f.preventDefault();let h=n!==void 0?n:oi(u)===oi(d);l(e,{replace:h,state:s,preventScrollReset:o,relative:i,viewTransition:a})}},[u,l,d,n,s,r,e,o,i,a])}const J0="modulepreload",Q0=function(e){return"/"+e},yd={},Ir=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=Q0(l),l in yd)return;yd[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":J0,u||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})},Y0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ir(async()=>{const{default:n}=await Promise.resolve().then(()=>Ln);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Ic extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class X0 extends Ic{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Z0 extends Ic{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ew extends Ic{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Sl;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Sl||(Sl={}));var tw=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(f){i(f)}}function l(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class rw{constructor(t,{headers:r={},customFetch:n,region:s=Sl.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=Y0(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return tw(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=r;let a={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=i):typeof i=="string"?(a["Content-Type"]="text/plain",u=i):typeof FormData<"u"&&i instanceof FormData?u=i:(a["Content-Type"]="application/json",u=JSON.stringify(i)));const d=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(x=>{throw new X0(x)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new Z0(d);if(!d.ok)throw new ew(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return h==="application/json"?m=yield d.json():h==="application/octet-stream"?m=yield d.blob():h==="text/event-stream"?m=d:h==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null}}catch(s){return{data:null,error:s}}})}}var $e={},Dc={},Ni={},Bs={},Pi={},Ri={},nw=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},jn=nw();const sw=jn.fetch,Ap=jn.fetch.bind(jn),Op=jn.Headers,ow=jn.Request,iw=jn.Response,Ln=Object.freeze(Object.defineProperty({__proto__:null,Headers:Op,Request:ow,Response:iw,default:Ap,fetch:sw},Symbol.toStringTag,{value:"Module"})),aw=_g(Ln);var Ti={};Object.defineProperty(Ti,"__esModule",{value:!0});class lw extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}Ti.default=lw;var Lp=tt&&tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ri,"__esModule",{value:!0});const cw=Lp(aw),uw=Lp(Ti);let dw=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=cw.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,a,l;let u=null,d=null,f=null,h=o.status,m=o.statusText;if(o.ok){if(this.method!=="HEAD"){const g=await o.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const y=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),k=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");y&&k&&k.length>1&&(f=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const y=await o.text();try{u=JSON.parse(y),Array.isArray(u)&&o.status===404&&(d=[],u=null,h=200,m="OK")}catch{o.status===404&&y===""?(h=204,m="No Content"):u={message:y}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,h=200,m="OK"),u&&this.shouldThrowOnError)throw new uw.default(u)}return{error:u,data:d,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,a,l;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(a=o==null?void 0:o.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o==null?void 0:o.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}};Ri.default=dw;var fw=tt&&tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pi,"__esModule",{value:!0});const hw=fw(Ri);let pw=class extends hw.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var a;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${l};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Pi.default=pw;var mw=tt&&tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bs,"__esModule",{value:!0});const gw=mw(Pi);let vw=class extends gw.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${i}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Bs.default=vw;var yw=tt&&tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ni,"__esModule",{value:!0});const Vn=yw(Bs);let ww=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new Vn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const i=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(i.length>0){const a=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Vn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){const i="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Vn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Vn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Vn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ni.default=ww;var Ai={},Oi={};Object.defineProperty(Oi,"__esModule",{value:!0});Oi.version=void 0;Oi.version="0.0.0-automated";Object.defineProperty(Ai,"__esModule",{value:!0});Ai.DEFAULT_HEADERS=void 0;const xw=Oi;Ai.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${xw.version}`};var Ip=tt&&tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Dc,"__esModule",{value:!0});const kw=Ip(Ni),_w=Ip(Bs),bw=Ai;let Sw=class Dp{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},bw.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new kw.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Dp(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:o}={}){let i;const a=new URL(`${this.url}/rpc/${t}`);let l;n||s?(i=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{a.searchParams.append(d,f)})):(i="POST",l=r);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new _w.default({method:i,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Dc.default=Sw;var In=tt&&tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($e,"__esModule",{value:!0});$e.PostgrestError=$e.PostgrestBuilder=$e.PostgrestTransformBuilder=$e.PostgrestFilterBuilder=$e.PostgrestQueryBuilder=$e.PostgrestClient=void 0;const $p=In(Dc);$e.PostgrestClient=$p.default;const Up=In(Ni);$e.PostgrestQueryBuilder=Up.default;const Mp=In(Bs);$e.PostgrestFilterBuilder=Mp.default;const Fp=In(Pi);$e.PostgrestTransformBuilder=Fp.default;const zp=In(Ri);$e.PostgrestBuilder=zp.default;const Bp=In(Ti);$e.PostgrestError=Bp.default;var Ew=$e.default={PostgrestClient:$p.default,PostgrestQueryBuilder:Up.default,PostgrestFilterBuilder:Mp.default,PostgrestTransformBuilder:Fp.default,PostgrestBuilder:zp.default,PostgrestError:Bp.default};const{PostgrestClient:jw,PostgrestQueryBuilder:Sb,PostgrestFilterBuilder:Eb,PostgrestTransformBuilder:jb,PostgrestBuilder:Cb}=Ew,Cw="2.10.7",Nw={"X-Client-Info":`realtime-js/${Cw}`},Pw="1.0.0",Wp=1e4,Rw=1e3;var gn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(gn||(gn={}));var Be;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Be||(Be={}));var ct;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ct||(ct={}));var El;(function(e){e.websocket="websocket"})(El||(El={}));var Sr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Sr||(Sr={}));class Tw{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),o=r.getUint8(2);let i=this.HEADER_LENGTH+2;const a=n.decode(t.slice(i,i+s));i=i+s;const l=n.decode(t.slice(i,i+o));i=i+o;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Hp{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var K;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(K||(K={}));const wd=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((o,i)=>(o[i]=Aw(i,e,t,s),o),{})},Aw=(e,t,r,n)=>{const s=t.find(a=>a.name===e),o=s==null?void 0:s.type,i=r[e];return o&&!n.includes(o)?Vp(o,i):jl(i)},Vp=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Dw(t,r)}switch(e){case K.bool:return Ow(t);case K.float4:case K.float8:case K.int2:case K.int4:case K.int8:case K.numeric:case K.oid:return Lw(t);case K.json:case K.jsonb:return Iw(t);case K.timestamp:return $w(t);case K.abstime:case K.date:case K.daterange:case K.int4range:case K.int8range:case K.money:case K.reltime:case K.text:case K.time:case K.timestamptz:case K.timetz:case K.tsrange:case K.tstzrange:return jl(t);default:return jl(t)}},jl=e=>e,Ow=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Lw=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Iw=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Dw=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const i=e.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>Vp(t,a))}return e},$w=e=>typeof e=="string"?e.replace(" ","T"):e,qp=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class fa{constructor(t,r,n={},s=Wp){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var xd;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(xd||(xd={}));class us{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=us.syncState(this.state,s,o,i),this.pendingDiffs.forEach(l=>{this.state=us.syncDiff(this.state,l,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=us.syncDiff(this.state,s,o,i),a())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const o=this.cloneDeep(t),i=this.transformState(r),a={},l={};return this.map(o,(u,d)=>{i[u]||(l[u]=d)}),this.map(i,(u,d)=>{const f=o[u];if(f){const h=d.map(k=>k.presence_ref),m=f.map(k=>k.presence_ref),x=d.filter(k=>m.indexOf(k.presence_ref)<0),y=f.filter(k=>h.indexOf(k.presence_ref)<0);x.length>0&&(a[u]=x),y.length>0&&(l[u]=y)}else a[u]=d}),this.syncDiff(o,{joins:a,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(a,l)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),d.length>0){const f=t[a].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[a].unshift(...h)}n(a,d,l)}),this.map(i,(a,l)=>{let u=t[a];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var kd;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(kd||(kd={}));var _d;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(_d||(_d={}));var bd;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(bd||(bd={}));class $c{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Be.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new fa(this,ct.join,this.params,this.timeout),this.rejoinTimer=new Hp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Be.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Be.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ct.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new us(this),this.broadcastEndpointURL=qp(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:i,private:a}}=this.params;this._onError(d=>t&&t("CHANNEL_ERROR",d)),this._onClose(()=>t&&t("CLOSED"));const l={},u={broadcast:o,presence:i,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessToken&&(l.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",({postgres_changes:d})=>{var f;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),d===void 0){t&&t("SUBSCRIBED");return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,x=[];for(let y=0;y<m;y++){const k=h[y],{filter:{event:g,schema:v,table:w,filter:_}}=k,b=d&&d[y];if(b&&b.event===g&&b.schema===v&&b.table===w&&b.filter===_)x.push(Object.assign(Object.assign({},k),{id:b.id}));else{this.unsubscribe(),t&&t("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t("SUBSCRIBED");return}}).receive("error",d=>{t&&t("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t&&t("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,a={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=l.body)===null||s===void 0?void 0:s.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Be.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ct.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new fa(this,ct.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new fa(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,o;const i=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=ct;if(n&&[a,l,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let h=this._onMessage(i,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var x,y,k;return((x=m.filter)===null||x===void 0?void 0:x.event)==="*"||((k=(y=m.filter)===null||y===void 0?void 0:y.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===i}).map(m=>m.callback(h,n)):(o=this.bindings[i])===null||o===void 0||o.filter(m=>{var x,y,k,g,v,w;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in m){const _=m.id,b=(x=m.filter)===null||x===void 0?void 0:x.event;return _&&((y=r.ids)===null||y===void 0?void 0:y.includes(_))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const _=(v=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return _==="*"||_===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===i}).map(m=>{if(typeof h=="object"&&"ids"in h){const x=h.data,{schema:y,table:k,commit_timestamp:g,type:v,errors:w}=x;h=Object.assign(Object.assign({},{schema:y,table:k,commit_timestamp:g,eventType:v,new:{},old:{},errors:w}),this._getPayloadRecords(x))}m.callback(h,n)})}_isClosed(){return this.state===Be.closed}_isJoined(){return this.state===Be.joined}_isJoining(){return this.state===Be.joining}_isLeaving(){return this.state===Be.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&$c.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ct.close,{},t)}_onError(t){this._on(ct.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Be.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=wd(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=wd(t.columns,t.old_record)),r}}const Uw=()=>{},Mw=typeof WebSocket<"u",Fw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class zw{constructor(t,r){var n;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Nw,this.params={},this.timeout=Wp,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Uw,this.conn=null,this.sendBuffer=[],this.serializer=new Tw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...a)=>Ir(async()=>{const{default:l}=await Promise.resolve().then(()=>Ln);return{default:l}},void 0).then(({default:l})=>l(...a)):i=fetch,(...a)=>i(...a)},this.endPoint=`${t}/${El.websocket}`,this.httpEndpoint=qp(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessToken=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(o,i)=>i(JSON.stringify(o)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Hp(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(Mw){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new Bw(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),Ir(async()=>{const{default:t}=await import("./browser-pyXyXxCD.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case gn.connecting:return Sr.Connecting;case gn.open:return Sr.Open;case gn.closing:return Sr.Closing;default:return Sr.Closed}}isConnected(){return this.connectionState()===Sr.Open}channel(t,r={config:{}}){const n=new $c(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:o}=t,i=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}setAuth(t){this.accessToken=t,this.channels.forEach(r=>{t&&r.updateJoinPayload({access_token:t}),r.joinedOnce&&r._isJoined()&&r._push(ct.access_token,{access_token:t})})}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Pw}))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:o,ref:i}=r;(i&&i===this.pendingHeartbeatRef||s===(o==null?void 0:o.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${n} ${s} ${i&&"("+i+")"||""}`,o),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(s,o,i)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this._sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(ct.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Rw,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Fw],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Bw{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=gn.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Uc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ye(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Ww extends Uc{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Cl extends Uc{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Hw=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(f){i(f)}}function l(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const Gp=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ir(async()=>{const{default:n}=await Promise.resolve().then(()=>Ln);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Vw=()=>Hw(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ir(()=>Promise.resolve().then(()=>Ln),void 0)).Response:Response}),Nl=e=>{if(Array.isArray(e))return e.map(r=>Nl(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Nl(n)}),t};var zr=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(f){i(f)}}function l(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const ha=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),qw=(e,t,r)=>zr(void 0,void 0,void 0,function*(){const n=yield Vw();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new Ww(ha(s),e.status||500))}).catch(s=>{t(new Cl(ha(s),s))}):t(new Cl(ha(e),e))}),Gw=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Ws(e,t,r,n,s,o){return zr(this,void 0,void 0,function*(){return new Promise((i,a)=>{e(r,Gw(t,n,s,o)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>qw(l,a,n))})})}function ai(e,t,r,n){return zr(this,void 0,void 0,function*(){return Ws(e,"GET",t,r,n)})}function Vt(e,t,r,n,s){return zr(this,void 0,void 0,function*(){return Ws(e,"POST",t,n,s,r)})}function Kw(e,t,r,n,s){return zr(this,void 0,void 0,function*(){return Ws(e,"PUT",t,n,s,r)})}function Jw(e,t,r,n){return zr(this,void 0,void 0,function*(){return Ws(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Kp(e,t,r,n,s){return zr(this,void 0,void 0,function*(){return Ws(e,"DELETE",t,n,s,r)})}var Ie=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(f){i(f)}}function l(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const Qw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Sd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Yw{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Gp(s)}uploadOrUpdate(t,r,n,s){return Ie(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},Sd),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=n,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:o,headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(o){if(ye(o))return{data:null,error:o};throw o}})}upload(t,r,n){return Ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Ie(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:Sd.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),h=yield f.json();return f.ok?{data:{path:o,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(ye(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return Ie(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield Vt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+o.url),a=i.searchParams.get("token");if(!a)throw new Uc("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:a},error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ie(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Ie(this,void 0,void 0,function*(){try{return{data:{path:(yield Vt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Ie(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield Vt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Ie(this,void 0,void 0,function*(){try{const s=yield Vt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}})}download(t,r){return Ie(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=o?`?${o}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield ai(this.fetch,`${this.url}/${s}/${a}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ye(a))return{data:null,error:a};throw a}})}info(t){return Ie(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield ai(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Nl(n),error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}})}exists(t){return Ie(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Jw(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ye(n)&&n instanceof Cl){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(t){return Ie(this,void 0,void 0,function*(){try{return{data:yield Kp(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ie(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Qw),r),{prefix:t||""});return{data:yield Vt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Xw="2.7.1",Zw={"X-Client-Info":`storage-js/${Xw}`};var Hr=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(f){i(f)}}function l(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class ex{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},Zw),r),this.fetch=Gp(n)}listBuckets(){return Hr(this,void 0,void 0,function*(){try{return{data:yield ai(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ye(t))return{data:null,error:t};throw t}})}getBucket(t){return Hr(this,void 0,void 0,function*(){try{return{data:yield ai(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Hr(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Hr(this,void 0,void 0,function*(){try{return{data:yield Kw(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Hr(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Hr(this,void 0,void 0,function*(){try{return{data:yield Kp(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}})}}class tx extends ex{constructor(t,r={},n){super(t,r,n)}from(t){return new Yw(this.url,this.headers,t,this.fetch)}}const rx="2.46.1";let es="";typeof Deno<"u"?es="deno":typeof document<"u"?es="web":typeof navigator<"u"&&navigator.product==="ReactNative"?es="react-native":es="node";const nx={"X-Client-Info":`supabase-js-${es}/${rx}`},sx={headers:nx},ox={schema:"public"},ix={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ax={};var lx=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(f){i(f)}}function l(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const cx=e=>{let t;return e?t=e:typeof fetch>"u"?t=Ap:t=fetch,(...r)=>t(...r)},ux=()=>typeof Headers>"u"?Op:Headers,dx=(e,t,r)=>{const n=cx(r),s=ux();return(o,i)=>lx(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(o,Object.assign(Object.assign({},i),{headers:u}))})};var fx=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(f){i(f)}}function l(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};function hx(e){return e.replace(/\/$/,"")}function px(e,t){const{db:r,auth:n,realtime:s,global:o}=e,{db:i,auth:a,realtime:l,global:u}=t,d={db:Object.assign(Object.assign({},i),r),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},u),o),accessToken:()=>fx(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const Jp="2.65.1",mx="http://localhost:9999",gx="supabase.auth.token",vx={"X-Client-Info":`gotrue-js/${Jp}`},Ed=10,Pl="X-Supabase-Api-Version",Qp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function yx(e){return Math.round(Date.now()/1e3)+e}function wx(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const it=()=>typeof document<"u",wr={tested:!1,writable:!1},ds=()=>{if(!it())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wr.tested)return wr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),wr.tested=!0,wr.writable=!0}catch{wr.tested=!0,wr.writable=!1}return wr.writable};function pa(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Yp=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ir(async()=>{const{default:n}=await Promise.resolve().then(()=>Ln);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},xx=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Xp=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},co=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},uo=async(e,t)=>{await e.removeItem(t)};function kx(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,s,o,i,a,l,u,d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)i=t.indexOf(e.charAt(d++)),a=t.indexOf(e.charAt(d++)),l=t.indexOf(e.charAt(d++)),u=t.indexOf(e.charAt(d++)),n=i<<2|a>>4,s=(a&15)<<4|l>>2,o=(l&3)<<6|u,r=r+String.fromCharCode(n),l!=64&&s!=0&&(r=r+String.fromCharCode(s)),u!=64&&o!=0&&(r=r+String.fromCharCode(o));return r}class Li{constructor(){this.promise=new Li.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Li.promiseConstructor=Promise;function jd(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=e.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(kx(n))}async function _x(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function bx(e,t){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){n(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function Sx(e){return("0"+e.toString(16)).substr(-2)}function Ex(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,Sx).join("")}async function jx(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}function Cx(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Nx(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await jx(e);return Cx(r)}async function Vr(e,t,r=!1){const n=Ex();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Xp(e,`${t}-code-verifier`,s);const o=await Nx(n);return[o,n===o?"plain":"s256"]}const Px=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Rx(e){const t=e.headers.get(Pl);if(!t||!t.match(Px))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class Mc extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function U(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Tx extends Mc{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Ax(e){return U(e)&&e.name==="AuthApiError"}class Zp extends Mc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Br extends Mc{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Ft extends Br{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ox(e){return U(e)&&e.name==="AuthSessionMissingError"}class ma extends Br{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class fo extends Br{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ho extends Br{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Cd extends Br{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Rl extends Br{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function ga(e){return U(e)&&e.name==="AuthRetryableFetchError"}class Nd extends Br{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}var Lx=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const _r=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ix=[502,503,504];async function Pd(e){var t;if(!xx(e))throw new Rl(_r(e),0);if(Ix.includes(e.status))throw new Rl(_r(e),e.status);let r;try{r=await e.json()}catch(o){throw new Zp(_r(o),o)}let n;const s=Rx(e);if(s&&s.getTime()>=Qp["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Nd(_r(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ft}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new Nd(_r(r),e.status,r.weak_password.reasons);throw new Tx(_r(r),e.status||500,n)}const Dx=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function z(e,t,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[Pl]||(o[Pl]=Qp["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await $x(e,t,r+a,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function $x(e,t,r,n,s,o){const i=Dx(t,n,s,o);let a;try{a=await e(r,Object.assign({},i))}catch(l){throw console.error(l),new Rl(_r(l),0)}if(a.ok||await Pd(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Pd(l)}}function zt(e){var t;let r=null;zx(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=yx(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Rd(e){const t=zt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Kt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Ux(e){return{data:e,error:null}}function Mx(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=e,i=Lx(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},l=Object.assign({},i);return{data:{properties:a,user:l},error:null}}function Fx(e){return e}function zx(e){return e.access_token&&e.refresh_token&&e.expires_in}var Bx=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class Wx{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Yp(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await z(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await z(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Kt})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Bx(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Mx,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(U(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await z(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Kt})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,o,i,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Fx});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(x=>{const y=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(x.split(";")[1].split("=")[1]);u[`${k}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(U(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await z(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Kt})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await z(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Kt})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await z(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Kt})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await z(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(U(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await z(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}}}const Hx={getItem:e=>ds()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{ds()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{ds()&&globalThis.localStorage.removeItem(e)}};function Td(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Vx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const qr={debug:!!(globalThis&&ds()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class em extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class qx extends em{}async function Gx(e,t,r){qr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),qr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){qr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{qr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw qr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new qx(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(qr.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}})}Vx();const Kx={url:mx,storageKey:gx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:vx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},qn=30*1e3,Ad=3;async function Od(e,t,r){return await r()}class Ts{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ts.nextInstanceID,Ts.nextInstanceID+=1,this.instanceID>0&&it()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Kx),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Wx({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Yp(s.fetch),this.lock=s.lock||Od,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:it()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Gx:this.lock=Od,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:ds()?this.storage=Hx:(this.memoryStorage={},this.storage=Td(this.memoryStorage)):(this.memoryStorage={},this.storage=Td(this.memoryStorage)),it()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Jp}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const t=it()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:r,error:n}=await this._getSessionFromURL(t);if(n)return this._debug("#_initialize()","error detecting session from URL",n),(n==null?void 0:n.code)==="identity_already_exists"?{error:n}:(await this._removeSession(),{error:n});const{session:s,redirectType:o}=r;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return U(t)?{error:t}:{error:new Zp("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const o=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:zt}),{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(o){if(U(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var r,n,s;try{let o;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,x=null;this.flowType==="pkce"&&([m,x]=await Vr(this.storage,this.storageKey)),o=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:x},xform:zt})}else if("phone"in t){const{phone:d,password:f,options:h}=t;o=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:zt})}else throw new fo("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(o){if(U(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:i,options:a}=t;r=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Rd})}else if("phone"in t){const{phone:o,password:i,options:a}=t;r=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Rd})}else throw new fo("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ma}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await co(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:i}=await z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:zt});if(await uo(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new ma}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(U(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=t,a=await z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:zt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ma}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,o,i;try{if("email"in t){const{email:a,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Vr(this.storage,this.storageKey));const{error:f}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:d}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new fo("You must provide either an email or phone number.")}catch(a){if(U(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let s,o;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:a}=await z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:zt});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,u=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(U(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await Vr(this.storage,this.storageKey)),await z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:Ux})}catch(o){if(U(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ft;const{error:s}=await z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(U(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:o}=t,{error:i}=await z(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:s,options:o}=t,{data:i,error:a}=await z(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a}}throw new fo("You must provide either an email or phone number and a type")}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await co(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Kt}):await this._useSession(async r=>{var n,s,o;const{data:i,error:a}=r;if(a)throw a;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ft}:await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Kt})})}catch(r){if(U(r))return Ox(r)&&(await this._removeSession(),await uo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new Ft;const i=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Vr(this.storage,this.storageKey));const{data:u,error:d}=await z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:i.access_token,xform:Kt});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}_decodeJWT(t){return jd(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ft;const r=Date.now()/1e3;let n=r,s=!0,o=null;const i=jd(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;o={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(U(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:a}=r;if(a)throw a;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ft;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t){try{if(!it())throw new ho("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new ho("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new Cd("Not a valid PKCE flow url.");const r=pa(window.location.href);if(t){if(!r.code)throw new Cd("No code detected.");const{data:v,error:w}=await this._exchangeCodeForSession(r.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:v.session,redirectType:null},error:null}}if(r.error||r.error_description||r.error_code)throw new ho(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:a,expires_at:l,token_type:u}=r;if(!o||!a||!i||!u)throw new ho("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let h=d+f;l&&(h=parseInt(l));const m=h-d;m*1e3<=qn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const x=h-f;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,h,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,h,d);const{data:y,error:k}=await this._getUser(o);if(k)throw k;const g={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:h,refresh_token:i,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:r.type},error:null}}catch(r){if(U(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantFlow(){const t=pa(window.location.href);return!!(it()&&(t.access_token||t.error_description))}async _isPKCEFlow(){const t=pa(window.location.href),r=await co(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{error:o};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:a}=await this.admin.signOut(i,t);if(a&&!(Ax(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await uo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=wx(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Vr(this.storage,this.storageKey,!0));try{return await z(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(U(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var i,a,l,u,d;const{data:f,error:h}=o;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await z(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return it()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(U(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)throw i;return await z(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(U(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await bx(async s=>(s>0&&await _x(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:zt})),(s,o)=>{const i=200*Math.pow(2,s);return o&&ga(o)&&Date.now()+i-n<qn})}catch(n){if(this._debug(r,"error",n),U(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),it()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await co(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),o=((t=n.expires_at)!==null&&t!==void 0?t:1/0)<s+Ed;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Ed}s`),o){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),ga(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ft;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Li;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new Ft;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={session:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(s,"error",o),U(o)){const i={session:null,error:o};return ga(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){o.push(l)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Xp(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await uo(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&it()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),qn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/qn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${qn}ms, refresh threshold is ${Ad} ticks`),s<=Ad&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof em)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!it()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await Vr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await z(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(U(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)return{data:null,error:i};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await z(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(U(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const{data:i,error:a}=await z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:a})})}catch(r){if(U(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(U(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const i=this._decodeJWT(s.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}}Ts.nextInstanceID=0;const Jx=Ts;class Qx extends Jx{constructor(t){super(t)}}var Yx=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(f){i(f)}}function l(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class Xx{constructor(t,r,n){var s,o,i;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=hx(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:ox,realtime:ax,auth:Object.assign(Object.assign({},ix),{storageKey:l}),global:sx},d=px(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=dx(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},d.realtime)),this.rest=new jw(`${a}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new rw(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new tx(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Yx(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:o,flowType:i,lock:a,debug:l},u,d){var f;const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Qx({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:i,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:(f="Authorization"in this.headers)!==null&&f!==void 0?f:!1})}_initRealtimeClient(t){return new zw(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.realtime.setAuth(n??null),this.changedAccessToken=n):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Zx=(e,t,r)=>new Xx(e,t,r),ek="https://iekczmlzhnccwsovkrvk.supabase.co",tk="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imlla2N6bWx6aG5jY3dzb3ZrcnZrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzE2ODA5NDUsImV4cCI6MjA0NzI1Njk0NX0.s5eTVh3rGC9q005Ztbg8h-IgJot1PB_QO4sO-4fLjko",It=typeof window<"u",rk=It&&window.location.hostname.includes("vercel.app"),Fc=It&&(window.location.hostname==="www.rvzn.app"||window.location.hostname==="rvzn.app"),nk=It?window.location.origin:"https://www.rvzn.app",tm=()=>{if(!It)return;const e=window.location.hostname;if(e==="localhost")return;const t=e.split(".");return t.length>2?"."+t.slice(1).join("."):"."+e},Cn=e=>It&&window.location.hostname==="localhost"?`http://localhost:${window.location.port}${e}`:`${nk}${e}`,M=Zx(ek,tk,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:It,storageKey:"supabase.auth.token",flowType:"pkce",debug:!0}}),Nn=async()=>{var e,t,r;if(It){console.group(" DETAILED AUTH DEBUG INFO");try{console.log(" Cookies:",document.cookie);const n=localStorage.getItem("supabase.auth.token");console.log(" localStorage token exists:",!!n);const{data:s}=await M.auth.getSession();console.log(" Current session:",{exists:!!s.session,userId:(t=(e=s.session)==null?void 0:e.user)==null?void 0:t.id,expiresAt:((r=s.session)==null?void 0:r.expires_at)&&new Date(s.session.expires_at*1e3).toISOString()}),console.log(" URL info:",{full:window.location.href,hostname:window.location.hostname,pathname:window.location.pathname,origin:window.location.origin});const o=new URLSearchParams(window.location.hash.substring(1)),i=o.get("access_token"),a=o.get("refresh_token");console.log(" Auth flow indicators:",{hasHash:window.location.hash.length>0,hasAccessToken:!!i,hasRefreshToken:!!a,isCallback:window.location.pathname.includes("auth/callback")}),console.log(" Auth system health:",{isMainDomain:Fc,cookieDomain:tm(),isPKCEFlow:!0,hasLocalSessionStorage:!!localStorage.getItem("supabase.auth.session"),hasLocalAuthStorage:!!localStorage.getItem("supabase.auth.token")})}catch(n){console.error(" Error in auth debug:",n)}console.groupEnd()}};It&&(console.log("Supabase Auth initialized on:",{hostname:window.location.hostname,origin:window.location.origin,cookieDomain:tm(),isMainDomain:Fc}),window.location.hostname!=="www.rvzn.app"&&window.location.hostname!=="rvzn.app"&&window.addEventListener("load",()=>{const e=document.createElement("div");e.style.position="fixed",e.style.bottom="15px",e.style.right="15px",e.style.zIndex="9999";const t=document.createElement("button");t.innerText=" Debug Auth",t.style.backgroundColor="#222",t.style.color="white",t.style.padding="8px 12px",t.style.borderRadius="4px",t.style.fontSize="12px",t.style.cursor="pointer",t.style.border="none",t.style.boxShadow="0 2px 5px rgba(0,0,0,0.2)",t.onclick=()=>Nn(),e.appendChild(t),document.body.appendChild(e)}));It&&setTimeout(()=>{console.log("====== AUTOMATIC AUTH DEBUG ======"),Nn(),console.log("=================================")},1e3);const sk=Object.freeze(Object.defineProperty({__proto__:null,debugAuthState:Nn,getRedirectUrl:Cn,isMainDomain:Fc,isVercelPreview:rk,supabase:M},Symbol.toStringTag,{value:"Module"})),As="/auth/callback",ok=async(e,t)=>{try{return console.log("Signing in with password, redirect to:",Cn(As)),await M.auth.signInWithPassword({email:e,password:t})}catch(r){throw console.error("Error signing in with password:",r),r}},ik=async(e,t)=>{try{return console.log("Signing up, redirect to:",Cn(As)),await M.auth.signUp({email:e,password:t,options:{emailRedirectTo:Cn(As)}})}catch(r){throw console.error("Error signing up:",r),r}},ak=async e=>{try{return console.log("Signing in with OTP, redirect to:",Cn(As)),await M.auth.signInWithOtp({email:e,options:{emailRedirectTo:Cn(As)}})}catch(t){throw console.error("Error signing in with OTP:",t),t}},lk=async()=>{try{return await M.auth.signOut()}catch(e){throw console.error("Error signing out:",e),e}},Ld=async()=>{try{const{data:e,error:t}=await M.auth.getSession();return t?(console.error("Error getting session:",t),{session:null,error:t}):{session:e.session,error:null}}catch(e){return console.error("Exception getting session:",e),{session:null,error:e}}};async function ck(e,t,r){try{if(!e)throw console.error("storeUserRole: Missing userId"),new Error("User ID is required");console.log("Storing role for user:",e,"Role:",r);const{data:n,error:s}=await M.from("users").select("id").eq("id",e).maybeSingle();if(s&&console.error("Error checking existing user:",s),n){console.log("User exists, updating role");const{error:o}=await M.from("users").update({role:r,email:t,credits:r==="mentee"?3:0,updated_at:new Date().toISOString()}).eq("id",e);if(o)throw console.error("Error updating user role:",o),o}else{console.log("User does not exist, inserting new record");const{error:o}=await M.from("users").insert({id:e,email:t,role:r,credits:r==="mentee"?3:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()});if(o)throw console.error("Error inserting user role:",o),o}console.log("Successfully stored role for user:",e)}catch(n){throw console.error("Exception storing user role:",n),n}}const Gn={},Id=30*60*1e3,uk=e=>{try{return typeof window<"u"?localStorage.getItem(e):null}catch(t){return console.error("Error accessing localStorage:",t),null}},va=(e,t)=>{try{typeof window<"u"&&localStorage.setItem(e,t)}catch(r){console.error("Error setting localStorage:",r)}};async function po(e){try{if(!e)return console.error("getUserRole called with empty userId"),null;const t=Gn[e];if(t&&Date.now()-t.timestamp<Id)return console.log("Using cached user role:",t.role),t.role;const r=`user_role_${e}`,n=uk(r);if(n)try{const i=JSON.parse(n);if(i&&i.role&&i.timestamp&&Date.now()-i.timestamp<Id)return console.log("Using localStorage cached role:",i.role),Gn[e]=i,i.role}catch(i){console.error("Error parsing cached role:",i)}console.log("Fetching role for userId:",e);const s=new Promise((i,a)=>{setTimeout(()=>{console.warn("getUserRole timed out after 5 seconds"),a(new Error("Timeout fetching user role"))},5e3)}),o=(async()=>{try{const{data:i,error:a}=await M.from("users").select("role").eq("id",e).maybeSingle();if(a){console.error("Error fetching user role with standard query:",a);try{const u="https://iekczmlzhnccwsovkrvk.supabase.co",d="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imlla2N6bWx6aG5jY3dzb3ZrcnZrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzE2ODA5NDUsImV4cCI6MjA0NzI1Njk0NX0.s5eTVh3rGC9q005Ztbg8h-IgJot1PB_QO4sO-4fLjko",f=await fetch(`${u}/rest/v1/users?id=eq.${e}&select=role`,{method:"GET",headers:{apikey:d,Authorization:`Bearer ${d}`,"Content-Type":"application/json",Accept:"application/json"}});if(!f.ok)throw new Error(`HTTP error! Status: ${f.status}`);const h=await f.json();if(console.log("Fetched user role data via fetch API:",h),Array.isArray(h)&&h.length>0){const m=h[0].role;return Gn[e]={role:m,timestamp:Date.now()},va(r,JSON.stringify({role:m,timestamp:Date.now()})),m}return Gn[e]={role:null,timestamp:Date.now()},va(r,JSON.stringify({role:null,timestamp:Date.now()})),null}catch(u){return console.error("Error with alternative fetch approach:",u),null}}console.log("Fetched user role data:",i);const l=(i==null?void 0:i.role)||null;return Gn[e]={role:l,timestamp:Date.now()},va(r,JSON.stringify({role:l,timestamp:Date.now()})),l}catch(i){return console.error("Inner exception in fetchRolePromise:",i),null}})();try{return await Promise.race([o,s])}catch(i){if(console.error("Timed out fetching user role:",i),t)return console.log("Using expired cached role after timeout:",t.role),t.role;if(n)try{const a=JSON.parse(n);if(a&&a.role)return console.log("Using expired localStorage role after timeout:",a.role),a.role}catch(a){console.error("Error parsing expired cached role:",a)}return null}}catch(t){return console.error("Exception fetching user role:",t),null}}const rm=p.createContext(void 0),ya=20*60*1e3,li=typeof window<"u"?window.location.hostname:"",Qr=li==="rvzn.app"||li==="www.rvzn.app",dk=li==="localhost";typeof window<"u"&&console.log("Auth context initialized on domain:",li,Qr?"(main domain)":dk?"(localhost)":"(other domain)");function nm({children:e}){const[t,r]=p.useState(null),[n,s]=p.useState(null),[o,i]=p.useState(null),[a,l]=p.useState(!0),[u,d]=p.useState(Date.now()),[f,h]=p.useState(!1),[m,x]=p.useState(0),y=async()=>{var H,le,ve;if((typeof window<"u"?window.location.pathname:"").includes("/request-feedback")&&(console.log("Navigation to request-feedback detected, applying lenient session validation"),typeof window<"u"&&!!localStorage.getItem("supabase.auth.token")))return console.log("Found token in localStorage during request-feedback navigation, assuming active session"),!0;const O=typeof window<"u"&&window.location.hostname.includes("vercel.app");x(he=>he+1);const T=m+1;if(T>1&&Date.now()-u<2e3)return console.log(`Rapid navigation detected (check #${T}), using cached auth:`,f),f||!!localStorage.getItem("supabase.auth.token");const L=Qr?ya:O?ya*2:ya*1.5;if(f&&Date.now()-u<L)return console.log(`Using cached auth state (check #${T}):`,f),f;try{d(Date.now());const{data:he}=await M.auth.getSession(),R=!!((H=he.session)!=null&&H.user);if(console.log(`Session active check #${T}:`,R,"on host:",window.location.hostname,"main domain:",Qr),R)return h(!0),!n&&((le=he.session)!=null&&le.user)&&(s(he.session.user),k(he.session.user.id).catch(I=>console.error("Background role fetch error:",I))),!0;if(!R&&f&&T<5){console.log(`Session appears inactive but was active before (check #${T}), doing thorough check`);try{const I=!!localStorage.getItem("supabase.auth.token");console.log("  - Local storage token exists:",I);const D=document.cookie.split(";").some(Qe=>Qe.trim().startsWith("sb-")||Qe.trim().includes("supabase"));if(console.log("  - Auth cookies exist:",D),(I||D)&&Qr)return console.log("  - Token sources exist, maintaining auth state temporarily"),!0;const B=Qr?1e3:1500;await new Promise(Qe=>setTimeout(Qe,B));const{data:de}=await M.auth.getSession(),vr=!!((ve=de.session)!=null&&ve.user);if(console.log(`  - Retry session check result (check #${T}):`,vr),vr)return h(!0),!0}catch(I){console.error("Error during thorough session check:",I)}}return!Qr&&f?(console.log("On non-main domain with previous authentication, maintaining state"),!0):(h(R),R)}catch(he){return console.error("Error checking session status:",he),f?(console.log("Error during session check but was authenticated before, maintaining state"),f):!1}},k=async P=>{if(P)try{console.log("Background fetch of user role for:",P);const N=await po(P);N?(console.log("Successfully fetched role in background:",N),i(N),s(O=>O?{...O,userRole:N}:null)):console.warn("No role found for user in background fetch")}catch(N){console.error("Error in background role fetch:",N)}},g=async()=>{if(!(n!=null&&n.id)){console.log("Cannot refresh role: No user ID");return}try{console.log("Refreshing role for user:",n.id),await new Promise(N=>setTimeout(N,500));const P=await po(n.id);console.log("Refreshed role:",P),i(P),s(N=>N?{...N,userRole:P}:null)}catch(P){console.error("Error refreshing user role:",P)}},v=async()=>{try{console.log("AUTH DEBUG: refreshSession called");const{data:P,error:N}=await M.auth.refreshSession();if(!N&&P.session){console.log("AUTH DEBUG: Session refreshed successfully with refreshSession()"),r(P.session),s(P.session.user),h(!0),d(Date.now());try{localStorage.setItem("last_session_timestamp",Date.now().toString())}catch(L){console.error("Error storing session timestamp:",L)}o||w(P.session.user.id),l(!1);return}N&&console.warn("AUTH DEBUG: Could not refresh session, falling back to getSession()",N);const O=await Ld();if(O.error){console.error("AUTH DEBUG: Error getting session:",O.error);const L=localStorage.getItem("last_session_timestamp"),H=!!localStorage.getItem("supabase.auth.token");if(L&&H&&Date.now()-parseInt(L,10)<60*60*1e3){console.log("AUTH DEBUG: Recent session detected, keeping authentication state"),h(!0),d(Date.now()),l(!1);return}throw O.error}const T=O.session;if(console.log("AUTH DEBUG: refreshSession results",{hasSession:!!T,userId:T==null?void 0:T.user.id,expiresAt:T==null?void 0:T.expires_at}),r(T),s((T==null?void 0:T.user)??null),h(!!T),d(Date.now()),T)try{localStorage.setItem("last_session_timestamp",Date.now().toString())}catch(L){console.error("Error storing session timestamp:",L)}l(!1)}catch(P){throw console.error("AUTH DEBUG: Fatal error in refreshSession:",P),l(!1),P}},w=async P=>{try{const N=await po(P);i(N),s(O=>O?{...O,userRole:N}:null),console.log("User role fetched successfully:",N)}catch(N){console.error("Error fetching user role in background:",N)}};p.useEffect(()=>{console.log("Initializing auth provider");let P=!0;const{data:{subscription:N}}=M.auth.onAuthStateChange(async(T,L)=>{if(console.log("Auth state changed:",T,!!L),!!P)if(r(L),d(Date.now()),L!=null&&L.user){const H=L.user;console.log("User found in session:",H.id),h(!0),s(H);try{localStorage.setItem("last_session_timestamp",Date.now().toString())}catch(le){console.error("Error storing session timestamp:",le)}w(H.id),l(!1)}else{if(!P)return;s(null),i(null),h(!1),l(!1)}});return p.useCallback(async()=>{var T;if(P){console.log("AUTH DEBUG: initializeSession called"),l(!0);try{if(window.location.hash&&window.location.hash.includes("access_token")){console.log("AUTH DEBUG: Found hash params, handling auth callback");try{const{data:le,error:ve}=await M.auth.getSession();ve?console.error("Error getting session after URL hash detected:",ve):le!=null&&le.session&&console.log("Successfully retrieved session after URL hash detection")}catch(le){console.error("Error handling hash params:",le)}}const L=await Ld(),H=L.session&&L.session.expires_at!==void 0?new Date(L.session.expires_at*1e3):"none";if(console.log("AUTH DEBUG: initializeSession data",{success:!L.error,hasSession:!!L.session,expiresIn:H,localStorageToken:!!localStorage.getItem("supabase.auth.token"),cookies:document.cookie}),L.error){console.error("AUTH DEBUG: Error initializing session:",L.error);const le=localStorage.getItem("last_session_timestamp"),ve=!!localStorage.getItem("supabase.auth.token");if(le&&ve&&Date.now()-parseInt(le,10)<4*60*60*1e3){console.log("AUTH DEBUG: Recent session detected, attempting recovery");try{const{data:R,error:I}=await M.auth.refreshSession();if(!I&&R.session){console.log("AUTH DEBUG: Successfully recovered session"),r(R.session),s(R.session.user),h(!0),w(R.session.user.id),l(!1);return}else console.error("AUTH DEBUG: Session recovery failed:",I)}catch(R){console.error("AUTH DEBUG: Exception during session recovery:",R)}}l(!1);return}if(r(L.session),s(((T=L.session)==null?void 0:T.user)??null),h(!!L.session),L.session){console.log("AUTH DEBUG: Getting user role");const{isVercelPreview:le}=await Ir(async()=>{const{isVercelPreview:D}=await Promise.resolve().then(()=>sk);return{isVercelPreview:D}},void 0),ve=le?3e4:5e3,he=po(L.session.user.id),R=new Promise(D=>{setTimeout(()=>{console.log("AUTH DEBUG: Role fetch timed out!"),D(null)},ve)}),I=await Promise.race([he,R]);console.log("AUTH DEBUG: User role fetched:",{role:I,userId:L.session.user.id}),i(I)}else console.log("AUTH DEBUG: No session found, clearing role"),i(null)}catch(L){console.error("AUTH DEBUG: Unexpected error in initializeSession:",L)}finally{l(!1)}}},[])(),()=>{console.log("AUTH DEBUG: Cleaning up auth state listener"),P=!1,N==null||N.unsubscribe()}},[]);const _=async P=>{if(!(n!=null&&n.id))throw new Error("Cannot set role: No user ID");try{l(!0),await ck(n.id,n.email,P),console.log("Role set successfully:",P),i(P),s(N=>N?{...N,userRole:P}:null)}catch(N){throw console.error("Error setting user role:",N),N}finally{l(!1)}},b=async(P,N)=>{try{l(!0),console.log("Attempting to sign up with email:",P);const{error:O}=await ik(P,N);if(O)throw O;console.log("Sign up successful, awaiting email verification")}catch(O){throw console.error("Error signing up:",O),O}finally{l(!1)}},E=async(P,N)=>{try{l(!0),console.log("Attempting to sign in with email and password:",P);const{error:O}=await ok(P,N);if(O)throw O;console.log("Sign in with password successful"),d(Date.now()),h(!0)}catch(O){throw console.error("Error signing in with password:",O),O}finally{l(!1)}},S=async P=>{try{l(!0),console.log("Attempting to sign in with magic link:",P);const{error:N}=await ak(P);if(N)throw N;console.log("Sign in with magic link email sent")}catch(N){throw console.error("Error signing in with magic link:",N),N}finally{l(!1)}},j=async()=>{try{l(!0),console.log("Attempting to sign out");const{error:P}=await lk();if(P)throw P;r(null),s(null),i(null),h(!1),d(Date.now()),console.log("Sign out successful")}catch(P){throw console.error("Error signing out:",P),P}finally{l(!1)}};return c.jsx(rm.Provider,{value:{session:t,user:n,loading:a,userRole:o,isAuthenticated:f,lastAuthCheckTime:u,signUpWithEmail:b,signInWithEmailAndPassword:E,signInWithEmail:S,signOut:j,setUserRole:_,refreshUserRole:g,checkSessionActive:y,refreshSession:v},children:e})}function Je(){const e=p.useContext(rm);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function Dd(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function sm(...e){return t=>{let r=!1;const n=e.map(s=>{const o=Dd(s,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():Dd(e[s],null)}}}}function gr(...e){return p.useCallback(sm(...e),e)}var Ii=p.forwardRef((e,t)=>{const{children:r,...n}=e,s=p.Children.toArray(r),o=s.find(hk);if(o){const i=o.props.children,a=s.map(l=>l===o?p.Children.count(i)>1?p.Children.only(null):p.isValidElement(i)?i.props.children:null:l);return c.jsx(Tl,{...n,ref:t,children:p.isValidElement(i)?p.cloneElement(i,void 0,a):null})}return c.jsx(Tl,{...n,ref:t,children:r})});Ii.displayName="Slot";var Tl=p.forwardRef((e,t)=>{const{children:r,...n}=e;if(p.isValidElement(r)){const s=mk(r);return p.cloneElement(r,{...pk(n,r.props),ref:t?sm(t,s):s})}return p.Children.count(r)>1?p.Children.only(null):null});Tl.displayName="SlotClone";var fk=({children:e})=>c.jsx(c.Fragment,{children:e});function hk(e){return p.isValidElement(e)&&e.type===fk}function pk(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...a)=>{o(...a),s(...a)}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function mk(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function om(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=om(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function im(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=om(e))&&(n&&(n+=" "),n+=t);return n}const $d=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Ud=im,Hs=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Ud(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=o==null?void 0:o[u];if(d===null)return null;const h=$d(d)||$d(f);return s[u][h]}),a=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(x=>{let[y,k]=x;return Array.isArray(k)?k.includes({...o,...a}[y]):{...o,...a}[y]===k})?[...u,f,h]:u},[]);return Ud(e,i,l,r==null?void 0:r.class,r==null?void 0:r.className)},zc="-",gk=e=>{const t=yk(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const a=i.split(zc);return a[0]===""&&a.length!==1&&a.shift(),am(a,t)||vk(i)},getConflictingClassGroupIds:(i,a)=>{const l=r[i]||[];return a&&n[i]?[...l,...n[i]]:l}}},am=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?am(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(zc);return(i=t.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},Md=/^\[(.+)\]$/,vk=e=>{if(Md.test(e)){const t=Md.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},yk=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return xk(Object.entries(e.classGroups),r).forEach(([o,i])=>{Al(i,n,o,t)}),n},Al=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:Fd(t,s);o.classGroupId=r;return}if(typeof s=="function"){if(wk(s)){Al(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,i])=>{Al(i,Fd(t,o),r,n)})})},Fd=(e,t)=>{let r=e;return t.split(zc).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},wk=e=>e.isThemeGetter,xk=(e,t)=>t?e.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[t+i,a])):o);return[r,s]}):e,kk=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(o,i)=>{r.set(o,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return s(o,i),i},set(o,i){r.has(o)?r.set(o,i):s(o,i)}}},lm="!",_k=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],o=t.length,i=a=>{const l=[];let u=0,d=0,f;for(let k=0;k<a.length;k++){let g=a[k];if(u===0){if(g===s&&(n||a.slice(k,k+o)===t)){l.push(a.slice(d,k)),d=k+o;continue}if(g==="/"){f=k;continue}}g==="["?u++:g==="]"&&u--}const h=l.length===0?a:a.substring(d),m=h.startsWith(lm),x=m?h.substring(1):h,y=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:y}};return r?a=>r({className:a,parseClassName:i}):i},bk=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Sk=e=>({cache:kk(e.cacheSize),parseClassName:_k(e),...gk(e)}),Ek=/\s+/,jk=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(Ek);let a="";for(let l=i.length-1;l>=0;l-=1){const u=i[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let x=!!m,y=n(x?h.substring(0,m):h);if(!y){if(!x){a=u+(a.length>0?" "+a:a);continue}if(y=n(h),!y){a=u+(a.length>0?" "+a:a);continue}x=!1}const k=bk(d).join(":"),g=f?k+lm:k,v=g+y;if(o.includes(v))continue;o.push(v);const w=s(y,x);for(let _=0;_<w.length;++_){const b=w[_];o.push(g+b)}a=u+(a.length>0?" "+a:a)}return a};function Ck(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=cm(t))&&(n&&(n+=" "),n+=r);return n}const cm=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=cm(e[n]))&&(r&&(r+=" "),r+=t);return r};function Nk(e,...t){let r,n,s,o=i;function i(l){const u=t.reduce((d,f)=>f(d),e());return r=Sk(u),n=r.cache.get,s=r.cache.set,o=a,a(l)}function a(l){const u=n(l);if(u)return u;const d=jk(l,r);return s(l,d),d}return function(){return o(Ck.apply(null,arguments))}}const X=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},um=/^\[(?:([a-z-]+):)?(.+)\]$/i,Pk=/^\d+\/\d+$/,Rk=new Set(["px","full","screen"]),Tk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ak=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ok=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Lk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ik=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_t=e=>vn(e)||Rk.has(e)||Pk.test(e),Ut=e=>Dn(e,"length",Wk),vn=e=>!!e&&!Number.isNaN(Number(e)),wa=e=>Dn(e,"number",vn),Kn=e=>!!e&&Number.isInteger(Number(e)),Dk=e=>e.endsWith("%")&&vn(e.slice(0,-1)),$=e=>um.test(e),Mt=e=>Tk.test(e),$k=new Set(["length","size","percentage"]),Uk=e=>Dn(e,$k,dm),Mk=e=>Dn(e,"position",dm),Fk=new Set(["image","url"]),zk=e=>Dn(e,Fk,Vk),Bk=e=>Dn(e,"",Hk),Jn=()=>!0,Dn=(e,t,r)=>{const n=um.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},Wk=e=>Ak.test(e)&&!Ok.test(e),dm=()=>!1,Hk=e=>Lk.test(e),Vk=e=>Ik.test(e),qk=()=>{const e=X("colors"),t=X("spacing"),r=X("blur"),n=X("brightness"),s=X("borderColor"),o=X("borderRadius"),i=X("borderSpacing"),a=X("borderWidth"),l=X("contrast"),u=X("grayscale"),d=X("hueRotate"),f=X("invert"),h=X("gap"),m=X("gradientColorStops"),x=X("gradientColorStopPositions"),y=X("inset"),k=X("margin"),g=X("opacity"),v=X("padding"),w=X("saturate"),_=X("scale"),b=X("sepia"),E=X("skew"),S=X("space"),j=X("translate"),P=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",$,t],T=()=>[$,t],L=()=>["",_t,Ut],H=()=>["auto",vn,$],le=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ve=()=>["solid","dashed","dotted","double","none"],he=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",$],D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[vn,$];return{cacheSize:500,separator:":",theme:{colors:[Jn],spacing:[_t,Ut],blur:["none","",Mt,$],brightness:B(),borderColor:[e],borderRadius:["none","","full",Mt,$],borderSpacing:T(),borderWidth:L(),contrast:B(),grayscale:I(),hueRotate:B(),invert:I(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[Dk,Ut],inset:O(),margin:O(),opacity:B(),padding:T(),saturate:B(),scale:B(),sepia:I(),skew:B(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",$]}],container:["container"],columns:[{columns:[Mt]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...le(),$]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Kn,$]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",Kn,$]}],"grid-cols":[{"grid-cols":[Jn]}],"col-start-end":[{col:["auto",{span:["full",Kn,$]},$]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Jn]}],"row-start-end":[{row:["auto",{span:[Kn,$]},$]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[k]}],mx:[{mx:[k]}],my:[{my:[k]}],ms:[{ms:[k]}],me:[{me:[k]}],mt:[{mt:[k]}],mr:[{mr:[k]}],mb:[{mb:[k]}],ml:[{ml:[k]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",$,t]}],"min-w":[{"min-w":[$,t,"min","max","fit"]}],"max-w":[{"max-w":[$,t,"none","full","min","max","fit","prose",{screen:[Mt]},Mt]}],h:[{h:[$,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[$,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[$,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[$,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Mt,Ut]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",wa]}],"font-family":[{font:[Jn]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$]}],"line-clamp":[{"line-clamp":["none",vn,wa]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",_t,$]}],"list-image":[{"list-image":["none",$]}],"list-style-type":[{list:["none","disc","decimal",$]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ve(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",_t,Ut]}],"underline-offset":[{"underline-offset":["auto",_t,$]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...le(),Mk]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Uk]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},zk]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...ve(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:ve()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ve()]}],"outline-offset":[{"outline-offset":[_t,$]}],"outline-w":[{outline:[_t,Ut]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[_t,Ut]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Mt,Bk]}],"shadow-color":[{shadow:[Jn]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...he(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":he()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Mt,$]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[b]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[b]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",$]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",$]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Kn,$]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[_t,Ut,wa]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Gk=Nk(qk);function ne(...e){return Gk(im(e))}const Kk=Hs("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),re=p.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},o)=>{const i=n?Ii:"button";return c.jsx(i,{className:ne(Kk({variant:t,size:r,className:e})),ref:o,...s})});re.displayName="Button";const ar=p.forwardRef(({className:e,type:t,...r},n)=>c.jsx("input",{type:t,className:ne("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));ar.displayName="Input";const q=p.forwardRef(({className:e,...t},r)=>c.jsx("div",{ref:r,className:ne("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));q.displayName="Card";const J=p.forwardRef(({className:e,...t},r)=>c.jsx("div",{ref:r,className:ne("flex flex-col space-y-1.5 p-6",e),...t}));J.displayName="CardHeader";const Q=p.forwardRef(({className:e,...t},r)=>c.jsx("h3",{ref:r,className:ne("text-2xl font-semibold leading-none tracking-tight",e),...t}));Q.displayName="CardTitle";const be=p.forwardRef(({className:e,...t},r)=>c.jsx("p",{ref:r,className:ne("text-sm text-muted-foreground",e),...t}));be.displayName="CardDescription";const G=p.forwardRef(({className:e,...t},r)=>c.jsx("div",{ref:r,className:ne("p-6 pt-0",e),...t}));G.displayName="CardContent";const Jk=p.forwardRef(({className:e,...t},r)=>c.jsx("div",{ref:r,className:ne("flex items-center p-6 pt-0",e),...t}));Jk.displayName="CardFooter";function ht({className:e="",fullScreen:t=!0,...r}){return t?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Loading..."}),c.jsx("div",{className:`animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto ${e}`,...r})]})}):c.jsx("div",{className:`animate-spin rounded-full border-b-2 border-primary ${e}`,...r})}/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fm=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Yk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:i,...a},l)=>p.createElement("svg",{ref:l,...Yk,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:fm("lucide",s),...a},[...i.map(([u,d])=>p.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=(e,t)=>{const r=p.forwardRef(({className:n,...s},o)=>p.createElement(Xk,{ref:o,iconNode:t,className:fm(`lucide-${Qk(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=ke("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=ke("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=ke("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=ke("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=ke("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=ke("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=ke("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=ke("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=ke("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=ke("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=ke("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=ke("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=ke("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=ke("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=ke("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=ke("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=ke("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=ke("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),a1=Hs("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ls=p.forwardRef(({className:e,variant:t,...r},n)=>c.jsx("div",{ref:n,role:"alert",className:ne(a1({variant:t}),e),...r}));Ls.displayName="Alert";const Is=p.forwardRef(({className:e,...t},r)=>c.jsx("h5",{ref:r,className:ne("mb-1 font-medium leading-none tracking-tight",e),...t}));Is.displayName="AlertTitle";const Ds=p.forwardRef(({className:e,...t},r)=>c.jsx("div",{ref:r,className:ne("text-sm [&_p]:leading-relaxed",e),...t}));Ds.displayName="AlertDescription";function l1(){const e=st(),{signInWithEmailAndPassword:t,signUpWithEmail:r,userRole:n}=Je(),[s,o]=p.useState(""),[i,a]=p.useState(""),[l,u]=p.useState(""),[d,f]=p.useState(!1),[h,m]=p.useState(null),[x,y]=p.useState("signin"),k=()=>{a(""),u("")},g=async w=>{if(w.preventDefault(),!s.trim()){m({type:"error",text:"Please enter your email address"});return}if(!i){m({type:"error",text:"Please enter your password"});return}if(x==="signup"&&i!==l){m({type:"error",text:"Passwords do not match"});return}try{f(!0),m({type:"info",text:x==="signin"?"Signing in...":"Creating your account..."}),x==="signin"?(await t(s,i),m({type:"success",text:"Sign in successful!"}),setTimeout(()=>{e(n?"/dashboard":"/role-selection")},500)):(await r(s,i),m({type:"success",text:"Account created successfully! Please check your email to confirm your account before signing in."}),k(),setTimeout(()=>y("signin"),2e3))}catch(_){console.error("Authentication error:",_);let b="Authentication failed. Please try again.";_ instanceof Error&&(_.message.includes("invalid login credentials")?b="Invalid email or password. Please try again.":_.message.includes("email already in use")?b="This email is already registered. Please sign in instead.":_.message.includes("password")?b="Password is too weak. Please use at least 6 characters.":b=_.message),m({type:"error",text:b})}finally{f(!1)}},v=()=>{y(x==="signin"?"signup":"signin"),m(null),k()};return c.jsx("div",{className:"container flex items-center justify-center min-h-screen",children:c.jsxs(q,{className:"w-full max-w-md",children:[c.jsxs(J,{className:"space-y-1",children:[c.jsx(Q,{className:"text-2xl text-center",children:"Welcome"}),c.jsx(be,{className:"text-center",children:x==="signin"?"Sign in to get started":"Create a new account"})]}),c.jsxs(G,{className:"space-y-4",children:[c.jsxs("form",{onSubmit:g,className:"space-y-4",children:[c.jsx("div",{className:"space-y-2",children:c.jsx(ar,{type:"email",placeholder:"Email",value:s,onChange:w=>o(w.target.value),disabled:d,required:!0})}),c.jsx("div",{className:"space-y-2",children:c.jsx(ar,{type:"password",placeholder:"Password",value:i,onChange:w=>a(w.target.value),disabled:d,required:!0})}),x==="signup"&&c.jsx("div",{className:"space-y-2",children:c.jsx(ar,{type:"password",placeholder:"Confirm Password",value:l,onChange:w=>u(w.target.value),disabled:d,required:!0})}),c.jsx(re,{type:"submit",className:"w-full",disabled:d,children:d?c.jsx(ht,{fullScreen:!1,className:"mr-2 h-4 w-4"}):x==="signin"?"Sign In":"Sign Up"}),c.jsx("div",{className:"text-center text-sm",children:c.jsx("button",{type:"button",onClick:v,className:"text-blue-600 hover:underline focus:outline-none",children:x==="signin"?"Don't have an account? Sign up":"Already have an account? Sign in"})})]}),h&&c.jsxs(Ls,{variant:h.type==="success"?"default":h.type==="error"?"destructive":"default",className:`p-3 rounded-md text-sm ${h.type==="success"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":h.type==="error"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400"}`,children:[h.type==="error"?c.jsx(ci,{className:"h-4 w-4"}):h.type==="info"?c.jsx(e1,{className:"h-4 w-4"}):null,c.jsx(Is,{children:h.type==="success"?"Success":h.type==="error"?"Error":"Info"}),c.jsx(Ds,{children:h.text})]})]})]})})}function c1(){const e=st(),{user:t,userRole:r,loading:n}=Je(),[s,o]=p.useState("Initializing..."),[i,a]=p.useState(!1);return p.useEffect(()=>{const l=setTimeout(()=>{a(!0)},1e3);return()=>clearTimeout(l)},[]),p.useEffect(()=>{if(console.log("SplashScreen state:",{loading:n,user:t==null?void 0:t.id,userRole:r,delayComplete:i}),n||!i){o(n?"Loading your account...":"Preparing your experience...");return}if(!t){console.log("SplashScreen: No user found, redirecting to login"),o("Redirecting to login..."),e("/login",{replace:!0});return}if(t&&!r){console.log("SplashScreen: User has no role, redirecting to role selection"),o("Redirecting to role selection..."),e("/role-selection",{replace:!0});return}if(t&&r){console.log("SplashScreen: User has role, redirecting to dashboard"),o("Loading your dashboard..."),e("/dashboard",{replace:!0});return}},[e,t,r,n,i]),c.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-background",children:c.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-24 h-24 rounded-full bg-primary/10 flex items-center justify-center",children:c.jsx("span",{className:"text-3xl font-bold text-primary",children:"MF"})}),c.jsx(ht,{fullScreen:!1,className:"absolute -bottom-2 -right-2"})]}),c.jsxs("div",{className:"text-center space-y-2",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Micro-Mentorship"}),c.jsx("p",{className:"text-muted-foreground",children:s})]})]})})}const vm=p.createContext(void 0);function ym({children:e}){const{user:t,session:r}=Je(),[n,s]=p.useState(null),[o,i]=p.useState(0),[a,l]=p.useState(!0),[u,d]=p.useState([]),[f,h]=p.useState([]);p.useEffect(()=>{console.log("AppContext: Auth state changed",{hasAuthUser:!!t,hasSession:!!r,authUserId:t==null?void 0:t.id});async function E(){if(!(t!=null&&t.id)){s(null),l(!1);return}try{const{data:S,error:j}=await M.from("users").select("*").eq("id",t.id).maybeSingle();if(console.log("AppContext: Loaded profile",{hasProfile:!!S,error:j,userId:t.id}),j)throw j;S?(s({id:S.id,email:S.email,role:S.role,credits:S.credits}),i(S.credits||0)):s(null)}catch(S){console.error("Error loading user data:",S),s(null)}finally{l(!1)}}E()},[t,r]),p.useEffect(()=>{n&&(m(),x())},[n]);async function m(){if(!n)return;if(n.role==="mentee"){const{data:j}=await M.from("users").select("credits").eq("id",n.id).single();j&&i(j.credits)}const{data:E}=await M.from("notifications").select("*").eq("user_id",n.id).order("created_at",{ascending:!1});E&&d(E);const{data:S}=await M.from("feedback_requests").select("*").or(`mentee_id.eq.${n.id},mentor_id.eq.${n.id}`).order("created_at",{ascending:!1});S&&h(S)}function x(){if(!n)return;const E=M.channel("notifications").on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${n.id}`},j=>{j.eventType==="INSERT"&&d(P=>[j.new,...P])}).subscribe(),S=M.channel("feedback_requests").on("postgres_changes",{event:"*",schema:"public",table:"feedback_requests",filter:`mentee_id=eq.${n.id}`},j=>{j.eventType==="UPDATE"&&h(P=>P.map(N=>N.id===j.new.id?j.new:N))}).subscribe();return()=>{E.unsubscribe(),S.unsubscribe()}}async function y(E){if(!n)return;const{error:S}=await M.from("feedback_requests").insert([{...E,mentee_id:n.id,status:"pending",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]);if(S)throw S;await m()}async function k(E){if(!n)return;const{error:S}=await M.from("feedback_requests").update({status:"accepted",mentor_id:n.id,updated_at:new Date().toISOString()}).eq("id",E);if(S)throw S;await m()}async function g(E,S){if(!n)return;const{error:j}=await M.from("feedback_requests").update({status:"completed",feedback:S,updated_at:new Date().toISOString()}).eq("id",E);if(j)throw j;await m()}async function v(E,S){if(!n)return;const{error:j}=await M.from("feedback_requests").update({status:"declined",feedback:S,updated_at:new Date().toISOString()}).eq("id",E);if(j)throw j;await m()}async function w(E){if(!n)return;const{error:S}=await M.from("notifications").update({read:!0}).eq("id",E);if(S)throw S;await m()}async function _(E){if(!n)return;const{error:S}=await M.from("users").update({credits:(n.credits||0)+E}).eq("id",n.id);if(S)throw S;await m()}const b={user:n,credits:o,loading:a,notifications:u,feedbackRequests:f,createFeedbackRequest:y,acceptFeedbackRequest:k,completeFeedbackRequest:g,declineFeedbackRequest:v,markNotificationAsRead:w,purchaseCredits:_};return c.jsx(vm.Provider,{value:b,children:e})}function Dt(){const e=p.useContext(vm);if(e===void 0)throw new Error("useApp must be used within an AppProvider");return e}class u1 extends Ml.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){console.error("Error caught by boundary:",t,r)}render(){return this.state.hasError?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Something went wrong"}),c.jsx("button",{onClick:()=>this.setState({hasError:!1}),className:"text-blue-500 hover:underline",children:"Try again"})]})}):this.props.children}}const d1={theme:"system",setTheme:()=>null},f1=p.createContext(d1);function wm({children:e,defaultTheme:t="system",storageKey:r="vite-ui-theme",...n}){const[s,o]=p.useState(()=>localStorage.getItem(r)||t);p.useEffect(()=>{const a=window.document.documentElement;if(a.classList.remove("light","dark"),s==="system"){const l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";a.classList.add(l);return}a.classList.add(s)},[s]);const i={theme:s,setTheme:a=>{localStorage.setItem(r,a),o(a)}};return c.jsx(f1.Provider,{...n,value:i,children:e})}function h1(e,t){const r=p.createContext(t),n=o=>{const{children:i,...a}=o,l=p.useMemo(()=>a,Object.values(a));return c.jsx(r.Provider,{value:l,children:i})};n.displayName=e+"Provider";function s(o){const i=p.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,s]}function Wc(e,t=[]){let r=[];function n(o,i){const a=p.createContext(i),l=r.length;r=[...r,i];const u=f=>{var g;const{scope:h,children:m,...x}=f,y=((g=h==null?void 0:h[e])==null?void 0:g[l])||a,k=p.useMemo(()=>x,Object.values(x));return c.jsx(y.Provider,{value:k,children:m})};u.displayName=o+"Provider";function d(f,h){var y;const m=((y=h==null?void 0:h[e])==null?void 0:y[l])||a,x=p.useContext(m);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=r.map(i=>p.createContext(i));return function(a){const l=(a==null?void 0:a[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[n,p1(s,...t)]}function p1(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((a,{useScope:l,scopeName:u})=>{const f=l(o)[`__scope${u}`];return{...a,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function ur(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var Dr=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},m1=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Le=m1.reduce((e,t)=>{const r=p.forwardRef((n,s)=>{const{asChild:o,...i}=n,a=o?Ii:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(a,{...i,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function g1(e,t){e&&Rc.flushSync(()=>e.dispatchEvent(t))}var Hc="Avatar",[v1,Nb]=Wc(Hc),[y1,xm]=v1(Hc),km=p.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,o]=p.useState("idle");return c.jsx(y1,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:c.jsx(Le.span,{...n,ref:t})})});km.displayName=Hc;var _m="AvatarImage",bm=p.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...o}=e,i=xm(_m,r),a=w1(n,o.referrerPolicy),l=ur(u=>{s(u),i.onImageLoadingStatusChange(u)});return Dr(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?c.jsx(Le.img,{...o,ref:t,src:n}):null});bm.displayName=_m;var Sm="AvatarFallback",Em=p.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,o=xm(Sm,r),[i,a]=p.useState(n===void 0);return p.useEffect(()=>{if(n!==void 0){const l=window.setTimeout(()=>a(!0),n);return()=>window.clearTimeout(l)}},[n]),i&&o.imageLoadingStatus!=="loaded"?c.jsx(Le.span,{...s,ref:t}):null});Em.displayName=Sm;function w1(e,t){const[r,n]=p.useState("idle");return Dr(()=>{if(!e){n("error");return}let s=!0;const o=new window.Image,i=a=>()=>{s&&n(a)};return n("loading"),o.onload=i("loaded"),o.onerror=i("error"),o.src=e,t&&(o.referrerPolicy=t),()=>{s=!1}},[e,t]),r}var jm=km,Cm=bm,Nm=Em;const Vc=p.forwardRef(({className:e,...t},r)=>c.jsx(jm,{ref:r,className:ne("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Vc.displayName=jm.displayName;const Pm=p.forwardRef(({className:e,...t},r)=>c.jsx(Cm,{ref:r,className:ne("aspect-square h-full w-full",e),...t}));Pm.displayName=Cm.displayName;const qc=p.forwardRef(({className:e,...t},r)=>c.jsx(Nm,{ref:r,className:ne("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));qc.displayName=Nm.displayName;function x1({role:e,credits:t,onMenuClick:r}){const[n,s]=p.useState(!1),[o,i]=p.useState(!1),a=p.useRef(null),l=p.useRef(null),u=st(),{notifications:d}=Dt(),{signOut:f}=Je(),h=d.filter(y=>!y.read).length;p.useEffect(()=>{function y(k){a.current&&!a.current.contains(k.target)&&s(!1),l.current&&!l.current.contains(k.target)&&i(!1)}return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]);const m=async()=>{try{console.log("Header: Signing out"),console.log("Header: Navigating to login page"),u("/login",{replace:!0}),setTimeout(async()=>{try{await f(),console.log("Header: Sign out completed after navigation"),window.location.reload()}catch(y){console.error("Error in delayed sign out:",y)}},100)}catch(y){console.error("Error in handleSignOut:",y),window.location.href="/login"}},x=()=>{i(!1)};return c.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:c.jsxs("div",{className:"container flex h-14 items-center",children:[c.jsxs(re,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:r,children:[c.jsx(r1,{className:"h-6 w-6"}),c.jsx("span",{className:"sr-only",children:"Toggle menu"})]}),c.jsxs("div",{className:"flex flex-1 items-center justify-end space-x-4",children:[e==="mentee"&&c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Credits:"}),c.jsx("div",{className:"font-bold text-primary",children:t}),c.jsx(br,{to:"/dashboard/credits",children:c.jsx(re,{size:"sm",variant:"outline",children:"Buy Credits"})})]}),c.jsxs("div",{className:"relative",ref:a,children:[c.jsxs(re,{variant:"ghost",size:"icon",onClick:()=>s(!n),className:"relative",children:[c.jsx(hm,{className:"h-5 w-5"}),h>0&&c.jsx("span",{className:"absolute -top-1 -right-1 h-4 w-4 rounded-full bg-destructive text-xs text-destructive-foreground flex items-center justify-center",children:h})]}),n&&c.jsxs("div",{className:"absolute right-0 mt-2 w-80 rounded-md bg-popover text-popover-foreground shadow-md ring-1 ring-black ring-opacity-5",children:[c.jsx("div",{className:"p-4 border-b",children:c.jsx("h3",{className:"text-sm font-medium",children:"Notifications"})}),c.jsx("div",{className:"max-h-96 overflow-y-auto",children:d.length>0?d.slice(0,5).map(y=>c.jsx("div",{className:"p-4 hover:bg-muted",children:c.jsx("p",{className:"text-sm",children:y.message})},y.id)):c.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"No notifications"})}),c.jsx("div",{className:"p-4 border-t",children:c.jsx(br,{to:"/dashboard/notifications",className:"text-sm text-primary hover:underline",onClick:()=>s(!1),children:"View All Notifications"})})]})]}),c.jsxs("div",{className:"relative",ref:l,children:[c.jsx(re,{variant:"ghost",className:"relative",onClick:()=>i(!o),children:c.jsx(Vc,{className:"h-8 w-8",children:c.jsx(qc,{children:e==="mentee"?"M":"T"})})}),o&&c.jsx("div",{className:"absolute right-0 mt-2 w-48 rounded-md bg-popover text-popover-foreground shadow-md ring-1 ring-black ring-opacity-5",children:c.jsxs("div",{className:"py-1",children:[c.jsxs(br,{to:"/dashboard/profile",className:"block px-4 py-2 text-sm flex items-center space-x-2 hover:bg-accent hover:text-accent-foreground",onClick:x,children:[c.jsx(o1,{className:"h-4 w-4"}),c.jsx("span",{children:"Profile"})]}),c.jsxs(br,{to:"/dashboard/settings",className:"block px-4 py-2 text-sm flex items-center space-x-2 hover:bg-accent hover:text-accent-foreground",onClick:x,children:[c.jsx(gm,{className:"h-4 w-4"}),c.jsx("span",{children:"Settings"})]}),e==="mentee"&&c.jsxs(br,{to:"/dashboard/credits",className:"block px-4 py-2 text-sm flex items-center space-x-2 hover:bg-accent hover:text-accent-foreground",onClick:x,children:[c.jsx(Os,{className:"h-4 w-4"}),c.jsx("span",{children:"Buy Credits"})]}),c.jsx("div",{className:"border-t my-1"}),c.jsxs("button",{onClick:m,className:"w-full text-left px-4 py-2 text-sm flex items-center space-x-2 hover:bg-accent hover:text-accent-foreground text-destructive hover:text-destructive",children:[c.jsx(t1,{className:"h-4 w-4"}),c.jsx("span",{children:"Sign Out"})]})]})})]})]})]})})}function Nt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var k1=yf.useId||(()=>{}),_1=0;function xa(e){const[t,r]=p.useState(k1());return Dr(()=>{e||r(n=>n??String(_1++))},[e]),e||(t?`radix-${t}`:"")}function Rm({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=b1({defaultProp:t,onChange:r}),o=e!==void 0,i=o?e:n,a=ur(r),l=p.useCallback(u=>{if(o){const f=typeof u=="function"?u(e):u;f!==e&&a(f)}else s(u)},[o,e,s,a]);return[i,l]}function b1({defaultProp:e,onChange:t}){const r=p.useState(e),[n]=r,s=p.useRef(n),o=ur(t);return p.useEffect(()=>{s.current!==n&&(o(n),s.current=n)},[n,s,o]),r}function S1(e,t=globalThis==null?void 0:globalThis.document){const r=ur(e);p.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var E1="DismissableLayer",Ol="dismissableLayer.update",j1="dismissableLayer.pointerDownOutside",C1="dismissableLayer.focusOutside",Hd,Tm=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Am=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...l}=e,u=p.useContext(Tm),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),x=gr(t,S=>f(S)),y=Array.from(u.layers),[k]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=y.indexOf(k),v=d?y.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=v>=g,b=R1(S=>{const j=S.target,P=[...u.branches].some(N=>N.contains(j));!_||P||(s==null||s(S),i==null||i(S),S.defaultPrevented||a==null||a())},h),E=T1(S=>{const j=S.target;[...u.branches].some(N=>N.contains(j))||(o==null||o(S),i==null||i(S),S.defaultPrevented||a==null||a())},h);return S1(S=>{v===u.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))},h),p.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Hd=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Vd(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Hd)}},[d,h,r,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Vd())},[d,u]),p.useEffect(()=>{const S=()=>m({});return document.addEventListener(Ol,S),()=>document.removeEventListener(Ol,S)},[]),c.jsx(Le.div,{...l,ref:x,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:Nt(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Nt(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Nt(e.onPointerDownCapture,b.onPointerDownCapture)})});Am.displayName=E1;var N1="DismissableLayerBranch",P1=p.forwardRef((e,t)=>{const r=p.useContext(Tm),n=p.useRef(null),s=gr(t,n);return p.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),c.jsx(Le.div,{...e,ref:s})});P1.displayName=N1;function R1(e,t=globalThis==null?void 0:globalThis.document){const r=ur(e),n=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const o=a=>{if(a.target&&!n.current){let l=function(){Om(j1,r,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function T1(e,t=globalThis==null?void 0:globalThis.document){const r=ur(e),n=p.useRef(!1);return p.useEffect(()=>{const s=o=>{o.target&&!n.current&&Om(C1,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Vd(){const e=new CustomEvent(Ol);document.dispatchEvent(e)}function Om(e,t,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?g1(s,o):s.dispatchEvent(o)}var ka="focusScope.autoFocusOnMount",_a="focusScope.autoFocusOnUnmount",qd={bubbles:!1,cancelable:!0},A1="FocusScope",Lm=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[a,l]=p.useState(null),u=ur(s),d=ur(o),f=p.useRef(null),h=gr(t,y=>l(y)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let y=function(w){if(m.paused||!a)return;const _=w.target;a.contains(_)?f.current=_:Bt(f.current,{select:!0})},k=function(w){if(m.paused||!a)return;const _=w.relatedTarget;_!==null&&(a.contains(_)||Bt(f.current,{select:!0}))},g=function(w){if(document.activeElement===document.body)for(const b of w)b.removedNodes.length>0&&Bt(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",k);const v=new MutationObserver(g);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",k),v.disconnect()}}},[n,a,m.paused]),p.useEffect(()=>{if(a){Kd.add(m);const y=document.activeElement;if(!a.contains(y)){const g=new CustomEvent(ka,qd);a.addEventListener(ka,u),a.dispatchEvent(g),g.defaultPrevented||(O1(U1(Im(a)),{select:!0}),document.activeElement===y&&Bt(a))}return()=>{a.removeEventListener(ka,u),setTimeout(()=>{const g=new CustomEvent(_a,qd);a.addEventListener(_a,d),a.dispatchEvent(g),g.defaultPrevented||Bt(y??document.body,{select:!0}),a.removeEventListener(_a,d),Kd.remove(m)},0)}}},[a,u,d,m]);const x=p.useCallback(y=>{if(!r&&!n||m.paused)return;const k=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,g=document.activeElement;if(k&&g){const v=y.currentTarget,[w,_]=L1(v);w&&_?!y.shiftKey&&g===_?(y.preventDefault(),r&&Bt(w,{select:!0})):y.shiftKey&&g===w&&(y.preventDefault(),r&&Bt(_,{select:!0})):g===v&&y.preventDefault()}},[r,n,m.paused]);return c.jsx(Le.div,{tabIndex:-1,...i,ref:h,onKeyDown:x})});Lm.displayName=A1;function O1(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Bt(n,{select:t}),document.activeElement!==r)return}function L1(e){const t=Im(e),r=Gd(t,e),n=Gd(t.reverse(),e);return[r,n]}function Im(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Gd(e,t){for(const r of e)if(!I1(r,{upTo:t}))return r}function I1(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function D1(e){return e instanceof HTMLInputElement&&"select"in e}function Bt(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&D1(e)&&t&&e.select()}}var Kd=$1();function $1(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Jd(e,t),e.unshift(t)},remove(t){var r;e=Jd(e,t),(r=e[0])==null||r.resume()}}}function Jd(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function U1(e){return e.filter(t=>t.tagName!=="A")}var M1="Portal",Dm=p.forwardRef((e,t)=>{var a;const{container:r,...n}=e,[s,o]=p.useState(!1);Dr(()=>o(!0),[]);const i=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?Ky.createPortal(c.jsx(Le.div,{...n,ref:t}),i):null});Dm.displayName=M1;function F1(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var Di=e=>{const{present:t,children:r}=e,n=z1(t),s=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),o=gr(n.ref,B1(s));return typeof r=="function"||n.isPresent?p.cloneElement(s,{ref:o}):null};Di.displayName="Presence";function z1(e){const[t,r]=p.useState(),n=p.useRef({}),s=p.useRef(e),o=p.useRef("none"),i=e?"mounted":"unmounted",[a,l]=F1(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=mo(n.current);o.current=a==="mounted"?u:"none"},[a]),Dr(()=>{const u=n.current,d=s.current;if(d!==e){const h=o.current,m=mo(u);e?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),Dr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const y=mo(n.current).includes(m.animationName);if(m.target===t&&y&&(l("ANIMATION_END"),!s.current)){const k=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=k)})}},h=m=>{m.target===t&&(o.current=mo(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function mo(e){return(e==null?void 0:e.animationName)||"none"}function B1(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ba=0;function W1(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Qd()),document.body.insertAdjacentElement("beforeend",e[1]??Qd()),ba++,()=>{ba===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ba--}},[])}function Qd(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var wt=function(){return wt=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},wt.apply(this,arguments)};function $m(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function H1(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var Ao="right-scroll-bar-position",Oo="width-before-scroll-bar",V1="with-scroll-bars-hidden",q1="--removed-body-scroll-bar-size";function Sa(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function G1(e,t){var r=p.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var K1=typeof window<"u"?p.useLayoutEffect:p.useEffect,Yd=new WeakMap;function J1(e,t){var r=G1(null,function(n){return e.forEach(function(s){return Sa(s,n)})});return K1(function(){var n=Yd.get(r);if(n){var s=new Set(n),o=new Set(e),i=r.current;s.forEach(function(a){o.has(a)||Sa(a,null)}),o.forEach(function(a){s.has(a)||Sa(a,i)})}Yd.set(r,e)},[e]),r}function Q1(e){return e}function Y1(e,t){t===void 0&&(t=Q1);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var i=t(o,n);return r.push(i),function(){r=r.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(a){return o(a)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var a=r;r=[],a.forEach(o),i=r}var l=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(l)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return s}function X1(e){e===void 0&&(e={});var t=Y1(null);return t.options=wt({async:!0,ssr:!1},e),t}var Um=function(e){var t=e.sideCar,r=$m(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return p.createElement(n,wt({},r))};Um.isSideCarExport=!0;function Z1(e,t){return e.useMedium(t),Um}var Mm=X1(),Ea=function(){},$i=p.forwardRef(function(e,t){var r=p.useRef(null),n=p.useState({onScrollCapture:Ea,onWheelCapture:Ea,onTouchMoveCapture:Ea}),s=n[0],o=n[1],i=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noIsolation,x=e.inert,y=e.allowPinchZoom,k=e.as,g=k===void 0?"div":k,v=e.gapMode,w=$m(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,b=J1([r,t]),E=wt(wt({},w),s);return p.createElement(p.Fragment,null,d&&p.createElement(_,{sideCar:Mm,removeScrollBar:u,shards:f,noIsolation:m,inert:x,setCallbacks:o,allowPinchZoom:!!y,lockRef:r,gapMode:v}),i?p.cloneElement(p.Children.only(a),wt(wt({},E),{ref:b})):p.createElement(g,wt({},E,{className:l,ref:b}),a))});$i.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};$i.classNames={fullWidth:Oo,zeroRight:Ao};var e_=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function t_(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=e_();return t&&e.setAttribute("nonce",t),e}function r_(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function n_(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var s_=function(){var e=0,t=null;return{add:function(r){e==0&&(t=t_())&&(r_(t,r),n_(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},o_=function(){var e=s_();return function(t,r){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Fm=function(){var e=o_(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},i_={left:0,top:0,right:0,gap:0},ja=function(e){return parseInt(e||"",10)||0},a_=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[ja(r),ja(n),ja(s)]},l_=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return i_;var t=a_(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},c_=Fm(),yn="data-scroll-locked",u_=function(e,t,r,n){var s=e.left,o=e.top,i=e.right,a=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(V1,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(yn,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ao,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Oo,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Ao," .").concat(Ao,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Oo," .").concat(Oo,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(yn,`] {
    `).concat(q1,": ").concat(a,`px;
  }
`)},Xd=function(){var e=parseInt(document.body.getAttribute(yn)||"0",10);return isFinite(e)?e:0},d_=function(){p.useEffect(function(){return document.body.setAttribute(yn,(Xd()+1).toString()),function(){var e=Xd()-1;e<=0?document.body.removeAttribute(yn):document.body.setAttribute(yn,e.toString())}},[])},f_=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;d_();var o=p.useMemo(function(){return l_(s)},[s]);return p.createElement(c_,{styles:u_(o,!t,s,r?"":"!important")})},Ll=!1;if(typeof window<"u")try{var go=Object.defineProperty({},"passive",{get:function(){return Ll=!0,!0}});window.addEventListener("test",go,go),window.removeEventListener("test",go,go)}catch{Ll=!1}var Gr=Ll?{}:!1,h_=function(e){return e.tagName==="TEXTAREA"},zm=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!h_(e)&&r[t]==="visible")},p_=function(e){return zm(e,"overflowY")},m_=function(e){return zm(e,"overflowX")},Zd=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=Bm(e,n);if(s){var o=Wm(e,n),i=o[1],a=o[2];if(i>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},g_=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},v_=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Bm=function(e,t){return e==="v"?p_(t):m_(t)},Wm=function(e,t){return e==="v"?g_(t):v_(t)},y_=function(e,t){return e==="h"&&t==="rtl"?-1:1},w_=function(e,t,r,n,s){var o=y_(e,window.getComputedStyle(t).direction),i=o*n,a=r.target,l=t.contains(a),u=!1,d=i>0,f=0,h=0;do{var m=Wm(e,a),x=m[0],y=m[1],k=m[2],g=y-k-o*x;(x||g)&&Bm(e,a)&&(f+=g,h+=x),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},vo=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ef=function(e){return[e.deltaX,e.deltaY]},tf=function(e){return e&&"current"in e?e.current:e},x_=function(e,t){return e[0]===t[0]&&e[1]===t[1]},k_=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},__=0,Kr=[];function b_(e){var t=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),s=p.useState(__++)[0],o=p.useState(Fm)[0],i=p.useRef(e);p.useEffect(function(){i.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=H1([e.lockRef.current],(e.shards||[]).map(tf),!0).filter(Boolean);return y.forEach(function(k){return k.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=p.useCallback(function(y,k){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!i.current.allowPinchZoom;var g=vo(y),v=r.current,w="deltaX"in y?y.deltaX:v[0]-g[0],_="deltaY"in y?y.deltaY:v[1]-g[1],b,E=y.target,S=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in y&&S==="h"&&E.type==="range")return!1;var j=Zd(S,E);if(!j)return!0;if(j?b=S:(b=S==="v"?"h":"v",j=Zd(S,E)),!j)return!1;if(!n.current&&"changedTouches"in y&&(w||_)&&(n.current=b),!b)return!0;var P=n.current||b;return w_(P,k,y,P==="h"?w:_,!0)},[]),l=p.useCallback(function(y){var k=y;if(!(!Kr.length||Kr[Kr.length-1]!==o)){var g="deltaY"in k?ef(k):vo(k),v=t.current.filter(function(b){return b.name===k.type&&(b.target===k.target||k.target===b.shadowParent)&&x_(b.delta,g)})[0];if(v&&v.should){k.cancelable&&k.preventDefault();return}if(!v){var w=(i.current.shards||[]).map(tf).filter(Boolean).filter(function(b){return b.contains(k.target)}),_=w.length>0?a(k,w[0]):!i.current.noIsolation;_&&k.cancelable&&k.preventDefault()}}},[]),u=p.useCallback(function(y,k,g,v){var w={name:y,delta:k,target:g,should:v,shadowParent:S_(g)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=p.useCallback(function(y){r.current=vo(y),n.current=void 0},[]),f=p.useCallback(function(y){u(y.type,ef(y),y.target,a(y,e.lockRef.current))},[]),h=p.useCallback(function(y){u(y.type,vo(y),y.target,a(y,e.lockRef.current))},[]);p.useEffect(function(){return Kr.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Gr),document.addEventListener("touchmove",l,Gr),document.addEventListener("touchstart",d,Gr),function(){Kr=Kr.filter(function(y){return y!==o}),document.removeEventListener("wheel",l,Gr),document.removeEventListener("touchmove",l,Gr),document.removeEventListener("touchstart",d,Gr)}},[]);var m=e.removeScrollBar,x=e.inert;return p.createElement(p.Fragment,null,x?p.createElement(o,{styles:k_(s)}):null,m?p.createElement(f_,{gapMode:e.gapMode}):null)}function S_(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const E_=Z1(Mm,b_);var Hm=p.forwardRef(function(e,t){return p.createElement($i,wt({},e,{ref:t,sideCar:E_}))});Hm.classNames=$i.classNames;var j_=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Jr=new WeakMap,yo=new WeakMap,wo={},Ca=0,Vm=function(e){return e&&(e.host||Vm(e.parentNode))},C_=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=Vm(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},N_=function(e,t,r,n){var s=C_(t,Array.isArray(e)?e:[e]);wo[r]||(wo[r]=new WeakMap);var o=wo[r],i=[],a=new Set,l=new Set(s),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var m=h.getAttribute(n),x=m!==null&&m!=="false",y=(Jr.get(h)||0)+1,k=(o.get(h)||0)+1;Jr.set(h,y),o.set(h,k),i.push(h),y===1&&x&&yo.set(h,!0),k===1&&h.setAttribute(r,"true"),x||h.setAttribute(n,"true")}catch(g){console.error("aria-hidden: cannot operate on ",h,g)}})};return d(t),a.clear(),Ca++,function(){i.forEach(function(f){var h=Jr.get(f)-1,m=o.get(f)-1;Jr.set(f,h),o.set(f,m),h||(yo.has(f)||f.removeAttribute(n),yo.delete(f)),m||f.removeAttribute(r)}),Ca--,Ca||(Jr=new WeakMap,Jr=new WeakMap,yo=new WeakMap,wo={})}},P_=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=j_(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),N_(n,s,r,"aria-hidden")):function(){return null}},Gc="Dialog",[qm,Pb]=Wc(Gc),[R_,mt]=qm(Gc),Gm=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,a=p.useRef(null),l=p.useRef(null),[u=!1,d]=Rm({prop:n,defaultProp:s,onChange:o});return c.jsx(R_,{scope:t,triggerRef:a,contentRef:l,contentId:xa(),titleId:xa(),descriptionId:xa(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};Gm.displayName=Gc;var Km="DialogTrigger",T_=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=mt(Km,r),o=gr(t,s.triggerRef);return c.jsx(Le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Qc(s.open),...n,ref:o,onClick:Nt(e.onClick,s.onOpenToggle)})});T_.displayName=Km;var Kc="DialogPortal",[A_,Jm]=qm(Kc,{forceMount:void 0}),Qm=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,o=mt(Kc,t);return c.jsx(A_,{scope:t,forceMount:r,children:p.Children.map(n,i=>c.jsx(Di,{present:r||o.open,children:c.jsx(Dm,{asChild:!0,container:s,children:i})}))})};Qm.displayName=Kc;var ui="DialogOverlay",Ym=p.forwardRef((e,t)=>{const r=Jm(ui,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=mt(ui,e.__scopeDialog);return o.modal?c.jsx(Di,{present:n||o.open,children:c.jsx(O_,{...s,ref:t})}):null});Ym.displayName=ui;var O_=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=mt(ui,r);return c.jsx(Hm,{as:Ii,allowPinchZoom:!0,shards:[s.contentRef],children:c.jsx(Le.div,{"data-state":Qc(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),$r="DialogContent",Xm=p.forwardRef((e,t)=>{const r=Jm($r,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=mt($r,e.__scopeDialog);return c.jsx(Di,{present:n||o.open,children:o.modal?c.jsx(L_,{...s,ref:t}):c.jsx(I_,{...s,ref:t})})});Xm.displayName=$r;var L_=p.forwardRef((e,t)=>{const r=mt($r,e.__scopeDialog),n=p.useRef(null),s=gr(t,r.contentRef,n);return p.useEffect(()=>{const o=n.current;if(o)return P_(o)},[]),c.jsx(Zm,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Nt(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Nt(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:Nt(e.onFocusOutside,o=>o.preventDefault())})}),I_=p.forwardRef((e,t)=>{const r=mt($r,e.__scopeDialog),n=p.useRef(!1),s=p.useRef(!1);return c.jsx(Zm,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),Zm=p.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,a=mt($r,r),l=p.useRef(null),u=gr(t,l);return W1(),c.jsxs(c.Fragment,{children:[c.jsx(Lm,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:c.jsx(Am,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Qc(a.open),...i,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(D_,{titleId:a.titleId}),c.jsx(U_,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Jc="DialogTitle",eg=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=mt(Jc,r);return c.jsx(Le.h2,{id:s.titleId,...n,ref:t})});eg.displayName=Jc;var tg="DialogDescription",rg=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=mt(tg,r);return c.jsx(Le.p,{id:s.descriptionId,...n,ref:t})});rg.displayName=tg;var ng="DialogClose",sg=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=mt(ng,r);return c.jsx(Le.button,{type:"button",...n,ref:t,onClick:Nt(e.onClick,()=>s.onOpenChange(!1))})});sg.displayName=ng;function Qc(e){return e?"open":"closed"}var og="DialogTitleWarning",[Rb,ig]=h1(og,{contentName:$r,titleName:Jc,docsSlug:"dialog"}),D_=({titleId:e})=>{const t=ig(og),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},$_="DialogDescriptionWarning",U_=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ig($_).contentName}}.`;return p.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},M_=Gm,F_=Qm,ag=Ym,lg=Xm,cg=eg,ug=rg,z_=sg;const B_=M_,W_=F_,dg=p.forwardRef(({className:e,...t},r)=>c.jsx(ag,{className:ne("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));dg.displayName=ag.displayName;const H_=Hs("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),fg=p.forwardRef(({side:e="right",className:t,children:r,...n},s)=>c.jsxs(W_,{children:[c.jsx(dg,{}),c.jsxs(lg,{ref:s,className:ne(H_({side:e}),t),...n,children:[r,c.jsxs(z_,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[c.jsx(i1,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));fg.displayName=lg.displayName;const V_=p.forwardRef(({className:e,...t},r)=>c.jsx(cg,{ref:r,className:ne("text-lg font-semibold text-foreground",e),...t}));V_.displayName=cg.displayName;const q_=p.forwardRef(({className:e,...t},r)=>c.jsx(ug,{ref:r,className:ne("text-sm text-muted-foreground",e),...t}));q_.displayName=ug.displayName;const rf={mentee:[{href:"/dashboard",label:"Dashboard",icon:Wd},{href:"/dashboard/mentors",label:"Find Mentors",icon:Bc},{href:"/dashboard/credits",label:"Credits",icon:Os},{href:"/dashboard/mentors",label:"Request Feedback",icon:Bd}],mentor:[{href:"/dashboard",label:"Dashboard",icon:Wd},{href:"/dashboard/feedback-history",label:"Feedback History",icon:Bd},{href:"/dashboard/earnings",label:"Earnings",icon:Os}],common:[{href:"/dashboard/notifications",label:"Notifications",icon:hm},{href:"/dashboard/settings",label:"Settings",icon:gm}]};function G_({role:e,isOpen:t,onClose:r}){const n=mr(),s=[...rf[e],...rf.common],o=a=>a==="/dashboard"?n.pathname==="/dashboard"||n.pathname==="/dashboard/":n.pathname.startsWith(a),i=()=>c.jsxs("div",{className:"h-full flex flex-col",children:[c.jsx("div",{className:"mt-14 p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"text-2xl font-bold text-primary",children:""}),c.jsx("span",{className:"ml-2 text-xl font-semibold",children:"Dashboard"})]})}),c.jsx("nav",{className:"flex-1 px-4 space-y-2",children:s.map(a=>{const l=a.icon;return c.jsx(br,{to:a.href,onClick:r,children:c.jsxs(re,{variant:"ghost",className:ne("w-full justify-start gap-2",o(a.href)&&"bg-accent text-accent-foreground"),children:[c.jsx(l,{className:"h-5 w-5"}),a.label]})},a.href)})})]});return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col lg:fixed lg:inset-y-0",children:c.jsx("div",{className:"flex flex-col flex-grow border-r bg-background",children:c.jsx(i,{})})}),c.jsx(B_,{open:t,onOpenChange:r,children:c.jsx(fg,{side:"left",className:"w-64 p-0",children:c.jsx(i,{})})})]})}function K_(){const{feedbackRequests:e,credits:t}=Dt(),{refreshSession:r}=Je(),[n,s]=p.useState("all"),[o,i]=p.useState("date"),a=async()=>{console.log("AUTH DEBUG: Clicking Request Feedback link");try{console.log(" Refreshing session before navigation..."),await r();try{await Nn()}catch(f){console.error("Debug error:",f)}console.log("AUTH DEBUG: Session refreshed successfully, proceeding with navigation"),typeof window<"u"&&sessionStorage.setItem("lastNavigation",JSON.stringify({from:window.location.pathname,to:"/dashboard/request-feedback",time:new Date().toISOString()})),setTimeout(()=>{window.location.href=`${window.location.origin}/dashboard/request-feedback`},100)}catch(f){console.error("Error during navigation preparation:",f),window.location.href=`${window.location.origin}/dashboard/request-feedback`}},l=e.filter(f=>n==="all"||f.status===n).sort((f,h)=>o==="date"?new Date(h.created_at).getTime()-new Date(f.created_at).getTime():f.status.localeCompare(h.status)),u=e.filter(f=>f.status==="pending"),d=e.filter(f=>f.status==="completed");return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[c.jsxs(q,{children:[c.jsxs(J,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(Q,{className:"text-sm font-medium",children:"Available Credits"}),c.jsx(Os,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsx(G,{children:c.jsx("div",{className:"text-2xl font-bold",children:t})})]}),c.jsxs(q,{children:[c.jsxs(J,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(Q,{className:"text-sm font-medium",children:"Active Requests"}),c.jsx(pm,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsx(G,{children:c.jsx("div",{className:"text-2xl font-bold",children:u.length})})]}),c.jsxs(q,{children:[c.jsxs(J,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(Q,{className:"text-sm font-medium",children:"Completed Reviews"}),c.jsx(Bc,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsx(G,{children:c.jsx("div",{className:"text-2xl font-bold",children:d.length})})]})]}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[c.jsx(re,{className:"w-full",size:"lg",onClick:a,children:"Request New Feedback"}),c.jsx(br,{to:"/mentors",children:c.jsx(re,{variant:"secondary",className:"w-full",size:"lg",children:"Find a Mentor"})})]}),c.jsxs(q,{children:[c.jsxs(J,{children:[c.jsx(Q,{children:"Feedback History"}),c.jsx(be,{children:"View and manage your feedback requests"}),c.jsxs("div",{className:"flex space-x-4 mt-4",children:[c.jsxs("select",{value:n,onChange:f=>s(f.target.value),className:"rounded-md border bg-background px-3 py-2 text-sm ring-offset-background",children:[c.jsx("option",{value:"all",children:"All Status"}),c.jsx("option",{value:"pending",children:"Pending"}),c.jsx("option",{value:"completed",children:"Completed"})]}),c.jsxs("select",{value:o,onChange:f=>i(f.target.value),className:"rounded-md border bg-background px-3 py-2 text-sm ring-offset-background",children:[c.jsx("option",{value:"date",children:"Sort by Date"}),c.jsx("option",{value:"status",children:"Sort by Status"})]})]})]}),c.jsx(G,{children:c.jsx("div",{className:"space-y-6",children:l.map(f=>c.jsxs("div",{className:"border-b pb-6 last:border-b-0 last:pb-0",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium",children:f.description}),c.jsxs("div",{className:"mt-1 space-x-4",children:[c.jsx("a",{href:f.link,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline text-sm",children:"View Design"}),c.jsxs("span",{className:"text-sm text-muted-foreground",children:["Submitted on ",f.created_at&&new Date(f.created_at).toLocaleDateString()]})]})]}),c.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${f.status==="pending"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100"}`,children:f.status.charAt(0).toUpperCase()+f.status.slice(1)})]}),f.feedback&&c.jsxs("div",{className:"mt-4 bg-muted rounded-lg p-4",children:[c.jsx("h4",{className:"text-sm font-medium mb-2",children:"Feedback"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:f.feedback})]})]},f.id))})})]})]})}const Yc=p.forwardRef(({className:e,...t},r)=>c.jsx("textarea",{className:ne("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Yc.displayName="Textarea";var J_="Label",hg=p.forwardRef((e,t)=>c.jsx(Le.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));hg.displayName=J_;var pg=hg;const Q_=Hs("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ur=p.forwardRef(({className:e,...t},r)=>c.jsx(pg,{ref:r,className:ne(Q_(),e),...t}));Ur.displayName=pg.displayName;function Y_(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function X_(e){const[t,r]=p.useState(void 0);return Dr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const l=o.borderBoxSize,u=Array.isArray(l)?l[0]:l;i=u.inlineSize,a=u.blockSize}else i=e.offsetWidth,a=e.offsetHeight;r({width:i,height:a})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Xc="Switch",[Z_,Tb]=Wc(Xc),[eb,tb]=Z_(Xc),mg=p.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:o,required:i,disabled:a,value:l="on",onCheckedChange:u,form:d,...f}=e,[h,m]=p.useState(null),x=gr(t,w=>m(w)),y=p.useRef(!1),k=h?d||!!h.closest("form"):!0,[g=!1,v]=Rm({prop:s,defaultProp:o,onChange:u});return c.jsxs(eb,{scope:r,checked:g,disabled:a,children:[c.jsx(Le.button,{type:"button",role:"switch","aria-checked":g,"aria-required":i,"data-state":yg(g),"data-disabled":a?"":void 0,disabled:a,value:l,...f,ref:x,onClick:Nt(e.onClick,w=>{v(_=>!_),k&&(y.current=w.isPropagationStopped(),y.current||w.stopPropagation())})}),k&&c.jsx(rb,{control:h,bubbles:!y.current,name:n,value:l,checked:g,required:i,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});mg.displayName=Xc;var gg="SwitchThumb",vg=p.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=tb(gg,r);return c.jsx(Le.span,{"data-state":yg(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});vg.displayName=gg;var rb=e=>{const{control:t,checked:r,bubbles:n=!0,...s}=e,o=p.useRef(null),i=Y_(r),a=X_(t);return p.useEffect(()=>{const l=o.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==r&&f){const h=new Event("click",{bubbles:n});f.call(l,r),l.dispatchEvent(h)}},[i,r,n]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:o,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function yg(e){return e?"checked":"unchecked"}var wg=mg,nb=vg;const xg=p.forwardRef(({className:e,...t},r)=>c.jsx(wg,{className:ne("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:c.jsx(nb,{className:ne("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));xg.displayName=wg.displayName;const nf=({request:e,onClose:t,onSubmit:r,onDecline:n})=>{const[s,o]=p.useState("");return c.jsxs(q,{className:"w-full max-w-2xl",children:[c.jsx(J,{className:"space-y-1",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx(Q,{children:e.description}),c.jsxs("div",{className:"flex items-center mt-2 space-x-2",children:[c.jsxs("span",{className:"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary text-primary-foreground hover:bg-primary/80",children:[e.credits_cost," Credits"]}),c.jsx("span",{className:"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",children:e.urgency})]})]}),c.jsxs(re,{variant:"ghost",size:"icon",onClick:t,children:[c.jsx("span",{className:"sr-only",children:"Close"}),c.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]})}),c.jsxs(G,{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("h4",{className:"font-medium",children:"Request Details"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("h4",{className:"font-medium",children:"Design Link"}),c.jsx("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline text-sm",children:"View Design"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("h4",{className:"font-medium",children:"Your Feedback"}),c.jsx(Yc,{value:s,onChange:i=>o(i.target.value),placeholder:"Enter your feedback here...",className:"min-h-[150px]"})]}),c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsx(re,{variant:"ghost",onClick:()=>n(),children:"Decline Request"}),c.jsx(re,{onClick:()=>r(s),children:"Submit Feedback"})]})]})]})};function sb(){const{feedbackRequests:e,completeFeedbackRequest:t,declineFeedbackRequest:r,user:n}=Dt(),[s,o]=p.useState({id:null,view:null}),[i,a]=p.useState(""),[l,u]=p.useState(null),[d,f]=p.useState(!1),[h,m]=p.useState(!1);p.useEffect(()=>{n&&x()},[n]);async function x(){var b;try{const{data:E,error:S}=await M.from("users").select("price_per_feedback, available").eq("id",n==null?void 0:n.id).single();if(S)throw S;E&&(a(((b=E.price_per_feedback)==null?void 0:b.toString())||""),m(E.available||!1))}catch(E){console.error("Error fetching mentor status:",E)}}async function y(b){if(n)try{const{error:E}=await M.from("users").update({available:b}).eq("id",n.id);if(E)throw E;m(b)}catch(E){console.error("Error updating availability:",E)}}async function k(){if(!n)return;const b=parseInt(i);if(isNaN(b)||b<1){u("Please enter a valid price (minimum 1 credit)");return}f(!0),u(null);try{const{error:E}=await M.from("users").update({price_per_feedback:b}).eq("id",n.id);if(E)throw E}catch(E){u(E instanceof Error?E.message:"Failed to update price")}finally{f(!1)}}const g=async(b,E)=>{try{await t(b,E),o({id:null,view:null})}catch(S){console.error("Error submitting feedback:",S)}},v=async b=>{try{await r(b,"Request declined"),o({id:null,view:null})}catch(E){console.error("Error declining request:",E)}},w=e.filter(b=>b.status==="pending"),_=e.filter(b=>b.status==="completed");return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[c.jsxs(q,{children:[c.jsxs(J,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(Q,{className:"text-sm font-medium",children:"Total Feedback Given"}),c.jsx(Bc,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsx(G,{children:c.jsx("div",{className:"text-2xl font-bold",children:_.length})})]}),c.jsxs(q,{children:[c.jsxs(J,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(Q,{className:"text-sm font-medium",children:"Pending Requests"}),c.jsx(pm,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsx(G,{children:c.jsx("div",{className:"text-2xl font-bold",children:w.length})})]}),c.jsxs(q,{children:[c.jsxs(J,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(Q,{className:"text-sm font-medium",children:"Available Earnings"}),c.jsx(mm,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsx(G,{children:c.jsx("div",{className:"text-2xl font-bold text-green-600",children:"$0"})})]})]}),c.jsxs(q,{children:[c.jsxs(J,{children:[c.jsx(Q,{children:"Availability Status"}),c.jsx(be,{children:"Control whether you're available to receive new feedback requests"})]}),c.jsx(G,{children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx(xg,{checked:h,onCheckedChange:y}),c.jsx(Ur,{children:"Available for new requests"})]})})]}),c.jsxs(q,{children:[c.jsxs(J,{children:[c.jsx(Q,{children:"Set Your Price"}),c.jsx(be,{children:"Set how many credits you charge for each piece of feedback"})]}),c.jsx(G,{children:c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ur,{htmlFor:"price",children:"Price per feedback (in credits)"}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(ar,{id:"price",type:"number",min:"1",value:i,onChange:b=>{a(b.target.value),u(null)},placeholder:"Enter price in credits",className:"max-w-[200px]"}),c.jsx(re,{onClick:k,disabled:d,children:d?"Saving...":"Save Price"})]}),l&&c.jsx("p",{className:"text-sm text-destructive",children:l}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Set a competitive price that reflects your expertise and the value of your feedback. Remember that mentees will see this price when browsing for mentors."})]})})})]}),c.jsxs(q,{children:[c.jsxs(J,{children:[c.jsx(Q,{children:"Pending Feedback Requests"}),c.jsx(be,{children:"Review and respond to feedback requests from mentees"})]}),c.jsx(G,{children:c.jsx("div",{className:"space-y-4",children:w.length===0?c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No pending feedback requests at this time"}):c.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:w.map(b=>c.jsx(q,{className:"bg-muted",children:c.jsx(G,{className:"p-4",children:c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsx("h3",{className:"font-medium line-clamp-2",children:b.description}),c.jsx("span",{className:"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold border-transparent bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100",children:b.urgency})]}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Requested on ",b.created_at&&new Date(b.created_at).toLocaleDateString()]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("span",{className:"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold border-transparent bg-primary text-primary-foreground",children:[b.credits_cost," Credits"]}),c.jsx(re,{onClick:()=>o({id:b.id,view:"fullpage"}),children:"Provide Feedback"})]})]})})},b.id))})})})]}),s.id&&s.view==="sidebar"&&c.jsx("div",{className:"fixed inset-y-0 right-0 w-[600px] bg-background border-l",children:c.jsx(nf,{request:e.find(b=>b.id===s.id),onClose:()=>o({id:null,view:null}),onSubmit:b=>g(s.id,b),onDecline:()=>v(s.id)})}),s.id&&s.view==="fullpage"&&c.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm",children:c.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:c.jsx(nf,{request:e.find(b=>b.id===s.id),onClose:()=>o({id:null,view:null}),onSubmit:b=>g(s.id,b),onDecline:()=>v(s.id)})})})]})}const ob=Hs("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Lo({className:e,variant:t,...r}){return c.jsx("div",{className:ne(ob({variant:t}),e),...r})}function ib({onSelectMentor:e}){const[t,r]=p.useState([]),[n,s]=p.useState(!0),[o,i]=p.useState(null),[a,l]=p.useState({expertise:"",language:"",minRating:0});p.useEffect(()=>{u()},[]);async function u(){try{s(!0);const{data:m,error:x}=await M.from("users").select("*").eq("role","mentor").order("rating",{ascending:!1});if(x)throw x;r(m||[])}catch(m){i(m instanceof Error?m.message:"Failed to load mentors")}finally{s(!1)}}const d=Array.from(new Set(t.flatMap(m=>m.expertise||[]))),f=Array.from(new Set(t.flatMap(m=>m.languages||[]))),h=t.filter(m=>{const x=!a.expertise||m.expertise&&m.expertise.includes(a.expertise),y=!a.language||m.languages&&m.languages.includes(a.language),k=!m.rating||m.rating>=a.minRating;return x&&y&&k});return n?c.jsx("div",{className:"flex items-center justify-center p-8",children:c.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):o?c.jsx(q,{className:"bg-destructive/10",children:c.jsxs(G,{className:"p-6",children:[c.jsx("p",{className:"text-destructive",children:o}),c.jsx(re,{onClick:u,variant:"outline",className:"mt-2",children:"Try again"})]})}):c.jsxs(q,{children:[c.jsxs(J,{children:[c.jsx(Q,{children:"Available Mentors"}),c.jsx(be,{children:"Find the perfect mentor for your design feedback"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:a.expertise,onChange:m=>l({...a,expertise:m.target.value}),children:[c.jsx("option",{value:"",children:"Any Expertise"}),d.map(m=>c.jsx("option",{value:m,children:m},m))]}),c.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:a.language,onChange:m=>l({...a,language:m.target.value}),children:[c.jsx("option",{value:"",children:"Any Language"}),f.map(m=>c.jsx("option",{value:m,children:m},m))]}),c.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:a.minRating,onChange:m=>l({...a,minRating:Number(m.target.value)}),children:[c.jsx("option",{value:"0",children:"Any Rating"}),c.jsx("option",{value:"4",children:"4.0+"}),c.jsx("option",{value:"4.5",children:"4.5+"}),c.jsx("option",{value:"4.8",children:"4.8+"})]})]})]}),c.jsx(G,{children:c.jsx("div",{className:"space-y-6",children:h.length===0?c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No mentors found matching your criteria"}):c.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:h.map(m=>{var x,y;return c.jsxs(q,{children:[c.jsx(J,{children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs(Vc,{className:"h-12 w-12",children:[c.jsx(Pm,{src:m.avatar_url||void 0}),c.jsx(qc,{children:((x=m.name)==null?void 0:x[0])||"?"})]}),c.jsxs("div",{className:"flex-1 space-y-1",children:[c.jsx(Q,{children:m.name||"Anonymous"}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(s1,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),c.jsx("span",{children:m.rating!==null&&m.rating!==void 0?m.rating.toFixed(1):"0.0"}),c.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",m.review_count||0," reviews)"]})]})]}),c.jsx(Lo,{variant:m.available?"default":"secondary",children:m.available?"Available":"Unavailable"})]})}),c.jsx(G,{children:c.jsxs("div",{className:"space-y-4",children:[m.bio&&c.jsx(be,{className:"line-clamp-2",children:m.bio}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[(y=m.expertise)==null?void 0:y.slice(0,3).map(k=>c.jsx(Lo,{variant:"outline",children:k},k)),m.expertise&&m.expertise.length>3&&c.jsxs(Lo,{variant:"outline",children:["+",m.expertise.length-3," more"]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"text-lg font-semibold",children:m.price_per_feedback!==null?`${m.price_per_feedback} credits`:"Price not set"}),c.jsx(re,{onClick:()=>e(m.id),disabled:!m.available||m.price_per_feedback===null,children:m.available?m.price_per_feedback===null?"Price Not Set":"Request Feedback":"Currently Unavailable"})]})]})})]},m.id)})})})})]})}function ab(){const e=st(),t=r=>{e(`/request-feedback/${r}`)};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Find a Mentor"}),c.jsx("button",{onClick:()=>e("/"),className:"text-gray-600 hover:text-gray-900",children:"Back to Dashboard"})]}),c.jsx(ib,{onSelectMentor:t})]})}function lb(){const{credits:e}=Dt(),t=[{id:1,credits:10,price:25,popular:!1},{id:2,credits:25,price:50,popular:!0},{id:3,credits:50,price:90,popular:!1}];return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Credits"}),c.jsxs("div",{className:"bg-white px-4 py-2 rounded-lg shadow",children:[c.jsx("span",{className:"text-gray-600",children:"Available Credits:"}),c.jsx("span",{className:"ml-2 font-bold text-blue-600",children:e})]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:t.map(r=>c.jsxs("div",{className:`bg-white rounded-lg shadow-lg overflow-hidden ${r.popular?"ring-2 ring-blue-500":""}`,children:[r.popular&&c.jsx("div",{className:"bg-blue-500 text-white text-center py-1 text-sm",children:"Most Popular"}),c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"text-center",children:[c.jsxs("h3",{className:"text-2xl font-bold",children:[r.credits," Credits"]}),c.jsxs("p",{className:"text-gray-600 mt-1",children:["$",r.price]}),c.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["$",(r.price/r.credits).toFixed(2)," per credit"]})]}),c.jsx("button",{className:"w-full mt-6 bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",onClick:()=>console.log(`Purchasing ${r.credits} credits`),children:"Purchase"})]})]},r.id))})]})}function cb(){const[e,t]=p.useState({email:!1,push:!1});return c.jsx("div",{children:c.jsx("input",{type:"checkbox",checked:e.email,onChange:r=>t(n=>({...n,email:r.target.checked}))})})}function ub(){const{notifications:e}=Dt();return c.jsxs("div",{className:"space-y-8",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Notifications"}),c.jsx("div",{className:"bg-white rounded-lg shadow divide-y",children:e.sort((t,r)=>new Date(r.created_at).getTime()-new Date(t.created_at).getTime()).map(t=>c.jsxs("div",{className:"p-4 hover:bg-gray-50",children:[c.jsx("p",{className:"text-gray-600",children:t.message}),c.jsx("span",{className:"text-sm text-gray-500",children:new Date(t.created_at).toLocaleDateString()})]},t.id))})]})}function sf(){const{mentorId:e}=b0(),t=st(),{user:r,credits:n}=Dt(),{user:s,loading:o,isAuthenticated:i,refreshSession:a}=Je(),[l,u]=p.useState(null),[d,f]=p.useState(!0),[h,m]=p.useState(null),[x,y]=p.useState(!1),[k,g]=p.useState(!1),[v,w]=p.useState(null),[_,b]=p.useState({}),[E,S]=p.useState({link:"",description:""});p.useEffect(()=>{console.log(" RequestFeedbackPage mounted, checking auth state..."),Nn();const O=()=>{console.log(" User interaction, re-checking auth state..."),Nn()};return document.addEventListener("click",O),()=>document.removeEventListener("click",O)},[]);const j=p.useCallback(()=>{const O={page:"RequestFeedbackPage",url:window.location.href,time:new Date().toISOString(),hasUser:!!s,userId:(s==null?void 0:s.id)??"none",isAuthenticated:i,sessionValid:v,hasLocalStorageToken:!!localStorage.getItem("supabase.auth.token"),cookies:document.cookie,lastNavigation:JSON.parse(sessionStorage.getItem("lastNavigation")||"{}"),hasLastNavTime:!!sessionStorage.getItem("lastNavigation")};return console.log("AUTH DEBUG: RequestFeedbackPage state",O),b(T=>({...T,...O})),O},[s,i,v]);p.useEffect(()=>{j()},[e,s,r,o,d,h,k,i,v,j]);const P=p.useCallback(async()=>{try{if(console.log("AUTH DEBUG: RequestFeedbackPage validating session"),i&&s)return console.log("AUTH DEBUG: RequestFeedbackPage already authenticated in memory"),w(!0),!0;console.log("AUTH DEBUG: RequestFeedbackPage refreshing session");try{await a();const O=!!s;return console.log("AUTH DEBUG: RequestFeedbackPage session refresh result:",{isSessionValid:O,hasUser:!!s}),w(O),O}catch(O){return console.error("AUTH DEBUG: RequestFeedbackPage session refresh error:",O),s?(console.log("AUTH DEBUG: RequestFeedbackPage has user despite refresh error"),w(!0),!0):(w(!1),!1)}}catch(O){return console.error("AUTH DEBUG: RequestFeedbackPage session validation error",O),s?(console.log("AUTH DEBUG: RequestFeedbackPage has user despite validation error"),w(!0),!0):(w(!1),!1)}},[a,i,s]);p.useEffect(()=>{o||(async()=>{try{console.log("AUTH DEBUG: RequestFeedbackPage checking auth state"),j(),await new Promise(L=>setTimeout(L,300));const T=await P();g(!0),j(),setTimeout(()=>{!T&&!s&&(console.warn("AUTH DEBUG: RequestFeedbackPage no valid session, redirecting to login"),t("/login",{replace:!0,state:{from:`/request-feedback/${e}`}}))},500)}catch(T){console.error("AUTH DEBUG: RequestFeedbackPage auth check error",T),g(!0)}})()},[o,s,P,t,e,j]),p.useEffect(()=>{if(!e){f(!1),m("No mentor specified");return}if(k&&v===!1&&!s){f(!1);return}(async()=>{try{(!i||!s)&&localStorage.getItem("supabase.auth.token")&&(console.log("AUTH DEBUG: RequestFeedbackPage found token in storage, refreshing session"),await a(),j())}catch(L){console.error("AUTH DEBUG: RequestFeedbackPage error in auth state persistence",L)}})(),(async()=>{try{f(!0),console.log("Fetching mentor data for ID:",e);const{data:L,error:H}=await M.from("users").select("id, name, price_per_feedback").eq("id",e).single();if(H)throw console.error("Error fetching mentor:",H),H;if(!L)throw console.error("No mentor found with ID:",e),new Error("Mentor not found");if(!L.price_per_feedback)throw console.error("Mentor has no price set:",L),new Error("This mentor has not set their price yet");console.log("Successfully fetched mentor:",L),u(L)}catch(L){const H=L instanceof Error?L.message:"Failed to load mentor";console.error("RequestFeedbackPage error:",H),m(H)}finally{f(!1)}})()},[e,k,v,i,s,a,j]);async function N(O){if(O.preventDefault(),!await P()){m("Your session has expired. Please log in again."),setTimeout(()=>t("/login",{replace:!0}),1500);return}if(!l||!r){console.error("Cannot submit: Missing mentor or user data"),m("Missing required data. Please try again.");return}if(!E.link||!E.description){m("Please fill in all fields");return}if(n<l.price_per_feedback){m(`You need ${l.price_per_feedback} credits to request feedback from this mentor. Please purchase more credits.`);return}try{y(!0),console.log("Submitting feedback request to mentor:",l.id);const{error:L}=await M.from("feedback_requests").insert([{mentee_id:r.id,mentor_id:l.id,description:E.description,link:E.link,status:"pending",credits_cost:l.price_per_feedback,urgency:"medium"}]);if(L)throw console.error("Error creating feedback request:",L),L;const{error:H}=await M.from("users").update({credits:n-l.price_per_feedback}).eq("id",r.id);if(H)throw console.error("Error updating credits:",H),H;console.log("Feedback request submitted successfully"),t("/dashboard")}catch(L){const H=L instanceof Error?L.message:"Failed to submit feedback request";console.error("RequestFeedbackPage submission error:",H),m(H),y(!1)}}return o||d&&!h||v===null?c.jsxs("div",{className:"flex flex-col items-center justify-center p-8",children:[c.jsx(ht,{fullScreen:!1}),c.jsx("span",{className:"mt-4 text-gray-700 dark:text-gray-300",children:"Loading..."}),c.jsxs("div",{className:"mt-8 p-4 max-w-lg w-full bg-slate-100 dark:bg-slate-800 rounded text-xs",children:[c.jsx("p",{className:"font-bold",children:"Request Feedback Debug Info:"}),c.jsx("pre",{className:"whitespace-pre-wrap overflow-auto max-h-80",children:JSON.stringify(_,null,2)})]})]}):h?c.jsxs(q,{className:"max-w-2xl mx-auto",children:[c.jsxs(J,{children:[c.jsx(Q,{children:"Error"}),c.jsx(be,{children:"We encountered a problem:"})]}),c.jsxs(G,{children:[c.jsxs(Ls,{variant:"destructive",children:[c.jsx(ci,{className:"h-4 w-4"}),c.jsx(Is,{children:"Error"}),c.jsx(Ds,{children:h})]}),c.jsx(re,{onClick:()=>t(-1),className:"mt-4",children:"Go Back"})]})]}):l?c.jsx("div",{className:"max-w-2xl mx-auto",children:c.jsxs(q,{children:[c.jsxs(J,{children:[c.jsxs(Q,{children:["Request Feedback from ",l.name]}),c.jsxs(be,{children:["This will cost ",l.price_per_feedback," credits. You currently have ",n," credits."]})]}),c.jsx(G,{children:c.jsxs("form",{onSubmit:N,className:"space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ur,{htmlFor:"link",children:"Design Link"}),c.jsx(ar,{id:"link",type:"url",placeholder:"https://www.figma.com/...",value:E.link,onChange:O=>S(T=>({...T,link:O.target.value})),required:!0}),c.jsx(be,{children:"Link to your design (Figma, Dribbble, etc.)"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ur,{htmlFor:"description",children:"Description"}),c.jsx(Yc,{id:"description",placeholder:"Please describe what specific aspects you'd like feedback on...",value:E.description,onChange:O=>S(T=>({...T,description:O.target.value})),required:!0,className:"min-h-[150px]"})]}),c.jsxs("div",{className:"flex justify-end space-x-4",children:[c.jsx(re,{type:"button",variant:"outline",onClick:()=>t(-1),children:"Cancel"}),c.jsx(re,{type:"submit",disabled:n<l.price_per_feedback||x,children:x?"Submitting...":`Request Feedback (${l.price_per_feedback} credits)`})]})]})})]})}):c.jsxs(q,{className:"max-w-2xl mx-auto",children:[c.jsxs(J,{children:[c.jsx(Q,{children:"Mentor Not Found"}),c.jsx(be,{children:"We couldn't find the mentor you're looking for."})]}),c.jsx(G,{children:c.jsx(re,{onClick:()=>t("/mentors"),children:"Browse Mentors"})})]})}function of(){const{feedbackRequests:e}=Dt(),{userRole:t,user:r}=Je(),[n,s]=p.useState("all"),[o,i]=p.useState("all"),a=e.filter(l=>{const u=t==="mentee"?l.mentee_id===(r==null?void 0:r.id):l.mentor_id===(r==null?void 0:r.id),d=o==="all"||l.status===o;let f=!0;if(n!=="all"&&l.created_at){const h=new Date(l.created_at);f=Math.floor((Date.now()-h.getTime())/(1e3*60*60*24))<=parseInt(n)}return u&&d&&f}).sort((l,u)=>new Date(u.created_at).getTime()-new Date(l.created_at).getTime());return c.jsx("div",{className:"space-y-8",children:c.jsxs(q,{children:[c.jsx(J,{children:c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[c.jsxs("div",{children:[c.jsx(Q,{children:"Feedback History"}),c.jsx(be,{children:t==="mentee"?"Your submitted feedback requests":"Feedback you have provided to mentees"})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:[c.jsxs("select",{value:n,onChange:l=>s(l.target.value),className:"px-3 py-2 rounded-md border bg-background text-sm",children:[c.jsx("option",{value:"all",children:"All Time"}),c.jsx("option",{value:"30",children:"Last 30 Days"}),c.jsx("option",{value:"90",children:"Last 90 Days"})]}),c.jsxs("select",{value:o,onChange:l=>i(l.target.value),className:"px-3 py-2 rounded-md border bg-background text-sm",children:[c.jsx("option",{value:"all",children:"All Status"}),c.jsx("option",{value:"completed",children:"Completed"}),c.jsx("option",{value:"pending",children:"Pending"}),c.jsx("option",{value:"declined",children:"Declined"})]})]})]})}),c.jsx(G,{children:a.length===0?c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No feedback requests found matching your criteria"}):c.jsx("div",{className:"divide-y",children:a.map(l=>c.jsxs("div",{className:"py-6 first:pt-0 last:pb-0",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium",children:l.description}),c.jsxs("div",{className:"mt-1 space-x-4",children:[l.link&&c.jsx("a",{href:l.link,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline text-sm",children:"View Design"}),l.created_at&&c.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(l.created_at).toLocaleDateString()})]})]}),c.jsx(Lo,{className:l.status==="completed"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100":l.status==="pending"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-100",children:l.status.charAt(0).toUpperCase()+l.status.slice(1)})]}),l.feedback&&c.jsxs("div",{className:"mt-4 bg-muted rounded-lg p-4",children:[c.jsx("h4",{className:"text-sm font-medium mb-2",children:"Feedback"}),c.jsx("p",{className:"text-muted-foreground whitespace-pre-line",children:l.feedback})]}),t==="mentor"&&l.status==="pending"&&c.jsx("div",{className:"mt-4 flex justify-end",children:c.jsx(re,{onClick:()=>window.location.href="/dashboard",variant:"secondary",size:"sm",children:"Provide Feedback"})})]},l.id))})})]})})}function db(){const{feedbackRequests:e,user:t}=Dt(),[r,n]=p.useState(""),[s,o]=p.useState(""),i=e.filter(d=>d.mentor_id===(t==null?void 0:t.id)&&d.status==="completed"),a=i.reduce((d,f)=>d+(f.credits_cost||0),0),l=a,u=()=>{alert(`Payout of $${r} requested to ${s}. This would be processed by your payment provider in a real application.`)};return c.jsxs("div",{className:"space-y-8",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Earnings & Payouts"}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[c.jsxs(q,{children:[c.jsxs(J,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(Q,{className:"text-sm font-medium",children:"Total Earnings"}),c.jsx(mm,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(G,{children:[c.jsxs("div",{className:"text-2xl font-bold",children:["$",a]}),c.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Lifetime earnings from all completed feedback"})]})]}),c.jsxs(q,{children:[c.jsxs(J,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(Q,{className:"text-sm font-medium",children:"Available for Payout"}),c.jsx(Os,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(G,{children:[c.jsxs("div",{className:"text-2xl font-bold",children:["$",l]}),c.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Amount ready to be withdrawn"})]})]}),c.jsxs(q,{children:[c.jsxs(J,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(Q,{className:"text-sm font-medium",children:"Average per Review"}),c.jsx(Zk,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(G,{children:[c.jsxs("div",{className:"text-2xl font-bold",children:["$",i.length?(a/i.length).toFixed(2):"0"]}),c.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Based on ",i.length," completed reviews"]})]})]})]}),c.jsxs(q,{children:[c.jsxs(J,{children:[c.jsx(Q,{children:"Request Payout"}),c.jsx(be,{children:"Request a payout of your available earnings"})]}),c.jsx(G,{children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ur,{htmlFor:"amount",children:"Amount (USD)"}),c.jsx(ar,{id:"amount",type:"number",min:"1",max:l,value:r,onChange:d=>n(d.target.value),placeholder:"Enter amount to withdraw",className:"max-w-[200px]"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ur,{htmlFor:"email",children:"PayPal Email"}),c.jsx(ar,{id:"email",type:"email",value:s,onChange:d=>o(d.target.value),placeholder:"your.email@example.com",className:"max-w-[300px]"})]}),c.jsx(re,{onClick:u,disabled:!r||!s||Number(r)>l,children:"Request Payout"}),c.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Payouts are typically processed within 3-5 business days."})]})})]}),c.jsxs(q,{children:[c.jsxs(J,{children:[c.jsx(Q,{children:"Earnings History"}),c.jsx(be,{children:"History of completed feedback and earnings"})]}),c.jsx(G,{children:c.jsx("div",{className:"space-y-4",children:i.length===0?c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No completed feedback requests yet"}):c.jsx("div",{className:"border rounded-md overflow-hidden",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-muted",children:[c.jsx("th",{className:"px-4 py-2 text-left",children:"Date"}),c.jsx("th",{className:"px-4 py-2 text-left",children:"Feedback Request"}),c.jsx("th",{className:"px-4 py-2 text-right",children:"Credits"}),c.jsx("th",{className:"px-4 py-2 text-right",children:"Amount (USD)"})]})}),c.jsx("tbody",{children:i.map(d=>c.jsxs("tr",{className:"border-t",children:[c.jsx("td",{className:"px-4 py-2 text-left",children:new Date(d.updated_at).toLocaleDateString()}),c.jsx("td",{className:"px-4 py-2 text-left line-clamp-1",children:d.description}),c.jsx("td",{className:"px-4 py-2 text-right",children:d.credits_cost}),c.jsxs("td",{className:"px-4 py-2 text-right",children:["$",d.credits_cost]})]},d.id))})]})})})})]})]})}function fb(){const[e,t]=p.useState(!1),{credits:r}=Dt(),{user:n,userRole:s,loading:o,isAuthenticated:i,checkSessionActive:a}=Je(),[l,u]=p.useState(!0),d=st(),f=mr();if(p.useEffect(()=>{console.log("AppLayout auth state:",{hasUser:!!n,userRole:s,authLoading:o,localLoading:l,isAuthenticated:i,pathname:f.pathname})},[n,s,o,l,i,f.pathname]),p.useEffect(()=>{const g=setTimeout(()=>{l&&(console.warn("Dashboard loading timed out after 5 seconds, resetting loading state"),u(!1))},5e3);return()=>clearTimeout(g)},[l]),p.useEffect(()=>{let g=!0;return(async()=>{if(!o&&g){if(console.log("AppLayout: Auth loading complete, checking user state",{hasUser:!!n,userRole:s,isAuthenticated:i,path:f.pathname}),f.pathname.includes("/dashboard")){if(f.pathname.includes("/request-feedback")){console.log("AppLayout: In request-feedback route, performing lightweight auth check"),(!i||!n)&&(await a()||console.warn("AppLayout: Session check failed in request-feedback route")),u(!1);return}if((!i||!n)&&(console.log("AppLayout: Not authenticated, doing a quick session check"),!await a())){console.warn("AppLayout: Session check failed, app will redirect shortly");return}}g&&(console.log("AppLayout: Completing loading process"),u(!1))}})(),()=>{g=!1}},[n,s,o,i,f,a]),o&&l&&!f.pathname.includes("/request-feedback"))return c.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[c.jsx(ht,{fullScreen:!1}),c.jsx("p",{className:"ml-2 text-muted-foreground",children:"Loading your dashboard..."}),c.jsx("button",{onClick:()=>u(!1),className:"mt-8 text-sm text-blue-500 hover:underline",children:"Loading taking too long? Click here"})]});const h=f.pathname.includes("/request-feedback"),m=typeof window<"u"&&!!localStorage.getItem("supabase.auth.token");if(!i&&!n&&!h)return console.log("AppLayout: Not authenticated, redirecting to login"),d("/login",{replace:!0}),null;if(!i&&!n&&h&&!m)return console.log("AppLayout: Not authenticated in request-feedback route, redirecting to login"),d("/login",{replace:!0,state:{from:f.pathname}}),null;p.useEffect(()=>{if(!o&&!h){let g=null;return!s&&!o&&i&&(console.log("AppLayout: User authenticated but no role, preparing to redirect"),g=setTimeout(()=>{i&&!s&&(console.log("AppLayout: Still no role after delay, redirecting to role selection"),d("/role-selection",{replace:!0}))},500)),()=>{g&&clearTimeout(g)}}},[s,o,i,h,d]);const x=s==="mentee"||!s&&i||h,y=s==="mentor"&&!h,k=s==="mentor"?"mentor":"mentee";return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx(x1,{role:k,credits:r,onMenuClick:()=>t(!0)}),c.jsx(G_,{role:k,isOpen:e,onClose:()=>t(!1)}),c.jsx("div",{className:"lg:pl-64",children:c.jsx("main",{className:"py-20 px-4 sm:px-6 lg:px-8",children:c.jsxs(Tp,{children:[c.jsx(pe,{path:"/settings",element:c.jsx(cb,{})}),c.jsx(pe,{path:"/notifications",element:c.jsx(ub,{})}),x&&c.jsxs(c.Fragment,{children:[c.jsx(pe,{index:!0,element:c.jsx(K_,{})}),c.jsx(pe,{path:"/mentors",element:c.jsx(ab,{})}),c.jsx(pe,{path:"/credits",element:c.jsx(lb,{})}),c.jsx(pe,{path:"/request-feedback",element:c.jsx(sf,{})}),c.jsx(pe,{path:"/request-feedback/:mentorId",element:c.jsx(sf,{})}),c.jsx(pe,{path:"/feedback-history",element:c.jsx(of,{})})]}),y&&c.jsxs(c.Fragment,{children:[c.jsx(pe,{index:!0,element:c.jsx(sb,{})}),c.jsx(pe,{path:"/feedback-history",element:c.jsx(of,{})}),c.jsx(pe,{path:"/earnings",element:c.jsx(db,{})})]}),c.jsx(pe,{path:"*",element:c.jsx(Rp,{to:"/dashboard",replace:!0})})]})})})]})}const hb=p.createContext(void 0);function pb({children:e}){const{user:t,userRole:r,loading:n,setUserRole:s}=Je(),[o,i]=p.useState(!1),[a,l]=p.useState(!1),[u,d]=p.useState(null),f=async()=>{if(!(t!=null&&t.id)){console.log("OnboardingContext: No user, onboarding incomplete"),l(!1);return}try{console.log("OnboardingContext: Checking role for user",t.id);const x=!!r;console.log("OnboardingContext: Role check result",{hasRole:x,role:r,userId:t.id}),l(x)}catch(x){console.error("OnboardingContext: Error checking onboarding:",x),l(!1)}};p.useEffect(()=>{n||f()},[t,r,n]);async function h(x){if(!(t!=null&&t.id))throw console.error("OnboardingContext: Cannot set role, no user ID"),d("Please sign in to continue."),new Error("User not authenticated");console.log(`OnboardingContext: Setting role to ${x} for user ${t.id}`),i(!0),d(null);const y=setTimeout(()=>{console.log("OnboardingContext: Role setting operation timed out"),i(!1),d("The operation timed out. Please try again.")},15e3);try{await s(x),clearTimeout(y),console.log(`OnboardingContext: Successfully set role to ${x} for user ${t.id}`),l(!0)}catch(k){throw clearTimeout(y),console.error("OnboardingContext: Error setting role:",k),k instanceof Error?d(k.message):d("We encountered an issue setting your role. Please try again later or contact support."),new Error("We encountered an issue setting your role. Please try again later.")}finally{i(!1)}}const m={setRole:h,isComplete:a,loading:o||n,error:u,checkOnboardingStatus:f};return c.jsx(hb.Provider,{value:m,children:e})}function mb(){const e=st(),{user:t,userRole:r,loading:n,setUserRole:s,refreshUserRole:o}=Je(),[i,a]=p.useState(null),[l,u]=p.useState(!1),[d,f]=p.useState(null),[h,m]=p.useState(0);p.useEffect(()=>{console.log("RoleSelection: Component loaded",{user:t==null?void 0:t.id,userRole:r,authLoading:n}),!n&&r&&(console.log("RoleSelection: User already has role, redirecting to dashboard"),e("/dashboard",{replace:!0}))},[r,n,e,t]);const x=g=>{console.log("RoleSelection: Role selected",{role:g}),a(g),f(null)},y=async()=>{if(t)try{u(!0),f(null),console.log("RoleSelection: Manually refreshing user role"),await o(),r?e("/dashboard",{replace:!0}):f("Unable to retrieve your role. Please try setting it again.")}catch(g){console.error("RoleSelection: Error refreshing role:",g),f("Could not refresh your role. Please try again.")}finally{u(!1)}},k=async()=>{if(!i){f("Please select a role to continue");return}if(!t){f("You must be logged in to select a role"),setTimeout(()=>e("/login",{replace:!0}),2e3);return}try{if(console.log("RoleSelection: Submitting role",{role:i,userId:t.id}),u(!0),f(null),await s(i),console.log("RoleSelection: Role set successfully"),h===0){m(1),console.log("RoleSelection: Attempting second role save for reliability");try{await new Promise(g=>setTimeout(g,800)),await s(i)}catch{console.warn("RoleSelection: Second attempt failed, continuing anyway")}}e("/dashboard",{replace:!0})}catch(g){if(console.error("RoleSelection: Error setting role:",g),r){console.log("RoleSelection: Despite API error, role is set in state. Proceeding."),e("/dashboard",{replace:!0});return}f("There was a problem setting your role. Please try again or refresh the page."),m(v=>v+1)}finally{u(!1)}};return n?c.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[c.jsx(ht,{fullScreen:!1}),c.jsx("p",{className:"mt-4 text-muted-foreground",children:"Checking your account..."})]}):t?c.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:c.jsxs("div",{className:"max-w-md w-full",children:[c.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:"Welcome to Our Platform"}),d&&c.jsxs(Ls,{variant:"destructive",className:"mb-6",children:[c.jsx(ci,{className:"h-4 w-4"}),c.jsx(Is,{children:"Error"}),c.jsxs(Ds,{children:[d,c.jsxs(re,{variant:"outline",size:"sm",className:"mt-2 w-full",onClick:y,disabled:l,children:[l?c.jsx(ht,{fullScreen:!1,className:"mr-2 h-4 w-4"}):c.jsx(n1,{className:"mr-2 h-4 w-4"}),"Refresh Account Status"]})]})]}),c.jsxs("div",{className:"bg-muted p-4 rounded-lg mb-6",children:[c.jsx("h2",{className:"font-semibold mb-2",children:"Important Note:"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Your role selection is permanent and cannot be changed later. Please choose the role that best describes your goals on the platform."})]}),c.jsx("p",{className:"text-center mb-6 text-muted-foreground",children:"Please select your role to continue:"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[c.jsxs(q,{className:`cursor-pointer transition-all ${i==="mentee"?"ring-2 ring-primary":""}`,onClick:()=>x("mentee"),children:[c.jsxs(J,{className:"relative",children:[i==="mentee"&&c.jsx(zd,{className:"h-5 w-5 absolute top-3 right-3 text-primary"}),c.jsx(Q,{children:"Feedback Seeker"}),c.jsx(be,{children:"I need feedback on my work"})]}),c.jsx(G,{children:c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Get valuable feedback on your designs from experienced mentors.",c.jsx("strong",{className:"block mt-2",children:"You'll receive 3 free credits to start."})]})})]}),c.jsxs(q,{className:`cursor-pointer transition-all ${i==="mentor"?"ring-2 ring-primary":""}`,onClick:()=>x("mentor"),children:[c.jsxs(J,{className:"relative",children:[i==="mentor"&&c.jsx(zd,{className:"h-5 w-5 absolute top-3 right-3 text-primary"}),c.jsx(Q,{children:"Mentor"}),c.jsx(be,{children:"I want to provide feedback"})]}),c.jsx(G,{children:c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Share your expertise by providing feedback to designers.",c.jsx("strong",{className:"block mt-2",children:"You'll earn credits for each feedback."})]})})]})]}),c.jsx(re,{className:"w-full",onClick:k,disabled:!i||l,children:l?c.jsxs(c.Fragment,{children:[c.jsx(ht,{fullScreen:!1,className:"mr-2 h-4 w-4"}),"Setting up your account..."]}):`Continue as ${i==="mentor"?"Mentor":i==="mentee"?"Feedback Seeker":"..."}`})]})}):c.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:c.jsxs(Ls,{variant:"destructive",className:"max-w-md",children:[c.jsx(ci,{className:"h-4 w-4"}),c.jsx(Is,{children:"Authentication Error"}),c.jsx(Ds,{children:"You must be logged in to select a role. Redirecting to login..."})]})})}const gb=()=>{const[e,t]=p.useState(!0),[r,n]=p.useState(null),s=st(),{refreshSession:o}=Je();return p.useEffect(()=>{(async()=>{var a;try{console.log("AuthCallback: Processing authentication callback"),t(!0);const l=window.location.hash&&(window.location.hash.includes("access_token")||window.location.hash.includes("error_description"));if(l&&window.location.hash.includes("error")){const f=decodeURIComponent(((a=window.location.hash.match(/error_description=([^&]*)/))==null?void 0:a[1])||"Authentication error");console.error("AuthCallback: Error in hash params:",f),n(f),s("/login");return}l&&(console.log("AuthCallback: Hash params detected, allowing time for processing"),await new Promise(f=>setTimeout(f,500)));const{data:u,error:d}=await M.auth.getSession();if(d){console.error("AuthCallback: Error getting session:",d),n(d.message),s("/login");return}if(!u.session){console.log("AuthCallback: No session found, redirecting to login");try{console.log("AuthCallback: Attempting fallback session recovery");const{data:f}=await M.auth.refreshSession();if(f.session){console.log("AuthCallback: Session successfully recovered via refresh");try{localStorage.setItem("last_session_timestamp",Date.now().toString())}catch(h){console.error("Error storing session timestamp:",h)}await o(),s("/dashboard");return}}catch(f){console.error("AuthCallback: Fallback recovery failed:",f)}s("/login");return}console.log("AuthCallback: Session found, refreshing auth context");try{localStorage.setItem("last_session_timestamp",Date.now().toString())}catch(f){console.error("Error storing session timestamp:",f)}await o(),s("/dashboard")}catch(l){console.error("AuthCallback: Unexpected error:",l),n("An unexpected error occurred during authentication"),s("/login")}finally{t(!1)}})()},[s,o]),e?c.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[c.jsx(ht,{}),c.jsx("p",{className:"mt-4 text-lg text-gray-600",children:"Completing authentication..."})]}):r?c.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[c.jsx("div",{className:"p-4 mb-4 text-sm text-red-700 bg-red-100 rounded-lg",children:c.jsxs("p",{children:["Authentication error: ",r]})}),c.jsx("button",{onClick:()=>s("/login"),className:"px-4 py-2 text-white bg-blue-600 rounded hover:bg-blue-700",children:"Return to Login"})]}):c.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[c.jsx(ht,{}),c.jsx("p",{className:"mt-4 text-lg text-gray-600",children:"Redirecting..."})]})};function vb(){return c.jsx(wm,{defaultTheme:"dark",storageKey:"app-theme",children:c.jsx(u1,{children:c.jsx(nm,{children:c.jsx(pb,{children:c.jsx(ym,{children:c.jsx(V0,{children:c.jsxs(Tp,{children:[c.jsx(pe,{path:"/",element:c.jsx(c1,{})}),c.jsx(pe,{path:"/login",element:c.jsx(l1,{})}),c.jsx(pe,{path:"/role-selection",element:c.jsx(yb,{})}),c.jsx(pe,{path:"/dashboard/*",element:c.jsx(wb,{})}),c.jsx(pe,{path:"/auth/callback",element:c.jsx(gb,{})}),c.jsx(pe,{path:"*",element:c.jsx(Rp,{to:"/login",replace:!0})})]})})})})})})})}function yb(){const{user:e,userRole:t,loading:r}=Je(),n=st(),[s,o]=p.useState(!0);return p.useEffect(()=>{let i=!0;return(async()=>{try{if(console.log("ProtectedRoleSelection: Initial state",{hasUser:!!e,userId:e==null?void 0:e.id,userRole:t,loading:r}),r)return;if(!e){console.log("ProtectedRoleSelection: No user, redirecting to login"),n("/login",{replace:!0});return}if(t){console.log("ProtectedRoleSelection: User has role, redirecting to dashboard"),n("/dashboard",{replace:!0});return}i&&o(!1)}catch(l){console.error("ProtectedRoleSelection: Error checking status",l),i&&n("/login",{replace:!0})}})(),()=>{i=!1}},[e,r,t,n]),r||s?c.jsxs("div",{className:"flex items-center justify-center min-h-screen",children:[c.jsx(ht,{fullScreen:!1}),c.jsx("p",{className:"ml-2 text-muted-foreground",children:"Checking authentication..."})]}):e&&!t?c.jsx(mb,{}):null}function wb(){const{user:e,userRole:t,loading:r,isAuthenticated:n,checkSessionActive:s}=Je(),o=st(),i=mr(),[a,l]=p.useState(!0),[u,d]=p.useState(!1);return p.useEffect(()=>{let f=!0,h=!1;return(async()=>{try{if(u&&n&&e){console.log("ProtectedRoute: Session already checked and valid, skipping checks"),f&&a&&l(!1);return}if(console.log("ProtectedRoute: Checking auth state",{hasUser:!!e,userId:e==null?void 0:e.id,userRole:t,loading:r,isAuthenticated:n,path:i.pathname}),r||h)return;if(h=!0,i.pathname.includes("/dashboard")){const x=await s();if(console.log("ProtectedRoute: Session active check:",x),!x){if(console.log("ProtectedRoute: Session appears inactive, waiting briefly before redirect"),await new Promise(k=>setTimeout(k,1e3)),await s())console.log("ProtectedRoute: Session reactivated during delay, continuing");else if(console.log("ProtectedRoute: Session confirmed inactive, redirecting to login"),f){o("/login",{replace:!0});return}}f&&d(!0)}if((!e||!n)&&(await new Promise(x=>setTimeout(x,500)),(!e||!n)&&(console.log("ProtectedRoute: No user or not authenticated after delay, redirecting to login"),f))){o("/login",{replace:!0});return}if(!t&&(console.log("ProtectedRoute: User has no role, redirecting to role selection"),f)){o("/role-selection",{replace:!0});return}f&&(console.log("ProtectedRoute: User authenticated and has role, rendering dashboard"),l(!1),d(!0))}catch(x){console.error("ProtectedRoute: Error checking status",x),f&&o("/login",{replace:!0})}})(),()=>{f=!1}},[e,t,r,n,o,i,s,u,a]),r||a?c.jsxs("div",{className:"flex items-center justify-center min-h-screen",children:[c.jsx(ht,{fullScreen:!1}),c.jsx("p",{className:"ml-2 text-muted-foreground",children:"Loading your dashboard..."})]}):e&&t?c.jsx(fb,{}):null}Na.createRoot(document.getElementById("root")).render(c.jsx(Ml.StrictMode,{children:c.jsx(wm,{defaultTheme:"system",storageKey:"app-theme",children:c.jsx(nm,{children:c.jsx(ym,{children:c.jsx(vb,{})})})})}));export{af as g};
