function mg(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Je=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function gg(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var ef={exports:{}},ao={},tf={exports:{}},M={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var As=Symbol.for("react.element"),vg=Symbol.for("react.portal"),yg=Symbol.for("react.fragment"),wg=Symbol.for("react.strict_mode"),xg=Symbol.for("react.profiler"),_g=Symbol.for("react.provider"),kg=Symbol.for("react.context"),bg=Symbol.for("react.forward_ref"),Sg=Symbol.for("react.suspense"),jg=Symbol.for("react.memo"),Eg=Symbol.for("react.lazy"),Kc=Symbol.iterator;function Cg(e){return e===null||typeof e!="object"?null:(e=Kc&&e[Kc]||e["@@iterator"],typeof e=="function"?e:null)}var rf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nf=Object.assign,sf={};function jn(e,t,r){this.props=e,this.context=t,this.refs=sf,this.updater=r||rf}jn.prototype.isReactComponent={};jn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};jn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function of(){}of.prototype=jn.prototype;function Tl(e,t,r){this.props=e,this.context=t,this.refs=sf,this.updater=r||rf}var Ol=Tl.prototype=new of;Ol.constructor=Tl;nf(Ol,jn.prototype);Ol.isPureReactComponent=!0;var Qc=Array.isArray,af=Object.prototype.hasOwnProperty,Al={current:null},lf={key:!0,ref:!0,__self:!0,__source:!0};function cf(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)af.call(t,n)&&!lf.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:As,type:e,key:i,ref:o,props:s,_owner:Al.current}}function Ng(e,t){return{$$typeof:As,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ll(e){return typeof e=="object"&&e!==null&&e.$$typeof===As}function Pg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Jc=/\/+/g;function Do(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Pg(""+e.key):t.toString(36)}function gi(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case As:case vg:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Do(o,0):n,Qc(s)?(r="",e!=null&&(r=e.replace(Jc,"$&/")+"/"),gi(s,t,r,"",function(u){return u})):s!=null&&(Ll(s)&&(s=Ng(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Jc,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Qc(e))for(var a=0;a<e.length;a++){i=e[a];var l=n+Do(i,a);o+=gi(i,t,r,l,s)}else if(l=Cg(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=n+Do(i,a++),o+=gi(i,t,r,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ws(e,t,r){if(e==null)return e;var n=[],s=0;return gi(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Rg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pe={current:null},vi={transition:null},Tg={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:vi,ReactCurrentOwner:Al};function uf(){throw Error("act(...) is not supported in production builds of React.")}M.Children={map:Ws,forEach:function(e,t,r){Ws(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ws(e,function(){t++}),t},toArray:function(e){return Ws(e,function(t){return t})||[]},only:function(e){if(!Ll(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};M.Component=jn;M.Fragment=yg;M.Profiler=xg;M.PureComponent=Tl;M.StrictMode=wg;M.Suspense=Sg;M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tg;M.act=uf;M.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=nf({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Al.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)af.call(t,l)&&!lf.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:As,type:e.type,key:s,ref:i,props:n,_owner:o}};M.createContext=function(e){return e={$$typeof:kg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:_g,_context:e},e.Consumer=e};M.createElement=cf;M.createFactory=function(e){var t=cf.bind(null,e);return t.type=e,t};M.createRef=function(){return{current:null}};M.forwardRef=function(e){return{$$typeof:bg,render:e}};M.isValidElement=Ll;M.lazy=function(e){return{$$typeof:Eg,_payload:{_status:-1,_result:e},_init:Rg}};M.memo=function(e,t){return{$$typeof:jg,type:e,compare:t===void 0?null:t}};M.startTransition=function(e){var t=vi.transition;vi.transition={};try{e()}finally{vi.transition=t}};M.unstable_act=uf;M.useCallback=function(e,t){return Pe.current.useCallback(e,t)};M.useContext=function(e){return Pe.current.useContext(e)};M.useDebugValue=function(){};M.useDeferredValue=function(e){return Pe.current.useDeferredValue(e)};M.useEffect=function(e,t){return Pe.current.useEffect(e,t)};M.useId=function(){return Pe.current.useId()};M.useImperativeHandle=function(e,t,r){return Pe.current.useImperativeHandle(e,t,r)};M.useInsertionEffect=function(e,t){return Pe.current.useInsertionEffect(e,t)};M.useLayoutEffect=function(e,t){return Pe.current.useLayoutEffect(e,t)};M.useMemo=function(e,t){return Pe.current.useMemo(e,t)};M.useReducer=function(e,t,r){return Pe.current.useReducer(e,t,r)};M.useRef=function(e){return Pe.current.useRef(e)};M.useState=function(e){return Pe.current.useState(e)};M.useSyncExternalStore=function(e,t,r){return Pe.current.useSyncExternalStore(e,t,r)};M.useTransition=function(){return Pe.current.useTransition()};M.version="18.3.1";tf.exports=M;var p=tf.exports;const Il=Zd(p),df=mg({__proto__:null,default:Il},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Og=p,Ag=Symbol.for("react.element"),Lg=Symbol.for("react.fragment"),Ig=Object.prototype.hasOwnProperty,Dg=Og.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$g={key:!0,ref:!0,__self:!0,__source:!0};function ff(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Ig.call(t,n)&&!$g.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Ag,type:e,key:i,ref:o,props:s,_owner:Dg.current}}ao.Fragment=Lg;ao.jsx=ff;ao.jsxs=ff;ef.exports=ao;var c=ef.exports,Sa={},hf={exports:{}},Ve={},pf={exports:{}},mf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,O){var I=P.length;P.push(O);e:for(;0<I;){var B=I-1>>>1,he=P[B];if(0<s(he,O))P[B]=O,P[I]=he,I=B;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var O=P[0],I=P.pop();if(I!==O){P[0]=I;e:for(var B=0,he=P.length,zs=he>>>1;B<zs;){var gr=2*(B+1)-1,Io=P[gr],vr=gr+1,Bs=P[vr];if(0>s(Io,I))vr<he&&0>s(Bs,Io)?(P[B]=Bs,P[vr]=I,B=vr):(P[B]=Io,P[gr]=I,B=gr);else if(vr<he&&0>s(Bs,I))P[B]=Bs,P[vr]=I,B=vr;else break e}}return O}function s(P,O){var I=P.sortIndex-O.sortIndex;return I!==0?I:P.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,f=null,h=3,m=!1,x=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(P){for(var O=r(u);O!==null;){if(O.callback===null)n(u);else if(O.startTime<=P)n(u),O.sortIndex=O.expirationTime,t(l,O);else break;O=r(u)}}function b(P){if(y=!1,w(P),!x)if(r(l)!==null)x=!0,ft(S);else{var O=r(u);O!==null&&At(b,O.startTime-P)}}function S(P,O){x=!1,y&&(y=!1,g(j),j=-1),m=!0;var I=h;try{for(w(O),f=r(l);f!==null&&(!(f.expirationTime>O)||P&&!A());){var B=f.callback;if(typeof B=="function"){f.callback=null,h=f.priorityLevel;var he=B(f.expirationTime<=O);O=e.unstable_now(),typeof he=="function"?f.callback=he:f===r(l)&&n(l),w(O)}else n(l);f=r(l)}if(f!==null)var zs=!0;else{var gr=r(u);gr!==null&&At(b,gr.startTime-O),zs=!1}return zs}finally{f=null,h=I,m=!1}}var E=!1,k=null,j=-1,R=5,N=-1;function A(){return!(e.unstable_now()-N<R)}function L(){if(k!==null){var P=e.unstable_now();N=P;var O=!0;try{O=k(!0,P)}finally{O?Z():(E=!1,k=null)}}else E=!1}var Z;if(typeof v=="function")Z=function(){v(L)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,mr=ce.port2;ce.port1.onmessage=L,Z=function(){mr.postMessage(null)}}else Z=function(){_(L,0)};function ft(P){k=P,E||(E=!0,Z())}function At(P,O){j=_(function(){P(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,ft(S))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(P){switch(h){case 1:case 2:case 3:var O=3;break;default:O=h}var I=h;h=O;try{return P()}finally{h=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,O){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var I=h;h=P;try{return O()}finally{h=I}},e.unstable_scheduleCallback=function(P,O,I){var B=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?B+I:B):I=B,P){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=I+he,P={id:d++,callback:O,priorityLevel:P,startTime:I,expirationTime:he,sortIndex:-1},I>B?(P.sortIndex=I,t(u,P),r(l)===null&&P===r(u)&&(y?(g(j),j=-1):y=!0,At(b,I-B))):(P.sortIndex=he,t(l,P),x||m||(x=!0,ft(S))),P},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(P){var O=h;return function(){var I=h;h=O;try{return P.apply(this,arguments)}finally{h=I}}}})(mf);pf.exports=mf;var Mg=pf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ug=p,We=Mg;function C(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gf=new Set,as={};function Dr(e,t){gn(e,t),gn(e+"Capture",t)}function gn(e,t){for(as[e]=t,e=0;e<t.length;e++)gf.add(t[e])}var Et=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,Fg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yc={},Xc={};function zg(e){return ja.call(Xc,e)?!0:ja.call(Yc,e)?!1:Fg.test(e)?Xc[e]=!0:(Yc[e]=!0,!1)}function Bg(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Wg(e,t,r,n){if(t===null||typeof t>"u"||Bg(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Re(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ke[e]=new Re(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ke[t]=new Re(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ke[e]=new Re(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ke[e]=new Re(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ke[e]=new Re(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ke[e]=new Re(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ke[e]=new Re(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ke[e]=new Re(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ke[e]=new Re(e,5,!1,e.toLowerCase(),null,!1,!1)});var Dl=/[\-:]([a-z])/g;function $l(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Dl,$l);ke[t]=new Re(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Dl,$l);ke[t]=new Re(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Dl,$l);ke[t]=new Re(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ke[e]=new Re(e,1,!1,e.toLowerCase(),null,!1,!1)});ke.xlinkHref=new Re("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ke[e]=new Re(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ml(e,t,r,n){var s=ke.hasOwnProperty(t)?ke[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Wg(t,r,s,n)&&(r=null),n||s===null?zg(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Rt=Ug.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vs=Symbol.for("react.element"),Kr=Symbol.for("react.portal"),Qr=Symbol.for("react.fragment"),Ul=Symbol.for("react.strict_mode"),Ea=Symbol.for("react.profiler"),vf=Symbol.for("react.provider"),yf=Symbol.for("react.context"),Fl=Symbol.for("react.forward_ref"),Ca=Symbol.for("react.suspense"),Na=Symbol.for("react.suspense_list"),zl=Symbol.for("react.memo"),Ft=Symbol.for("react.lazy"),wf=Symbol.for("react.offscreen"),Zc=Symbol.iterator;function An(e){return e===null||typeof e!="object"?null:(e=Zc&&e[Zc]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Object.assign,$o;function Hn(e){if($o===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);$o=t&&t[1]||""}return`
`+$o+e}var Mo=!1;function Uo(e,t){if(!e||Mo)return"";Mo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Mo=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Hn(e):""}function Vg(e){switch(e.tag){case 5:return Hn(e.type);case 16:return Hn("Lazy");case 13:return Hn("Suspense");case 19:return Hn("SuspenseList");case 0:case 2:case 15:return e=Uo(e.type,!1),e;case 11:return e=Uo(e.type.render,!1),e;case 1:return e=Uo(e.type,!0),e;default:return""}}function Pa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qr:return"Fragment";case Kr:return"Portal";case Ea:return"Profiler";case Ul:return"StrictMode";case Ca:return"Suspense";case Na:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case yf:return(e.displayName||"Context")+".Consumer";case vf:return(e._context.displayName||"Context")+".Provider";case Fl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case zl:return t=e.displayName||null,t!==null?t:Pa(e.type)||"Memo";case Ft:t=e._payload,e=e._init;try{return Pa(e(t))}catch{}}return null}function Hg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pa(t);case 8:return t===Ul?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function or(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qg(e){var t=xf(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hs(e){e._valueTracker||(e._valueTracker=qg(e))}function _f(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=xf(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ti(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ra(e,t){var r=t.checked;return ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function eu(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=or(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function kf(e,t){t=t.checked,t!=null&&Ml(e,"checked",t,!1)}function Ta(e,t){kf(e,t);var r=or(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Oa(e,t.type,r):t.hasOwnProperty("defaultValue")&&Oa(e,t.type,or(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function tu(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Oa(e,t,r){(t!=="number"||Ti(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var qn=Array.isArray;function an(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+or(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Aa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(C(91));return ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ru(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(C(92));if(qn(r)){if(1<r.length)throw Error(C(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:or(r)}}function bf(e,t){var r=or(t.value),n=or(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function nu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Sf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function La(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Sf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qs,jf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qs=qs||document.createElement("div"),qs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ls(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Jn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gg=["Webkit","ms","Moz","O"];Object.keys(Jn).forEach(function(e){Gg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Jn[t]=Jn[e]})});function Ef(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Jn.hasOwnProperty(e)&&Jn[e]?(""+t).trim():t+"px"}function Cf(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Ef(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Kg=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ia(e,t){if(t){if(Kg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(C(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(C(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(C(61))}if(t.style!=null&&typeof t.style!="object")throw Error(C(62))}}function Da(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $a=null;function Bl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ma=null,ln=null,cn=null;function su(e){if(e=Ds(e)){if(typeof Ma!="function")throw Error(C(280));var t=e.stateNode;t&&(t=ho(t),Ma(e.stateNode,e.type,t))}}function Nf(e){ln?cn?cn.push(e):cn=[e]:ln=e}function Pf(){if(ln){var e=ln,t=cn;if(cn=ln=null,su(e),t)for(e=0;e<t.length;e++)su(t[e])}}function Rf(e,t){return e(t)}function Tf(){}var Fo=!1;function Of(e,t,r){if(Fo)return e(t,r);Fo=!0;try{return Rf(e,t,r)}finally{Fo=!1,(ln!==null||cn!==null)&&(Tf(),Pf())}}function cs(e,t){var r=e.stateNode;if(r===null)return null;var n=ho(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(C(231,t,typeof r));return r}var Ua=!1;if(Et)try{var Ln={};Object.defineProperty(Ln,"passive",{get:function(){Ua=!0}}),window.addEventListener("test",Ln,Ln),window.removeEventListener("test",Ln,Ln)}catch{Ua=!1}function Qg(e,t,r,n,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Yn=!1,Oi=null,Ai=!1,Fa=null,Jg={onError:function(e){Yn=!0,Oi=e}};function Yg(e,t,r,n,s,i,o,a,l){Yn=!1,Oi=null,Qg.apply(Jg,arguments)}function Xg(e,t,r,n,s,i,o,a,l){if(Yg.apply(this,arguments),Yn){if(Yn){var u=Oi;Yn=!1,Oi=null}else throw Error(C(198));Ai||(Ai=!0,Fa=u)}}function $r(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Af(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function iu(e){if($r(e)!==e)throw Error(C(188))}function Zg(e){var t=e.alternate;if(!t){if(t=$r(e),t===null)throw Error(C(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return iu(s),e;if(i===n)return iu(s),t;i=i.sibling}throw Error(C(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(C(189))}}if(r.alternate!==n)throw Error(C(190))}if(r.tag!==3)throw Error(C(188));return r.stateNode.current===r?e:t}function Lf(e){return e=Zg(e),e!==null?If(e):null}function If(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=If(e);if(t!==null)return t;e=e.sibling}return null}var Df=We.unstable_scheduleCallback,ou=We.unstable_cancelCallback,ev=We.unstable_shouldYield,tv=We.unstable_requestPaint,ae=We.unstable_now,rv=We.unstable_getCurrentPriorityLevel,Wl=We.unstable_ImmediatePriority,$f=We.unstable_UserBlockingPriority,Li=We.unstable_NormalPriority,nv=We.unstable_LowPriority,Mf=We.unstable_IdlePriority,lo=null,vt=null;function sv(e){if(vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(lo,e,void 0,(e.current.flags&128)===128)}catch{}}var at=Math.clz32?Math.clz32:av,iv=Math.log,ov=Math.LN2;function av(e){return e>>>=0,e===0?32:31-(iv(e)/ov|0)|0}var Gs=64,Ks=4194304;function Gn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ii(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=Gn(a):(i&=o,i!==0&&(n=Gn(i)))}else o=r&~s,o!==0?n=Gn(o):i!==0&&(n=Gn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-at(t),s=1<<r,n|=e[r],t&=~s;return n}function lv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cv(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-at(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=lv(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function za(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Uf(){var e=Gs;return Gs<<=1,!(Gs&4194240)&&(Gs=64),e}function zo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ls(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-at(t),e[t]=r}function uv(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-at(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Vl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-at(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var W=0;function Ff(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var zf,Hl,Bf,Wf,Vf,Ba=!1,Qs=[],Jt=null,Yt=null,Xt=null,us=new Map,ds=new Map,Wt=[],dv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function au(e,t){switch(e){case"focusin":case"focusout":Jt=null;break;case"dragenter":case"dragleave":Yt=null;break;case"mouseover":case"mouseout":Xt=null;break;case"pointerover":case"pointerout":us.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ds.delete(t.pointerId)}}function In(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ds(t),t!==null&&Hl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function fv(e,t,r,n,s){switch(t){case"focusin":return Jt=In(Jt,e,t,r,n,s),!0;case"dragenter":return Yt=In(Yt,e,t,r,n,s),!0;case"mouseover":return Xt=In(Xt,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return us.set(i,In(us.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ds.set(i,In(ds.get(i)||null,e,t,r,n,s)),!0}return!1}function Hf(e){var t=br(e.target);if(t!==null){var r=$r(t);if(r!==null){if(t=r.tag,t===13){if(t=Af(r),t!==null){e.blockedOn=t,Vf(e.priority,function(){Bf(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Wa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);$a=n,r.target.dispatchEvent(n),$a=null}else return t=Ds(r),t!==null&&Hl(t),e.blockedOn=r,!1;t.shift()}return!0}function lu(e,t,r){yi(e)&&r.delete(t)}function hv(){Ba=!1,Jt!==null&&yi(Jt)&&(Jt=null),Yt!==null&&yi(Yt)&&(Yt=null),Xt!==null&&yi(Xt)&&(Xt=null),us.forEach(lu),ds.forEach(lu)}function Dn(e,t){e.blockedOn===t&&(e.blockedOn=null,Ba||(Ba=!0,We.unstable_scheduleCallback(We.unstable_NormalPriority,hv)))}function fs(e){function t(s){return Dn(s,e)}if(0<Qs.length){Dn(Qs[0],e);for(var r=1;r<Qs.length;r++){var n=Qs[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Jt!==null&&Dn(Jt,e),Yt!==null&&Dn(Yt,e),Xt!==null&&Dn(Xt,e),us.forEach(t),ds.forEach(t),r=0;r<Wt.length;r++)n=Wt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Wt.length&&(r=Wt[0],r.blockedOn===null);)Hf(r),r.blockedOn===null&&Wt.shift()}var un=Rt.ReactCurrentBatchConfig,Di=!0;function pv(e,t,r,n){var s=W,i=un.transition;un.transition=null;try{W=1,ql(e,t,r,n)}finally{W=s,un.transition=i}}function mv(e,t,r,n){var s=W,i=un.transition;un.transition=null;try{W=4,ql(e,t,r,n)}finally{W=s,un.transition=i}}function ql(e,t,r,n){if(Di){var s=Wa(e,t,r,n);if(s===null)Yo(e,t,n,$i,r),au(e,n);else if(fv(s,e,t,r,n))n.stopPropagation();else if(au(e,n),t&4&&-1<dv.indexOf(e)){for(;s!==null;){var i=Ds(s);if(i!==null&&zf(i),i=Wa(e,t,r,n),i===null&&Yo(e,t,n,$i,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Yo(e,t,n,null,r)}}var $i=null;function Wa(e,t,r,n){if($i=null,e=Bl(n),e=br(e),e!==null)if(t=$r(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Af(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $i=e,null}function qf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rv()){case Wl:return 1;case $f:return 4;case Li:case nv:return 16;case Mf:return 536870912;default:return 16}default:return 16}}var Gt=null,Gl=null,wi=null;function Gf(){if(wi)return wi;var e,t=Gl,r=t.length,n,s="value"in Gt?Gt.value:Gt.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return wi=s.slice(e,1<n?1-n:void 0)}function xi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Js(){return!0}function cu(){return!1}function He(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Js:cu,this.isPropagationStopped=cu,this}return ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Js)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Js)},persist:function(){},isPersistent:Js}),t}var En={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kl=He(En),Is=ie({},En,{view:0,detail:0}),gv=He(Is),Bo,Wo,$n,co=ie({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ql,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$n&&($n&&e.type==="mousemove"?(Bo=e.screenX-$n.screenX,Wo=e.screenY-$n.screenY):Wo=Bo=0,$n=e),Bo)},movementY:function(e){return"movementY"in e?e.movementY:Wo}}),uu=He(co),vv=ie({},co,{dataTransfer:0}),yv=He(vv),wv=ie({},Is,{relatedTarget:0}),Vo=He(wv),xv=ie({},En,{animationName:0,elapsedTime:0,pseudoElement:0}),_v=He(xv),kv=ie({},En,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bv=He(kv),Sv=ie({},En,{data:0}),du=He(Sv),jv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ev={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Cv[e])?!!t[e]:!1}function Ql(){return Nv}var Pv=ie({},Is,{key:function(e){if(e.key){var t=jv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ev[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ql,charCode:function(e){return e.type==="keypress"?xi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rv=He(Pv),Tv=ie({},co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fu=He(Tv),Ov=ie({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ql}),Av=He(Ov),Lv=ie({},En,{propertyName:0,elapsedTime:0,pseudoElement:0}),Iv=He(Lv),Dv=ie({},co,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$v=He(Dv),Mv=[9,13,27,32],Jl=Et&&"CompositionEvent"in window,Xn=null;Et&&"documentMode"in document&&(Xn=document.documentMode);var Uv=Et&&"TextEvent"in window&&!Xn,Kf=Et&&(!Jl||Xn&&8<Xn&&11>=Xn),hu=" ",pu=!1;function Qf(e,t){switch(e){case"keyup":return Mv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jr=!1;function Fv(e,t){switch(e){case"compositionend":return Jf(t);case"keypress":return t.which!==32?null:(pu=!0,hu);case"textInput":return e=t.data,e===hu&&pu?null:e;default:return null}}function zv(e,t){if(Jr)return e==="compositionend"||!Jl&&Qf(e,t)?(e=Gf(),wi=Gl=Gt=null,Jr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Kf&&t.locale!=="ko"?null:t.data;default:return null}}var Bv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Bv[e.type]:t==="textarea"}function Yf(e,t,r,n){Nf(n),t=Mi(t,"onChange"),0<t.length&&(r=new Kl("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Zn=null,hs=null;function Wv(e){lh(e,0)}function uo(e){var t=Zr(e);if(_f(t))return e}function Vv(e,t){if(e==="change")return t}var Xf=!1;if(Et){var Ho;if(Et){var qo="oninput"in document;if(!qo){var gu=document.createElement("div");gu.setAttribute("oninput","return;"),qo=typeof gu.oninput=="function"}Ho=qo}else Ho=!1;Xf=Ho&&(!document.documentMode||9<document.documentMode)}function vu(){Zn&&(Zn.detachEvent("onpropertychange",Zf),hs=Zn=null)}function Zf(e){if(e.propertyName==="value"&&uo(hs)){var t=[];Yf(t,hs,e,Bl(e)),Of(Wv,t)}}function Hv(e,t,r){e==="focusin"?(vu(),Zn=t,hs=r,Zn.attachEvent("onpropertychange",Zf)):e==="focusout"&&vu()}function qv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return uo(hs)}function Gv(e,t){if(e==="click")return uo(t)}function Kv(e,t){if(e==="input"||e==="change")return uo(t)}function Qv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ut=typeof Object.is=="function"?Object.is:Qv;function ps(e,t){if(ut(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!ja.call(t,s)||!ut(e[s],t[s]))return!1}return!0}function yu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wu(e,t){var r=yu(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=yu(r)}}function eh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?eh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function th(){for(var e=window,t=Ti();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ti(e.document)}return t}function Yl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Jv(e){var t=th(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&eh(r.ownerDocument.documentElement,r)){if(n!==null&&Yl(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=wu(r,i);var o=wu(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Yv=Et&&"documentMode"in document&&11>=document.documentMode,Yr=null,Va=null,es=null,Ha=!1;function xu(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ha||Yr==null||Yr!==Ti(n)||(n=Yr,"selectionStart"in n&&Yl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),es&&ps(es,n)||(es=n,n=Mi(Va,"onSelect"),0<n.length&&(t=new Kl("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Yr)))}function Ys(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Xr={animationend:Ys("Animation","AnimationEnd"),animationiteration:Ys("Animation","AnimationIteration"),animationstart:Ys("Animation","AnimationStart"),transitionend:Ys("Transition","TransitionEnd")},Go={},rh={};Et&&(rh=document.createElement("div").style,"AnimationEvent"in window||(delete Xr.animationend.animation,delete Xr.animationiteration.animation,delete Xr.animationstart.animation),"TransitionEvent"in window||delete Xr.transitionend.transition);function fo(e){if(Go[e])return Go[e];if(!Xr[e])return e;var t=Xr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in rh)return Go[e]=t[r];return e}var nh=fo("animationend"),sh=fo("animationiteration"),ih=fo("animationstart"),oh=fo("transitionend"),ah=new Map,_u="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cr(e,t){ah.set(e,t),Dr(t,[e])}for(var Ko=0;Ko<_u.length;Ko++){var Qo=_u[Ko],Xv=Qo.toLowerCase(),Zv=Qo[0].toUpperCase()+Qo.slice(1);cr(Xv,"on"+Zv)}cr(nh,"onAnimationEnd");cr(sh,"onAnimationIteration");cr(ih,"onAnimationStart");cr("dblclick","onDoubleClick");cr("focusin","onFocus");cr("focusout","onBlur");cr(oh,"onTransitionEnd");gn("onMouseEnter",["mouseout","mouseover"]);gn("onMouseLeave",["mouseout","mouseover"]);gn("onPointerEnter",["pointerout","pointerover"]);gn("onPointerLeave",["pointerout","pointerover"]);Dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Dr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ey=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kn));function ku(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Xg(n,t,void 0,e),e.currentTarget=null}function lh(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;ku(s,a,u),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;ku(s,a,u),i=l}}}if(Ai)throw e=Fa,Ai=!1,Fa=null,e}function Y(e,t){var r=t[Ja];r===void 0&&(r=t[Ja]=new Set);var n=e+"__bubble";r.has(n)||(ch(t,e,2,!1),r.add(n))}function Jo(e,t,r){var n=0;t&&(n|=4),ch(r,e,n,t)}var Xs="_reactListening"+Math.random().toString(36).slice(2);function ms(e){if(!e[Xs]){e[Xs]=!0,gf.forEach(function(r){r!=="selectionchange"&&(ey.has(r)||Jo(r,!1,e),Jo(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xs]||(t[Xs]=!0,Jo("selectionchange",!1,t))}}function ch(e,t,r,n){switch(qf(t)){case 1:var s=pv;break;case 4:s=mv;break;default:s=ql}r=s.bind(null,t,r,e),s=void 0,!Ua||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Yo(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=br(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}Of(function(){var u=i,d=Bl(r),f=[];e:{var h=ah.get(e);if(h!==void 0){var m=Kl,x=e;switch(e){case"keypress":if(xi(r)===0)break e;case"keydown":case"keyup":m=Rv;break;case"focusin":x="focus",m=Vo;break;case"focusout":x="blur",m=Vo;break;case"beforeblur":case"afterblur":m=Vo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=uu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=yv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Av;break;case nh:case sh:case ih:m=_v;break;case oh:m=Iv;break;case"scroll":m=gv;break;case"wheel":m=$v;break;case"copy":case"cut":case"paste":m=bv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=fu}var y=(t&4)!==0,_=!y&&e==="scroll",g=y?h!==null?h+"Capture":null:h;y=[];for(var v=u,w;v!==null;){w=v;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,g!==null&&(b=cs(v,g),b!=null&&y.push(gs(v,b,w)))),_)break;v=v.return}0<y.length&&(h=new m(h,x,null,r,d),f.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==$a&&(x=r.relatedTarget||r.fromElement)&&(br(x)||x[Ct]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(x=r.relatedTarget||r.toElement,m=u,x=x?br(x):null,x!==null&&(_=$r(x),x!==_||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=u),m!==x)){if(y=uu,b="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(y=fu,b="onPointerLeave",g="onPointerEnter",v="pointer"),_=m==null?h:Zr(m),w=x==null?h:Zr(x),h=new y(b,v+"leave",m,r,d),h.target=_,h.relatedTarget=w,b=null,br(d)===u&&(y=new y(g,v+"enter",x,r,d),y.target=w,y.relatedTarget=_,b=y),_=b,m&&x)t:{for(y=m,g=x,v=0,w=y;w;w=Fr(w))v++;for(w=0,b=g;b;b=Fr(b))w++;for(;0<v-w;)y=Fr(y),v--;for(;0<w-v;)g=Fr(g),w--;for(;v--;){if(y===g||g!==null&&y===g.alternate)break t;y=Fr(y),g=Fr(g)}y=null}else y=null;m!==null&&bu(f,h,m,y,!1),x!==null&&_!==null&&bu(f,_,x,y,!0)}}e:{if(h=u?Zr(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=Vv;else if(mu(h))if(Xf)S=Kv;else{S=qv;var E=Hv}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=Gv);if(S&&(S=S(e,u))){Yf(f,S,r,d);break e}E&&E(e,h,u),e==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&Oa(h,"number",h.value)}switch(E=u?Zr(u):window,e){case"focusin":(mu(E)||E.contentEditable==="true")&&(Yr=E,Va=u,es=null);break;case"focusout":es=Va=Yr=null;break;case"mousedown":Ha=!0;break;case"contextmenu":case"mouseup":case"dragend":Ha=!1,xu(f,r,d);break;case"selectionchange":if(Yv)break;case"keydown":case"keyup":xu(f,r,d)}var k;if(Jl)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Jr?Qf(e,r)&&(j="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(Kf&&r.locale!=="ko"&&(Jr||j!=="onCompositionStart"?j==="onCompositionEnd"&&Jr&&(k=Gf()):(Gt=d,Gl="value"in Gt?Gt.value:Gt.textContent,Jr=!0)),E=Mi(u,j),0<E.length&&(j=new du(j,e,null,r,d),f.push({event:j,listeners:E}),k?j.data=k:(k=Jf(r),k!==null&&(j.data=k)))),(k=Uv?Fv(e,r):zv(e,r))&&(u=Mi(u,"onBeforeInput"),0<u.length&&(d=new du("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=k))}lh(f,t)})}function gs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Mi(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=cs(e,r),i!=null&&n.unshift(gs(e,i,s)),i=cs(e,t),i!=null&&n.push(gs(e,i,s))),e=e.return}return n}function Fr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function bu(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,s?(l=cs(r,i),l!=null&&o.unshift(gs(r,l,a))):s||(l=cs(r,i),l!=null&&o.push(gs(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var ty=/\r\n?/g,ry=/\u0000|\uFFFD/g;function Su(e){return(typeof e=="string"?e:""+e).replace(ty,`
`).replace(ry,"")}function Zs(e,t,r){if(t=Su(t),Su(e)!==t&&r)throw Error(C(425))}function Ui(){}var qa=null,Ga=null;function Ka(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Qa=typeof setTimeout=="function"?setTimeout:void 0,ny=typeof clearTimeout=="function"?clearTimeout:void 0,ju=typeof Promise=="function"?Promise:void 0,sy=typeof queueMicrotask=="function"?queueMicrotask:typeof ju<"u"?function(e){return ju.resolve(null).then(e).catch(iy)}:Qa;function iy(e){setTimeout(function(){throw e})}function Xo(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),fs(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);fs(t)}function Zt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Eu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Cn=Math.random().toString(36).slice(2),mt="__reactFiber$"+Cn,vs="__reactProps$"+Cn,Ct="__reactContainer$"+Cn,Ja="__reactEvents$"+Cn,oy="__reactListeners$"+Cn,ay="__reactHandles$"+Cn;function br(e){var t=e[mt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ct]||r[mt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Eu(e);e!==null;){if(r=e[mt])return r;e=Eu(e)}return t}e=r,r=e.parentNode}return null}function Ds(e){return e=e[mt]||e[Ct],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Zr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(C(33))}function ho(e){return e[vs]||null}var Ya=[],en=-1;function ur(e){return{current:e}}function X(e){0>en||(e.current=Ya[en],Ya[en]=null,en--)}function Q(e,t){en++,Ya[en]=e.current,e.current=t}var ar={},Ee=ur(ar),De=ur(!1),Nr=ar;function vn(e,t){var r=e.type.contextTypes;if(!r)return ar;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function $e(e){return e=e.childContextTypes,e!=null}function Fi(){X(De),X(Ee)}function Cu(e,t,r){if(Ee.current!==ar)throw Error(C(168));Q(Ee,t),Q(De,r)}function uh(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(C(108,Hg(e)||"Unknown",s));return ie({},r,n)}function zi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ar,Nr=Ee.current,Q(Ee,e),Q(De,De.current),!0}function Nu(e,t,r){var n=e.stateNode;if(!n)throw Error(C(169));r?(e=uh(e,t,Nr),n.__reactInternalMemoizedMergedChildContext=e,X(De),X(Ee),Q(Ee,e)):X(De),Q(De,r)}var _t=null,po=!1,Zo=!1;function dh(e){_t===null?_t=[e]:_t.push(e)}function ly(e){po=!0,dh(e)}function dr(){if(!Zo&&_t!==null){Zo=!0;var e=0,t=W;try{var r=_t;for(W=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}_t=null,po=!1}catch(s){throw _t!==null&&(_t=_t.slice(e+1)),Df(Wl,dr),s}finally{W=t,Zo=!1}}return null}var tn=[],rn=0,Bi=null,Wi=0,qe=[],Ge=0,Pr=null,kt=1,bt="";function wr(e,t){tn[rn++]=Wi,tn[rn++]=Bi,Bi=e,Wi=t}function fh(e,t,r){qe[Ge++]=kt,qe[Ge++]=bt,qe[Ge++]=Pr,Pr=e;var n=kt;e=bt;var s=32-at(n)-1;n&=~(1<<s),r+=1;var i=32-at(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,kt=1<<32-at(t)+s|r<<s|n,bt=i+e}else kt=1<<i|r<<s|n,bt=e}function Xl(e){e.return!==null&&(wr(e,1),fh(e,1,0))}function Zl(e){for(;e===Bi;)Bi=tn[--rn],tn[rn]=null,Wi=tn[--rn],tn[rn]=null;for(;e===Pr;)Pr=qe[--Ge],qe[Ge]=null,bt=qe[--Ge],qe[Ge]=null,kt=qe[--Ge],qe[Ge]=null}var Be=null,ze=null,ee=!1,ot=null;function hh(e,t){var r=Ke(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Pu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Be=e,ze=Zt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Be=e,ze=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Pr!==null?{id:kt,overflow:bt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ke(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Be=e,ze=null,!0):!1;default:return!1}}function Xa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Za(e){if(ee){var t=ze;if(t){var r=t;if(!Pu(e,t)){if(Xa(e))throw Error(C(418));t=Zt(r.nextSibling);var n=Be;t&&Pu(e,t)?hh(n,r):(e.flags=e.flags&-4097|2,ee=!1,Be=e)}}else{if(Xa(e))throw Error(C(418));e.flags=e.flags&-4097|2,ee=!1,Be=e}}}function Ru(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Be=e}function ei(e){if(e!==Be)return!1;if(!ee)return Ru(e),ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ka(e.type,e.memoizedProps)),t&&(t=ze)){if(Xa(e))throw ph(),Error(C(418));for(;t;)hh(e,t),t=Zt(t.nextSibling)}if(Ru(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ze=Zt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ze=null}}else ze=Be?Zt(e.stateNode.nextSibling):null;return!0}function ph(){for(var e=ze;e;)e=Zt(e.nextSibling)}function yn(){ze=Be=null,ee=!1}function ec(e){ot===null?ot=[e]:ot.push(e)}var cy=Rt.ReactCurrentBatchConfig;function Mn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(C(309));var n=r.stateNode}if(!n)throw Error(C(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(C(284));if(!r._owner)throw Error(C(290,e))}return e}function ti(e,t){throw e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Tu(e){var t=e._init;return t(e._payload)}function mh(e){function t(g,v){if(e){var w=g.deletions;w===null?(g.deletions=[v],g.flags|=16):w.push(v)}}function r(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function n(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function s(g,v){return g=nr(g,v),g.index=0,g.sibling=null,g}function i(g,v,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<v?(g.flags|=2,v):w):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,v,w,b){return v===null||v.tag!==6?(v=oa(w,g.mode,b),v.return=g,v):(v=s(v,w),v.return=g,v)}function l(g,v,w,b){var S=w.type;return S===Qr?d(g,v,w.props.children,b,w.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ft&&Tu(S)===v.type)?(b=s(v,w.props),b.ref=Mn(g,v,w),b.return=g,b):(b=Ci(w.type,w.key,w.props,null,g.mode,b),b.ref=Mn(g,v,w),b.return=g,b)}function u(g,v,w,b){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=aa(w,g.mode,b),v.return=g,v):(v=s(v,w.children||[]),v.return=g,v)}function d(g,v,w,b,S){return v===null||v.tag!==7?(v=Cr(w,g.mode,b,S),v.return=g,v):(v=s(v,w),v.return=g,v)}function f(g,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=oa(""+v,g.mode,w),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Vs:return w=Ci(v.type,v.key,v.props,null,g.mode,w),w.ref=Mn(g,null,v),w.return=g,w;case Kr:return v=aa(v,g.mode,w),v.return=g,v;case Ft:var b=v._init;return f(g,b(v._payload),w)}if(qn(v)||An(v))return v=Cr(v,g.mode,w,null),v.return=g,v;ti(g,v)}return null}function h(g,v,w,b){var S=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:a(g,v,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Vs:return w.key===S?l(g,v,w,b):null;case Kr:return w.key===S?u(g,v,w,b):null;case Ft:return S=w._init,h(g,v,S(w._payload),b)}if(qn(w)||An(w))return S!==null?null:d(g,v,w,b,null);ti(g,w)}return null}function m(g,v,w,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(w)||null,a(v,g,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Vs:return g=g.get(b.key===null?w:b.key)||null,l(v,g,b,S);case Kr:return g=g.get(b.key===null?w:b.key)||null,u(v,g,b,S);case Ft:var E=b._init;return m(g,v,w,E(b._payload),S)}if(qn(b)||An(b))return g=g.get(w)||null,d(v,g,b,S,null);ti(v,b)}return null}function x(g,v,w,b){for(var S=null,E=null,k=v,j=v=0,R=null;k!==null&&j<w.length;j++){k.index>j?(R=k,k=null):R=k.sibling;var N=h(g,k,w[j],b);if(N===null){k===null&&(k=R);break}e&&k&&N.alternate===null&&t(g,k),v=i(N,v,j),E===null?S=N:E.sibling=N,E=N,k=R}if(j===w.length)return r(g,k),ee&&wr(g,j),S;if(k===null){for(;j<w.length;j++)k=f(g,w[j],b),k!==null&&(v=i(k,v,j),E===null?S=k:E.sibling=k,E=k);return ee&&wr(g,j),S}for(k=n(g,k);j<w.length;j++)R=m(k,g,j,w[j],b),R!==null&&(e&&R.alternate!==null&&k.delete(R.key===null?j:R.key),v=i(R,v,j),E===null?S=R:E.sibling=R,E=R);return e&&k.forEach(function(A){return t(g,A)}),ee&&wr(g,j),S}function y(g,v,w,b){var S=An(w);if(typeof S!="function")throw Error(C(150));if(w=S.call(w),w==null)throw Error(C(151));for(var E=S=null,k=v,j=v=0,R=null,N=w.next();k!==null&&!N.done;j++,N=w.next()){k.index>j?(R=k,k=null):R=k.sibling;var A=h(g,k,N.value,b);if(A===null){k===null&&(k=R);break}e&&k&&A.alternate===null&&t(g,k),v=i(A,v,j),E===null?S=A:E.sibling=A,E=A,k=R}if(N.done)return r(g,k),ee&&wr(g,j),S;if(k===null){for(;!N.done;j++,N=w.next())N=f(g,N.value,b),N!==null&&(v=i(N,v,j),E===null?S=N:E.sibling=N,E=N);return ee&&wr(g,j),S}for(k=n(g,k);!N.done;j++,N=w.next())N=m(k,g,j,N.value,b),N!==null&&(e&&N.alternate!==null&&k.delete(N.key===null?j:N.key),v=i(N,v,j),E===null?S=N:E.sibling=N,E=N);return e&&k.forEach(function(L){return t(g,L)}),ee&&wr(g,j),S}function _(g,v,w,b){if(typeof w=="object"&&w!==null&&w.type===Qr&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Vs:e:{for(var S=w.key,E=v;E!==null;){if(E.key===S){if(S=w.type,S===Qr){if(E.tag===7){r(g,E.sibling),v=s(E,w.props.children),v.return=g,g=v;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ft&&Tu(S)===E.type){r(g,E.sibling),v=s(E,w.props),v.ref=Mn(g,E,w),v.return=g,g=v;break e}r(g,E);break}else t(g,E);E=E.sibling}w.type===Qr?(v=Cr(w.props.children,g.mode,b,w.key),v.return=g,g=v):(b=Ci(w.type,w.key,w.props,null,g.mode,b),b.ref=Mn(g,v,w),b.return=g,g=b)}return o(g);case Kr:e:{for(E=w.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){r(g,v.sibling),v=s(v,w.children||[]),v.return=g,g=v;break e}else{r(g,v);break}else t(g,v);v=v.sibling}v=aa(w,g.mode,b),v.return=g,g=v}return o(g);case Ft:return E=w._init,_(g,v,E(w._payload),b)}if(qn(w))return x(g,v,w,b);if(An(w))return y(g,v,w,b);ti(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(r(g,v.sibling),v=s(v,w),v.return=g,g=v):(r(g,v),v=oa(w,g.mode,b),v.return=g,g=v),o(g)):r(g,v)}return _}var wn=mh(!0),gh=mh(!1),Vi=ur(null),Hi=null,nn=null,tc=null;function rc(){tc=nn=Hi=null}function nc(e){var t=Vi.current;X(Vi),e._currentValue=t}function el(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function dn(e,t){Hi=e,tc=nn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ie=!0),e.firstContext=null)}function Ye(e){var t=e._currentValue;if(tc!==e)if(e={context:e,memoizedValue:t,next:null},nn===null){if(Hi===null)throw Error(C(308));nn=e,Hi.dependencies={lanes:0,firstContext:e}}else nn=nn.next=e;return t}var Sr=null;function sc(e){Sr===null?Sr=[e]:Sr.push(e)}function vh(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,sc(t)):(r.next=s.next,s.next=r),t.interleaved=r,Nt(e,n)}function Nt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var zt=!1;function ic(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function St(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function er(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,z&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Nt(e,r)}return s=n.interleaved,s===null?(t.next=t,sc(n)):(t.next=s.next,s.next=t),n.interleaved=t,Nt(e,r)}function _i(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Vl(e,r)}}function Ou(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function qi(e,t,r,n){var s=e.updateQueue;zt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=u=l=null,a=i;do{var h=a.lane,m=a.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,y=a;switch(h=t,m=r,y.tag){case 1:if(x=y.payload,typeof x=="function"){f=x.call(m,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,h=typeof x=="function"?x.call(m,f,h):x,h==null)break e;f=ie({},f,h);break e;case 2:zt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=f):d=d.next=m,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Tr|=o,e.lanes=o,e.memoizedState=f}}function Au(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(C(191,s));s.call(n)}}}var $s={},yt=ur($s),ys=ur($s),ws=ur($s);function jr(e){if(e===$s)throw Error(C(174));return e}function oc(e,t){switch(Q(ws,t),Q(ys,e),Q(yt,$s),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:La(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=La(t,e)}X(yt),Q(yt,t)}function xn(){X(yt),X(ys),X(ws)}function wh(e){jr(ws.current);var t=jr(yt.current),r=La(t,e.type);t!==r&&(Q(ys,e),Q(yt,r))}function ac(e){ys.current===e&&(X(yt),X(ys))}var ne=ur(0);function Gi(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ea=[];function lc(){for(var e=0;e<ea.length;e++)ea[e]._workInProgressVersionPrimary=null;ea.length=0}var ki=Rt.ReactCurrentDispatcher,ta=Rt.ReactCurrentBatchConfig,Rr=0,se=null,de=null,ge=null,Ki=!1,ts=!1,xs=0,uy=0;function be(){throw Error(C(321))}function cc(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ut(e[r],t[r]))return!1;return!0}function uc(e,t,r,n,s,i){if(Rr=i,se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ki.current=e===null||e.memoizedState===null?py:my,e=r(n,s),ts){i=0;do{if(ts=!1,xs=0,25<=i)throw Error(C(301));i+=1,ge=de=null,t.updateQueue=null,ki.current=gy,e=r(n,s)}while(ts)}if(ki.current=Qi,t=de!==null&&de.next!==null,Rr=0,ge=de=se=null,Ki=!1,t)throw Error(C(300));return e}function dc(){var e=xs!==0;return xs=0,e}function pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?se.memoizedState=ge=e:ge=ge.next=e,ge}function Xe(){if(de===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=de.next;var t=ge===null?se.memoizedState:ge.next;if(t!==null)ge=t,de=e;else{if(e===null)throw Error(C(310));de=e,e={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},ge===null?se.memoizedState=ge=e:ge=ge.next=e}return ge}function _s(e,t){return typeof t=="function"?t(e):t}function ra(e){var t=Xe(),r=t.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=e;var n=de,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((Rr&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=n):l=l.next=f,se.lanes|=d,Tr|=d}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=a,ut(n,t.memoizedState)||(Ie=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,se.lanes|=i,Tr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function na(e){var t=Xe(),r=t.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);ut(i,t.memoizedState)||(Ie=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function xh(){}function _h(e,t){var r=se,n=Xe(),s=t(),i=!ut(n.memoizedState,s);if(i&&(n.memoizedState=s,Ie=!0),n=n.queue,fc(Sh.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ge!==null&&ge.memoizedState.tag&1){if(r.flags|=2048,ks(9,bh.bind(null,r,n,s,t),void 0,null),ve===null)throw Error(C(349));Rr&30||kh(r,t,s)}return s}function kh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function bh(e,t,r,n){t.value=r,t.getSnapshot=n,jh(t)&&Eh(e)}function Sh(e,t,r){return r(function(){jh(t)&&Eh(e)})}function jh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ut(e,r)}catch{return!0}}function Eh(e){var t=Nt(e,1);t!==null&&lt(t,e,1,-1)}function Lu(e){var t=pt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:e},t.queue=e,e=e.dispatch=hy.bind(null,se,e),[t.memoizedState,e]}function ks(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Ch(){return Xe().memoizedState}function bi(e,t,r,n){var s=pt();se.flags|=e,s.memoizedState=ks(1|t,r,void 0,n===void 0?null:n)}function mo(e,t,r,n){var s=Xe();n=n===void 0?null:n;var i=void 0;if(de!==null){var o=de.memoizedState;if(i=o.destroy,n!==null&&cc(n,o.deps)){s.memoizedState=ks(t,r,i,n);return}}se.flags|=e,s.memoizedState=ks(1|t,r,i,n)}function Iu(e,t){return bi(8390656,8,e,t)}function fc(e,t){return mo(2048,8,e,t)}function Nh(e,t){return mo(4,2,e,t)}function Ph(e,t){return mo(4,4,e,t)}function Rh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Th(e,t,r){return r=r!=null?r.concat([e]):null,mo(4,4,Rh.bind(null,t,e),r)}function hc(){}function Oh(e,t){var r=Xe();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&cc(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ah(e,t){var r=Xe();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&cc(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Lh(e,t,r){return Rr&21?(ut(r,t)||(r=Uf(),se.lanes|=r,Tr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ie=!0),e.memoizedState=r)}function dy(e,t){var r=W;W=r!==0&&4>r?r:4,e(!0);var n=ta.transition;ta.transition={};try{e(!1),t()}finally{W=r,ta.transition=n}}function Ih(){return Xe().memoizedState}function fy(e,t,r){var n=rr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Dh(e))$h(t,r);else if(r=vh(e,t,r,n),r!==null){var s=Ne();lt(r,e,n,s),Mh(r,t,n)}}function hy(e,t,r){var n=rr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Dh(e))$h(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,ut(a,o)){var l=t.interleaved;l===null?(s.next=s,sc(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=vh(e,t,s,n),r!==null&&(s=Ne(),lt(r,e,n,s),Mh(r,t,n))}}function Dh(e){var t=e.alternate;return e===se||t!==null&&t===se}function $h(e,t){ts=Ki=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Mh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Vl(e,r)}}var Qi={readContext:Ye,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useInsertionEffect:be,useLayoutEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useMutableSource:be,useSyncExternalStore:be,useId:be,unstable_isNewReconciler:!1},py={readContext:Ye,useCallback:function(e,t){return pt().memoizedState=[e,t===void 0?null:t],e},useContext:Ye,useEffect:Iu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,bi(4194308,4,Rh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return bi(4194308,4,e,t)},useInsertionEffect:function(e,t){return bi(4,2,e,t)},useMemo:function(e,t){var r=pt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=pt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=fy.bind(null,se,e),[n.memoizedState,e]},useRef:function(e){var t=pt();return e={current:e},t.memoizedState=e},useState:Lu,useDebugValue:hc,useDeferredValue:function(e){return pt().memoizedState=e},useTransition:function(){var e=Lu(!1),t=e[0];return e=dy.bind(null,e[1]),pt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=se,s=pt();if(ee){if(r===void 0)throw Error(C(407));r=r()}else{if(r=t(),ve===null)throw Error(C(349));Rr&30||kh(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Iu(Sh.bind(null,n,i,e),[e]),n.flags|=2048,ks(9,bh.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=pt(),t=ve.identifierPrefix;if(ee){var r=bt,n=kt;r=(n&~(1<<32-at(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=xs++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=uy++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},my={readContext:Ye,useCallback:Oh,useContext:Ye,useEffect:fc,useImperativeHandle:Th,useInsertionEffect:Nh,useLayoutEffect:Ph,useMemo:Ah,useReducer:ra,useRef:Ch,useState:function(){return ra(_s)},useDebugValue:hc,useDeferredValue:function(e){var t=Xe();return Lh(t,de.memoizedState,e)},useTransition:function(){var e=ra(_s)[0],t=Xe().memoizedState;return[e,t]},useMutableSource:xh,useSyncExternalStore:_h,useId:Ih,unstable_isNewReconciler:!1},gy={readContext:Ye,useCallback:Oh,useContext:Ye,useEffect:fc,useImperativeHandle:Th,useInsertionEffect:Nh,useLayoutEffect:Ph,useMemo:Ah,useReducer:na,useRef:Ch,useState:function(){return na(_s)},useDebugValue:hc,useDeferredValue:function(e){var t=Xe();return de===null?t.memoizedState=e:Lh(t,de.memoizedState,e)},useTransition:function(){var e=na(_s)[0],t=Xe().memoizedState;return[e,t]},useMutableSource:xh,useSyncExternalStore:_h,useId:Ih,unstable_isNewReconciler:!1};function nt(e,t){if(e&&e.defaultProps){t=ie({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function tl(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ie({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var go={isMounted:function(e){return(e=e._reactInternals)?$r(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ne(),s=rr(e),i=St(n,s);i.payload=t,r!=null&&(i.callback=r),t=er(e,i,s),t!==null&&(lt(t,e,s,n),_i(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ne(),s=rr(e),i=St(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=er(e,i,s),t!==null&&(lt(t,e,s,n),_i(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ne(),n=rr(e),s=St(r,n);s.tag=2,t!=null&&(s.callback=t),t=er(e,s,n),t!==null&&(lt(t,e,n,r),_i(t,e,n))}};function Du(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!ps(r,n)||!ps(s,i):!0}function Uh(e,t,r){var n=!1,s=ar,i=t.contextType;return typeof i=="object"&&i!==null?i=Ye(i):(s=$e(t)?Nr:Ee.current,n=t.contextTypes,i=(n=n!=null)?vn(e,s):ar),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=go,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function $u(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&go.enqueueReplaceState(t,t.state,null)}function rl(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},ic(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ye(i):(i=$e(t)?Nr:Ee.current,s.context=vn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(tl(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&go.enqueueReplaceState(s,s.state,null),qi(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function _n(e,t){try{var r="",n=t;do r+=Vg(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function sa(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function nl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var vy=typeof WeakMap=="function"?WeakMap:Map;function Fh(e,t,r){r=St(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Yi||(Yi=!0,hl=n),nl(e,t)},r}function zh(e,t,r){r=St(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){nl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){nl(e,t),typeof n!="function"&&(tr===null?tr=new Set([this]):tr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Mu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new vy;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Ty.bind(null,e,t,r),t.then(e,e))}function Uu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Fu(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=St(-1,1),t.tag=2,er(r,t,1))),r.lanes|=1),e)}var yy=Rt.ReactCurrentOwner,Ie=!1;function Ce(e,t,r,n){t.child=e===null?gh(t,null,r,n):wn(t,e.child,r,n)}function zu(e,t,r,n,s){r=r.render;var i=t.ref;return dn(t,s),n=uc(e,t,r,n,i,s),r=dc(),e!==null&&!Ie?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Pt(e,t,s)):(ee&&r&&Xl(t),t.flags|=1,Ce(e,t,n,s),t.child)}function Bu(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!_c(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Bh(e,t,i,n,s)):(e=Ci(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:ps,r(o,n)&&e.ref===t.ref)return Pt(e,t,s)}return t.flags|=1,e=nr(i,n),e.ref=t.ref,e.return=t,t.child=e}function Bh(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(ps(i,n)&&e.ref===t.ref)if(Ie=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Ie=!0);else return t.lanes=e.lanes,Pt(e,t,s)}return sl(e,t,r,n,s)}function Wh(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Q(on,Fe),Fe|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Q(on,Fe),Fe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Q(on,Fe),Fe|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Q(on,Fe),Fe|=n;return Ce(e,t,s,r),t.child}function Vh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function sl(e,t,r,n,s){var i=$e(r)?Nr:Ee.current;return i=vn(t,i),dn(t,s),r=uc(e,t,r,n,i,s),n=dc(),e!==null&&!Ie?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Pt(e,t,s)):(ee&&n&&Xl(t),t.flags|=1,Ce(e,t,r,s),t.child)}function Wu(e,t,r,n,s){if($e(r)){var i=!0;zi(t)}else i=!1;if(dn(t,s),t.stateNode===null)Si(e,t),Uh(t,r,n),rl(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ye(u):(u=$e(r)?Nr:Ee.current,u=vn(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&$u(t,o,n,u),zt=!1;var h=t.memoizedState;o.state=h,qi(t,n,o,s),l=t.memoizedState,a!==n||h!==l||De.current||zt?(typeof d=="function"&&(tl(t,r,d,n),l=t.memoizedState),(a=zt||Du(t,r,a,n,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,yh(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:nt(t.type,a),o.props=u,f=t.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ye(l):(l=$e(r)?Nr:Ee.current,l=vn(t,l));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&$u(t,o,n,l),zt=!1,h=t.memoizedState,o.state=h,qi(t,n,o,s);var x=t.memoizedState;a!==f||h!==x||De.current||zt?(typeof m=="function"&&(tl(t,r,m,n),x=t.memoizedState),(u=zt||Du(t,r,u,n,h,x,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return il(e,t,r,n,i,s)}function il(e,t,r,n,s,i){Vh(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Nu(t,r,!1),Pt(e,t,i);n=t.stateNode,yy.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=wn(t,e.child,null,i),t.child=wn(t,null,a,i)):Ce(e,t,a,i),t.memoizedState=n.state,s&&Nu(t,r,!0),t.child}function Hh(e){var t=e.stateNode;t.pendingContext?Cu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Cu(e,t.context,!1),oc(e,t.containerInfo)}function Vu(e,t,r,n,s){return yn(),ec(s),t.flags|=256,Ce(e,t,r,n),t.child}var ol={dehydrated:null,treeContext:null,retryLane:0};function al(e){return{baseLanes:e,cachePool:null,transitions:null}}function qh(e,t,r){var n=t.pendingProps,s=ne.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Q(ne,s&1),e===null)return Za(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=wo(o,n,0,null),e=Cr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=al(r),t.memoizedState=ol,e):pc(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return wy(e,t,o,n,a,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=nr(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=nr(a,i):(i=Cr(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?al(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=ol,n}return i=e.child,e=i.sibling,n=nr(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function pc(e,t){return t=wo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ri(e,t,r,n){return n!==null&&ec(n),wn(t,e.child,null,r),e=pc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wy(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=sa(Error(C(422))),ri(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=wo({mode:"visible",children:n.children},s,0,null),i=Cr(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&wn(t,e.child,null,o),t.child.memoizedState=al(o),t.memoizedState=ol,i);if(!(t.mode&1))return ri(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(C(419)),n=sa(i,n,void 0),ri(e,t,o,n)}if(a=(o&e.childLanes)!==0,Ie||a){if(n=ve,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Nt(e,s),lt(n,e,s,-1))}return xc(),n=sa(Error(C(421))),ri(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Oy.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,ze=Zt(s.nextSibling),Be=t,ee=!0,ot=null,e!==null&&(qe[Ge++]=kt,qe[Ge++]=bt,qe[Ge++]=Pr,kt=e.id,bt=e.overflow,Pr=t),t=pc(t,n.children),t.flags|=4096,t)}function Hu(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),el(e.return,t,r)}function ia(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Gh(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Ce(e,t,n.children,r),n=ne.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hu(e,r,t);else if(e.tag===19)Hu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Q(ne,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Gi(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),ia(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Gi(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}ia(t,!0,r,null,i);break;case"together":ia(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Si(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Pt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Tr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,r=nr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=nr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function xy(e,t,r){switch(t.tag){case 3:Hh(t),yn();break;case 5:wh(t);break;case 1:$e(t.type)&&zi(t);break;case 4:oc(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Q(Vi,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Q(ne,ne.current&1),t.flags|=128,null):r&t.child.childLanes?qh(e,t,r):(Q(ne,ne.current&1),e=Pt(e,t,r),e!==null?e.sibling:null);Q(ne,ne.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Gh(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Q(ne,ne.current),n)break;return null;case 22:case 23:return t.lanes=0,Wh(e,t,r)}return Pt(e,t,r)}var Kh,ll,Qh,Jh;Kh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ll=function(){};Qh=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,jr(yt.current);var i=null;switch(r){case"input":s=Ra(e,s),n=Ra(e,n),i=[];break;case"select":s=ie({},s,{value:void 0}),n=ie({},n,{value:void 0}),i=[];break;case"textarea":s=Aa(e,s),n=Aa(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ui)}Ia(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(as.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(as.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Y("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Jh=function(e,t,r,n){r!==n&&(t.flags|=4)};function Un(e,t){if(!ee)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Se(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function _y(e,t,r){var n=t.pendingProps;switch(Zl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(t),null;case 1:return $e(t.type)&&Fi(),Se(t),null;case 3:return n=t.stateNode,xn(),X(De),X(Ee),lc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ei(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ot!==null&&(gl(ot),ot=null))),ll(e,t),Se(t),null;case 5:ac(t);var s=jr(ws.current);if(r=t.type,e!==null&&t.stateNode!=null)Qh(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(C(166));return Se(t),null}if(e=jr(yt.current),ei(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[mt]=t,n[vs]=i,e=(t.mode&1)!==0,r){case"dialog":Y("cancel",n),Y("close",n);break;case"iframe":case"object":case"embed":Y("load",n);break;case"video":case"audio":for(s=0;s<Kn.length;s++)Y(Kn[s],n);break;case"source":Y("error",n);break;case"img":case"image":case"link":Y("error",n),Y("load",n);break;case"details":Y("toggle",n);break;case"input":eu(n,i),Y("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Y("invalid",n);break;case"textarea":ru(n,i),Y("invalid",n)}Ia(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&Zs(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Zs(n.textContent,a,e),s=["children",""+a]):as.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Y("scroll",n)}switch(r){case"input":Hs(n),tu(n,i,!0);break;case"textarea":Hs(n),nu(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ui)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Sf(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[mt]=t,e[vs]=n,Kh(e,t,!1,!1),t.stateNode=e;e:{switch(o=Da(r,n),r){case"dialog":Y("cancel",e),Y("close",e),s=n;break;case"iframe":case"object":case"embed":Y("load",e),s=n;break;case"video":case"audio":for(s=0;s<Kn.length;s++)Y(Kn[s],e);s=n;break;case"source":Y("error",e),s=n;break;case"img":case"image":case"link":Y("error",e),Y("load",e),s=n;break;case"details":Y("toggle",e),s=n;break;case"input":eu(e,n),s=Ra(e,n),Y("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ie({},n,{value:void 0}),Y("invalid",e);break;case"textarea":ru(e,n),s=Aa(e,n),Y("invalid",e);break;default:s=n}Ia(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Cf(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&jf(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ls(e,l):typeof l=="number"&&ls(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(as.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Y("scroll",e):l!=null&&Ml(e,i,l,o))}switch(r){case"input":Hs(e),tu(e,n,!1);break;case"textarea":Hs(e),nu(e);break;case"option":n.value!=null&&e.setAttribute("value",""+or(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?an(e,!!n.multiple,i,!1):n.defaultValue!=null&&an(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ui)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Se(t),null;case 6:if(e&&t.stateNode!=null)Jh(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(C(166));if(r=jr(ws.current),jr(yt.current),ei(t)){if(n=t.stateNode,r=t.memoizedProps,n[mt]=t,(i=n.nodeValue!==r)&&(e=Be,e!==null))switch(e.tag){case 3:Zs(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zs(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[mt]=t,t.stateNode=n}return Se(t),null;case 13:if(X(ne),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ee&&ze!==null&&t.mode&1&&!(t.flags&128))ph(),yn(),t.flags|=98560,i=!1;else if(i=ei(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(C(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[mt]=t}else yn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Se(t),i=!1}else ot!==null&&(gl(ot),ot=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ne.current&1?fe===0&&(fe=3):xc())),t.updateQueue!==null&&(t.flags|=4),Se(t),null);case 4:return xn(),ll(e,t),e===null&&ms(t.stateNode.containerInfo),Se(t),null;case 10:return nc(t.type._context),Se(t),null;case 17:return $e(t.type)&&Fi(),Se(t),null;case 19:if(X(ne),i=t.memoizedState,i===null)return Se(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Un(i,!1);else{if(fe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Gi(e),o!==null){for(t.flags|=128,Un(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Q(ne,ne.current&1|2),t.child}e=e.sibling}i.tail!==null&&ae()>kn&&(t.flags|=128,n=!0,Un(i,!1),t.lanes=4194304)}else{if(!n)if(e=Gi(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Un(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ee)return Se(t),null}else 2*ae()-i.renderingStartTime>kn&&r!==1073741824&&(t.flags|=128,n=!0,Un(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ae(),t.sibling=null,r=ne.current,Q(ne,n?r&1|2:r&1),t):(Se(t),null);case 22:case 23:return wc(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Fe&1073741824&&(Se(t),t.subtreeFlags&6&&(t.flags|=8192)):Se(t),null;case 24:return null;case 25:return null}throw Error(C(156,t.tag))}function ky(e,t){switch(Zl(t),t.tag){case 1:return $e(t.type)&&Fi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xn(),X(De),X(Ee),lc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ac(t),null;case 13:if(X(ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));yn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return X(ne),null;case 4:return xn(),null;case 10:return nc(t.type._context),null;case 22:case 23:return wc(),null;case 24:return null;default:return null}}var ni=!1,je=!1,by=typeof WeakSet=="function"?WeakSet:Set,T=null;function sn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){oe(e,t,n)}else r.current=null}function cl(e,t,r){try{r()}catch(n){oe(e,t,n)}}var qu=!1;function Sy(e,t){if(qa=Di,e=th(),Yl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||s!==0&&f.nodeType!==3||(a=o+s),f!==i||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===s&&(a=o),h===i&&++d===n&&(l=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ga={focusedElem:e,selectionRange:r},Di=!1,T=t;T!==null;)if(t=T,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,T=e;else for(;T!==null;){t=T;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var y=x.memoizedProps,_=x.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:nt(t.type,y),_);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(b){oe(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,T=e;break}T=t.return}return x=qu,qu=!1,x}function rs(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&cl(t,r,i)}s=s.next}while(s!==n)}}function vo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ul(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Yh(e){var t=e.alternate;t!==null&&(e.alternate=null,Yh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[mt],delete t[vs],delete t[Ja],delete t[oy],delete t[ay])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Xh(e){return e.tag===5||e.tag===3||e.tag===4}function Gu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ui));else if(n!==4&&(e=e.child,e!==null))for(dl(e,t,r),e=e.sibling;e!==null;)dl(e,t,r),e=e.sibling}function fl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(fl(e,t,r),e=e.sibling;e!==null;)fl(e,t,r),e=e.sibling}var we=null,st=!1;function Lt(e,t,r){for(r=r.child;r!==null;)Zh(e,t,r),r=r.sibling}function Zh(e,t,r){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(lo,r)}catch{}switch(r.tag){case 5:je||sn(r,t);case 6:var n=we,s=st;we=null,Lt(e,t,r),we=n,st=s,we!==null&&(st?(e=we,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):we.removeChild(r.stateNode));break;case 18:we!==null&&(st?(e=we,r=r.stateNode,e.nodeType===8?Xo(e.parentNode,r):e.nodeType===1&&Xo(e,r),fs(e)):Xo(we,r.stateNode));break;case 4:n=we,s=st,we=r.stateNode.containerInfo,st=!0,Lt(e,t,r),we=n,st=s;break;case 0:case 11:case 14:case 15:if(!je&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&cl(r,t,o),s=s.next}while(s!==n)}Lt(e,t,r);break;case 1:if(!je&&(sn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){oe(r,t,a)}Lt(e,t,r);break;case 21:Lt(e,t,r);break;case 22:r.mode&1?(je=(n=je)||r.memoizedState!==null,Lt(e,t,r),je=n):Lt(e,t,r);break;default:Lt(e,t,r)}}function Ku(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new by),t.forEach(function(n){var s=Ay.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function tt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:we=a.stateNode,st=!1;break e;case 3:we=a.stateNode.containerInfo,st=!0;break e;case 4:we=a.stateNode.containerInfo,st=!0;break e}a=a.return}if(we===null)throw Error(C(160));Zh(i,o,s),we=null,st=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){oe(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ep(t,e),t=t.sibling}function ep(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(tt(t,e),ht(e),n&4){try{rs(3,e,e.return),vo(3,e)}catch(y){oe(e,e.return,y)}try{rs(5,e,e.return)}catch(y){oe(e,e.return,y)}}break;case 1:tt(t,e),ht(e),n&512&&r!==null&&sn(r,r.return);break;case 5:if(tt(t,e),ht(e),n&512&&r!==null&&sn(r,r.return),e.flags&32){var s=e.stateNode;try{ls(s,"")}catch(y){oe(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&kf(s,i),Da(a,o);var u=Da(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?Cf(s,f):d==="dangerouslySetInnerHTML"?jf(s,f):d==="children"?ls(s,f):Ml(s,d,f,u)}switch(a){case"input":Ta(s,i);break;case"textarea":bf(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?an(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?an(s,!!i.multiple,i.defaultValue,!0):an(s,!!i.multiple,i.multiple?[]:"",!1))}s[vs]=i}catch(y){oe(e,e.return,y)}}break;case 6:if(tt(t,e),ht(e),n&4){if(e.stateNode===null)throw Error(C(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){oe(e,e.return,y)}}break;case 3:if(tt(t,e),ht(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{fs(t.containerInfo)}catch(y){oe(e,e.return,y)}break;case 4:tt(t,e),ht(e);break;case 13:tt(t,e),ht(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(vc=ae())),n&4&&Ku(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(je=(u=je)||d,tt(t,e),je=u):tt(t,e),ht(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(T=e,d=e.child;d!==null;){for(f=T=d;T!==null;){switch(h=T,m=h.child,h.tag){case 0:case 11:case 14:case 15:rs(4,h,h.return);break;case 1:sn(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(y){oe(n,r,y)}}break;case 5:sn(h,h.return);break;case 22:if(h.memoizedState!==null){Ju(f);continue}}m!==null?(m.return=h,T=m):Ju(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Ef("display",o))}catch(y){oe(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){oe(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:tt(t,e),ht(e),n&4&&Ku(e);break;case 21:break;default:tt(t,e),ht(e)}}function ht(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Xh(r)){var n=r;break e}r=r.return}throw Error(C(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ls(s,""),n.flags&=-33);var i=Gu(e);fl(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Gu(e);dl(e,a,o);break;default:throw Error(C(161))}}catch(l){oe(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function jy(e,t,r){T=e,tp(e)}function tp(e,t,r){for(var n=(e.mode&1)!==0;T!==null;){var s=T,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||ni;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||je;a=ni;var u=je;if(ni=o,(je=l)&&!u)for(T=s;T!==null;)o=T,l=o.child,o.tag===22&&o.memoizedState!==null?Yu(s):l!==null?(l.return=o,T=l):Yu(s);for(;i!==null;)T=i,tp(i),i=i.sibling;T=s,ni=a,je=u}Qu(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,T=i):Qu(e)}}function Qu(e){for(;T!==null;){var t=T;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:je||vo(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!je)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:nt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Au(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Au(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&fs(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}je||t.flags&512&&ul(t)}catch(h){oe(t,t.return,h)}}if(t===e){T=null;break}if(r=t.sibling,r!==null){r.return=t.return,T=r;break}T=t.return}}function Ju(e){for(;T!==null;){var t=T;if(t===e){T=null;break}var r=t.sibling;if(r!==null){r.return=t.return,T=r;break}T=t.return}}function Yu(e){for(;T!==null;){var t=T;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{vo(4,t)}catch(l){oe(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){oe(t,s,l)}}var i=t.return;try{ul(t)}catch(l){oe(t,i,l)}break;case 5:var o=t.return;try{ul(t)}catch(l){oe(t,o,l)}}}catch(l){oe(t,t.return,l)}if(t===e){T=null;break}var a=t.sibling;if(a!==null){a.return=t.return,T=a;break}T=t.return}}var Ey=Math.ceil,Ji=Rt.ReactCurrentDispatcher,mc=Rt.ReactCurrentOwner,Qe=Rt.ReactCurrentBatchConfig,z=0,ve=null,ue=null,_e=0,Fe=0,on=ur(0),fe=0,bs=null,Tr=0,yo=0,gc=0,ns=null,Ae=null,vc=0,kn=1/0,xt=null,Yi=!1,hl=null,tr=null,si=!1,Kt=null,Xi=0,ss=0,pl=null,ji=-1,Ei=0;function Ne(){return z&6?ae():ji!==-1?ji:ji=ae()}function rr(e){return e.mode&1?z&2&&_e!==0?_e&-_e:cy.transition!==null?(Ei===0&&(Ei=Uf()),Ei):(e=W,e!==0||(e=window.event,e=e===void 0?16:qf(e.type)),e):1}function lt(e,t,r,n){if(50<ss)throw ss=0,pl=null,Error(C(185));Ls(e,r,n),(!(z&2)||e!==ve)&&(e===ve&&(!(z&2)&&(yo|=r),fe===4&&Vt(e,_e)),Me(e,n),r===1&&z===0&&!(t.mode&1)&&(kn=ae()+500,po&&dr()))}function Me(e,t){var r=e.callbackNode;cv(e,t);var n=Ii(e,e===ve?_e:0);if(n===0)r!==null&&ou(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ou(r),t===1)e.tag===0?ly(Xu.bind(null,e)):dh(Xu.bind(null,e)),sy(function(){!(z&6)&&dr()}),r=null;else{switch(Ff(n)){case 1:r=Wl;break;case 4:r=$f;break;case 16:r=Li;break;case 536870912:r=Mf;break;default:r=Li}r=cp(r,rp.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function rp(e,t){if(ji=-1,Ei=0,z&6)throw Error(C(327));var r=e.callbackNode;if(fn()&&e.callbackNode!==r)return null;var n=Ii(e,e===ve?_e:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Zi(e,n);else{t=n;var s=z;z|=2;var i=sp();(ve!==e||_e!==t)&&(xt=null,kn=ae()+500,Er(e,t));do try{Py();break}catch(a){np(e,a)}while(!0);rc(),Ji.current=i,z=s,ue!==null?t=0:(ve=null,_e=0,t=fe)}if(t!==0){if(t===2&&(s=za(e),s!==0&&(n=s,t=ml(e,s))),t===1)throw r=bs,Er(e,0),Vt(e,n),Me(e,ae()),r;if(t===6)Vt(e,n);else{if(s=e.current.alternate,!(n&30)&&!Cy(s)&&(t=Zi(e,n),t===2&&(i=za(e),i!==0&&(n=i,t=ml(e,i))),t===1))throw r=bs,Er(e,0),Vt(e,n),Me(e,ae()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(C(345));case 2:xr(e,Ae,xt);break;case 3:if(Vt(e,n),(n&130023424)===n&&(t=vc+500-ae(),10<t)){if(Ii(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ne(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Qa(xr.bind(null,e,Ae,xt),t);break}xr(e,Ae,xt);break;case 4:if(Vt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-at(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=ae()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ey(n/1960))-n,10<n){e.timeoutHandle=Qa(xr.bind(null,e,Ae,xt),n);break}xr(e,Ae,xt);break;case 5:xr(e,Ae,xt);break;default:throw Error(C(329))}}}return Me(e,ae()),e.callbackNode===r?rp.bind(null,e):null}function ml(e,t){var r=ns;return e.current.memoizedState.isDehydrated&&(Er(e,t).flags|=256),e=Zi(e,t),e!==2&&(t=Ae,Ae=r,t!==null&&gl(t)),e}function gl(e){Ae===null?Ae=e:Ae.push.apply(Ae,e)}function Cy(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!ut(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vt(e,t){for(t&=~gc,t&=~yo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-at(t),n=1<<r;e[r]=-1,t&=~n}}function Xu(e){if(z&6)throw Error(C(327));fn();var t=Ii(e,0);if(!(t&1))return Me(e,ae()),null;var r=Zi(e,t);if(e.tag!==0&&r===2){var n=za(e);n!==0&&(t=n,r=ml(e,n))}if(r===1)throw r=bs,Er(e,0),Vt(e,t),Me(e,ae()),r;if(r===6)throw Error(C(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xr(e,Ae,xt),Me(e,ae()),null}function yc(e,t){var r=z;z|=1;try{return e(t)}finally{z=r,z===0&&(kn=ae()+500,po&&dr())}}function Or(e){Kt!==null&&Kt.tag===0&&!(z&6)&&fn();var t=z;z|=1;var r=Qe.transition,n=W;try{if(Qe.transition=null,W=1,e)return e()}finally{W=n,Qe.transition=r,z=t,!(z&6)&&dr()}}function wc(){Fe=on.current,X(on)}function Er(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,ny(r)),ue!==null)for(r=ue.return;r!==null;){var n=r;switch(Zl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Fi();break;case 3:xn(),X(De),X(Ee),lc();break;case 5:ac(n);break;case 4:xn();break;case 13:X(ne);break;case 19:X(ne);break;case 10:nc(n.type._context);break;case 22:case 23:wc()}r=r.return}if(ve=e,ue=e=nr(e.current,null),_e=Fe=t,fe=0,bs=null,gc=yo=Tr=0,Ae=ns=null,Sr!==null){for(t=0;t<Sr.length;t++)if(r=Sr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Sr=null}return e}function np(e,t){do{var r=ue;try{if(rc(),ki.current=Qi,Ki){for(var n=se.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ki=!1}if(Rr=0,ge=de=se=null,ts=!1,xs=0,mc.current=null,r===null||r.return===null){fe=1,bs=t,ue=null;break}e:{var i=e,o=r.return,a=r,l=t;if(t=_e,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Uu(o);if(m!==null){m.flags&=-257,Fu(m,o,a,i,t),m.mode&1&&Mu(i,u,t),t=m,l=u;var x=t.updateQueue;if(x===null){var y=new Set;y.add(l),t.updateQueue=y}else x.add(l);break e}else{if(!(t&1)){Mu(i,u,t),xc();break e}l=Error(C(426))}}else if(ee&&a.mode&1){var _=Uu(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Fu(_,o,a,i,t),ec(_n(l,a));break e}}i=l=_n(l,a),fe!==4&&(fe=2),ns===null?ns=[i]:ns.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Fh(i,l,t);Ou(i,g);break e;case 1:a=l;var v=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(tr===null||!tr.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=zh(i,a,t);Ou(i,b);break e}}i=i.return}while(i!==null)}op(r)}catch(S){t=S,ue===r&&r!==null&&(ue=r=r.return);continue}break}while(!0)}function sp(){var e=Ji.current;return Ji.current=Qi,e===null?Qi:e}function xc(){(fe===0||fe===3||fe===2)&&(fe=4),ve===null||!(Tr&268435455)&&!(yo&268435455)||Vt(ve,_e)}function Zi(e,t){var r=z;z|=2;var n=sp();(ve!==e||_e!==t)&&(xt=null,Er(e,t));do try{Ny();break}catch(s){np(e,s)}while(!0);if(rc(),z=r,Ji.current=n,ue!==null)throw Error(C(261));return ve=null,_e=0,fe}function Ny(){for(;ue!==null;)ip(ue)}function Py(){for(;ue!==null&&!ev();)ip(ue)}function ip(e){var t=lp(e.alternate,e,Fe);e.memoizedProps=e.pendingProps,t===null?op(e):ue=t,mc.current=null}function op(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=ky(r,t),r!==null){r.flags&=32767,ue=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{fe=6,ue=null;return}}else if(r=_y(r,t,Fe),r!==null){ue=r;return}if(t=t.sibling,t!==null){ue=t;return}ue=t=e}while(t!==null);fe===0&&(fe=5)}function xr(e,t,r){var n=W,s=Qe.transition;try{Qe.transition=null,W=1,Ry(e,t,r,n)}finally{Qe.transition=s,W=n}return null}function Ry(e,t,r,n){do fn();while(Kt!==null);if(z&6)throw Error(C(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(C(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(uv(e,i),e===ve&&(ue=ve=null,_e=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||si||(si=!0,cp(Li,function(){return fn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Qe.transition,Qe.transition=null;var o=W;W=1;var a=z;z|=4,mc.current=null,Sy(e,r),ep(r,e),Jv(Ga),Di=!!qa,Ga=qa=null,e.current=r,jy(r),tv(),z=a,W=o,Qe.transition=i}else e.current=r;if(si&&(si=!1,Kt=e,Xi=s),i=e.pendingLanes,i===0&&(tr=null),sv(r.stateNode),Me(e,ae()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Yi)throw Yi=!1,e=hl,hl=null,e;return Xi&1&&e.tag!==0&&fn(),i=e.pendingLanes,i&1?e===pl?ss++:(ss=0,pl=e):ss=0,dr(),null}function fn(){if(Kt!==null){var e=Ff(Xi),t=Qe.transition,r=W;try{if(Qe.transition=null,W=16>e?16:e,Kt===null)var n=!1;else{if(e=Kt,Kt=null,Xi=0,z&6)throw Error(C(331));var s=z;for(z|=4,T=e.current;T!==null;){var i=T,o=i.child;if(T.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(T=u;T!==null;){var d=T;switch(d.tag){case 0:case 11:case 15:rs(8,d,i)}var f=d.child;if(f!==null)f.return=d,T=f;else for(;T!==null;){d=T;var h=d.sibling,m=d.return;if(Yh(d),d===u){T=null;break}if(h!==null){h.return=m,T=h;break}T=m}}}var x=i.alternate;if(x!==null){var y=x.child;if(y!==null){x.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}T=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,T=o;else e:for(;T!==null;){if(i=T,i.flags&2048)switch(i.tag){case 0:case 11:case 15:rs(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,T=g;break e}T=i.return}}var v=e.current;for(T=v;T!==null;){o=T;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,T=w;else e:for(o=v;T!==null;){if(a=T,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:vo(9,a)}}catch(S){oe(a,a.return,S)}if(a===o){T=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,T=b;break e}T=a.return}}if(z=s,dr(),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(lo,e)}catch{}n=!0}return n}finally{W=r,Qe.transition=t}}return!1}function Zu(e,t,r){t=_n(r,t),t=Fh(e,t,1),e=er(e,t,1),t=Ne(),e!==null&&(Ls(e,1,t),Me(e,t))}function oe(e,t,r){if(e.tag===3)Zu(e,e,r);else for(;t!==null;){if(t.tag===3){Zu(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(tr===null||!tr.has(n))){e=_n(r,e),e=zh(t,e,1),t=er(t,e,1),e=Ne(),t!==null&&(Ls(t,1,e),Me(t,e));break}}t=t.return}}function Ty(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ne(),e.pingedLanes|=e.suspendedLanes&r,ve===e&&(_e&r)===r&&(fe===4||fe===3&&(_e&130023424)===_e&&500>ae()-vc?Er(e,0):gc|=r),Me(e,t)}function ap(e,t){t===0&&(e.mode&1?(t=Ks,Ks<<=1,!(Ks&130023424)&&(Ks=4194304)):t=1);var r=Ne();e=Nt(e,t),e!==null&&(Ls(e,t,r),Me(e,r))}function Oy(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),ap(e,r)}function Ay(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(C(314))}n!==null&&n.delete(t),ap(e,r)}var lp;lp=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||De.current)Ie=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ie=!1,xy(e,t,r);Ie=!!(e.flags&131072)}else Ie=!1,ee&&t.flags&1048576&&fh(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Si(e,t),e=t.pendingProps;var s=vn(t,Ee.current);dn(t,r),s=uc(null,t,n,e,s,r);var i=dc();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,$e(n)?(i=!0,zi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ic(t),s.updater=go,t.stateNode=s,s._reactInternals=t,rl(t,n,e,r),t=il(null,t,n,!0,i,r)):(t.tag=0,ee&&i&&Xl(t),Ce(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Si(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Iy(n),e=nt(n,e),s){case 0:t=sl(null,t,n,e,r);break e;case 1:t=Wu(null,t,n,e,r);break e;case 11:t=zu(null,t,n,e,r);break e;case 14:t=Bu(null,t,n,nt(n.type,e),r);break e}throw Error(C(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:nt(n,s),sl(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:nt(n,s),Wu(e,t,n,s,r);case 3:e:{if(Hh(t),e===null)throw Error(C(387));n=t.pendingProps,i=t.memoizedState,s=i.element,yh(e,t),qi(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=_n(Error(C(423)),t),t=Vu(e,t,n,r,s);break e}else if(n!==s){s=_n(Error(C(424)),t),t=Vu(e,t,n,r,s);break e}else for(ze=Zt(t.stateNode.containerInfo.firstChild),Be=t,ee=!0,ot=null,r=gh(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(yn(),n===s){t=Pt(e,t,r);break e}Ce(e,t,n,r)}t=t.child}return t;case 5:return wh(t),e===null&&Za(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Ka(n,s)?o=null:i!==null&&Ka(n,i)&&(t.flags|=32),Vh(e,t),Ce(e,t,o,r),t.child;case 6:return e===null&&Za(t),null;case 13:return qh(e,t,r);case 4:return oc(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=wn(t,null,n,r):Ce(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:nt(n,s),zu(e,t,n,s,r);case 7:return Ce(e,t,t.pendingProps,r),t.child;case 8:return Ce(e,t,t.pendingProps.children,r),t.child;case 12:return Ce(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Q(Vi,n._currentValue),n._currentValue=o,i!==null)if(ut(i.value,o)){if(i.children===s.children&&!De.current){t=Pt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=St(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),el(i.return,r,t),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(C(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),el(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ce(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,dn(t,r),s=Ye(s),n=n(s),t.flags|=1,Ce(e,t,n,r),t.child;case 14:return n=t.type,s=nt(n,t.pendingProps),s=nt(n.type,s),Bu(e,t,n,s,r);case 15:return Bh(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:nt(n,s),Si(e,t),t.tag=1,$e(n)?(e=!0,zi(t)):e=!1,dn(t,r),Uh(t,n,s),rl(t,n,s,r),il(null,t,n,!0,e,r);case 19:return Gh(e,t,r);case 22:return Wh(e,t,r)}throw Error(C(156,t.tag))};function cp(e,t){return Df(e,t)}function Ly(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ke(e,t,r,n){return new Ly(e,t,r,n)}function _c(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Iy(e){if(typeof e=="function")return _c(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Fl)return 11;if(e===zl)return 14}return 2}function nr(e,t){var r=e.alternate;return r===null?(r=Ke(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ci(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")_c(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Qr:return Cr(r.children,s,i,t);case Ul:o=8,s|=8;break;case Ea:return e=Ke(12,r,t,s|2),e.elementType=Ea,e.lanes=i,e;case Ca:return e=Ke(13,r,t,s),e.elementType=Ca,e.lanes=i,e;case Na:return e=Ke(19,r,t,s),e.elementType=Na,e.lanes=i,e;case wf:return wo(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case vf:o=10;break e;case yf:o=9;break e;case Fl:o=11;break e;case zl:o=14;break e;case Ft:o=16,n=null;break e}throw Error(C(130,e==null?e:typeof e,""))}return t=Ke(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Cr(e,t,r,n){return e=Ke(7,e,n,t),e.lanes=r,e}function wo(e,t,r,n){return e=Ke(22,e,n,t),e.elementType=wf,e.lanes=r,e.stateNode={isHidden:!1},e}function oa(e,t,r){return e=Ke(6,e,null,t),e.lanes=r,e}function aa(e,t,r){return t=Ke(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Dy(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zo(0),this.expirationTimes=zo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zo(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function kc(e,t,r,n,s,i,o,a,l){return e=new Dy(e,t,r,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ke(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ic(i),e}function $y(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Kr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function up(e){if(!e)return ar;e=e._reactInternals;e:{if($r(e)!==e||e.tag!==1)throw Error(C(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if($e(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(C(171))}if(e.tag===1){var r=e.type;if($e(r))return uh(e,r,t)}return t}function dp(e,t,r,n,s,i,o,a,l){return e=kc(r,n,!0,e,s,i,o,a,l),e.context=up(null),r=e.current,n=Ne(),s=rr(r),i=St(n,s),i.callback=t??null,er(r,i,s),e.current.lanes=s,Ls(e,s,n),Me(e,n),e}function xo(e,t,r,n){var s=t.current,i=Ne(),o=rr(s);return r=up(r),t.context===null?t.context=r:t.pendingContext=r,t=St(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=er(s,t,o),e!==null&&(lt(e,s,o,i),_i(e,s,o)),o}function eo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ed(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function bc(e,t){ed(e,t),(e=e.alternate)&&ed(e,t)}function My(){return null}var fp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Sc(e){this._internalRoot=e}_o.prototype.render=Sc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));xo(e,t,null,null)};_o.prototype.unmount=Sc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Or(function(){xo(null,e,null,null)}),t[Ct]=null}};function _o(e){this._internalRoot=e}_o.prototype.unstable_scheduleHydration=function(e){if(e){var t=Wf();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Wt.length&&t!==0&&t<Wt[r].priority;r++);Wt.splice(r,0,e),r===0&&Hf(e)}};function jc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ko(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function td(){}function Uy(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=eo(o);i.call(u)}}var o=dp(t,n,e,0,null,!1,!1,"",td);return e._reactRootContainer=o,e[Ct]=o.current,ms(e.nodeType===8?e.parentNode:e),Or(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=eo(l);a.call(u)}}var l=kc(e,0,!1,null,null,!1,!1,"",td);return e._reactRootContainer=l,e[Ct]=l.current,ms(e.nodeType===8?e.parentNode:e),Or(function(){xo(t,l,r,n)}),l}function bo(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=eo(o);a.call(l)}}xo(t,o,e,s)}else o=Uy(r,t,e,s,n);return eo(o)}zf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Gn(t.pendingLanes);r!==0&&(Vl(t,r|1),Me(t,ae()),!(z&6)&&(kn=ae()+500,dr()))}break;case 13:Or(function(){var n=Nt(e,1);if(n!==null){var s=Ne();lt(n,e,1,s)}}),bc(e,1)}};Hl=function(e){if(e.tag===13){var t=Nt(e,134217728);if(t!==null){var r=Ne();lt(t,e,134217728,r)}bc(e,134217728)}};Bf=function(e){if(e.tag===13){var t=rr(e),r=Nt(e,t);if(r!==null){var n=Ne();lt(r,e,t,n)}bc(e,t)}};Wf=function(){return W};Vf=function(e,t){var r=W;try{return W=e,t()}finally{W=r}};Ma=function(e,t,r){switch(t){case"input":if(Ta(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=ho(n);if(!s)throw Error(C(90));_f(n),Ta(n,s)}}}break;case"textarea":bf(e,r);break;case"select":t=r.value,t!=null&&an(e,!!r.multiple,t,!1)}};Rf=yc;Tf=Or;var Fy={usingClientEntryPoint:!1,Events:[Ds,Zr,ho,Nf,Pf,yc]},Fn={findFiberByHostInstance:br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zy={bundleType:Fn.bundleType,version:Fn.version,rendererPackageName:Fn.rendererPackageName,rendererConfig:Fn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Lf(e),e===null?null:e.stateNode},findFiberByHostInstance:Fn.findFiberByHostInstance||My,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ii=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ii.isDisabled&&ii.supportsFiber)try{lo=ii.inject(zy),vt=ii}catch{}}Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fy;Ve.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jc(t))throw Error(C(200));return $y(e,t,null,r)};Ve.createRoot=function(e,t){if(!jc(e))throw Error(C(299));var r=!1,n="",s=fp;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=kc(e,1,!1,null,null,r,!1,n,s),e[Ct]=t.current,ms(e.nodeType===8?e.parentNode:e),new Sc(t)};Ve.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=Lf(t),e=e===null?null:e.stateNode,e};Ve.flushSync=function(e){return Or(e)};Ve.hydrate=function(e,t,r){if(!ko(t))throw Error(C(200));return bo(null,e,t,!0,r)};Ve.hydrateRoot=function(e,t,r){if(!jc(e))throw Error(C(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=fp;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=dp(t,null,e,1,r??null,s,!1,i,o),e[Ct]=t.current,ms(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new _o(t)};Ve.render=function(e,t,r){if(!ko(t))throw Error(C(200));return bo(null,e,t,!1,r)};Ve.unmountComponentAtNode=function(e){if(!ko(e))throw Error(C(40));return e._reactRootContainer?(Or(function(){bo(null,null,e,!1,function(){e._reactRootContainer=null,e[Ct]=null})}),!0):!1};Ve.unstable_batchedUpdates=yc;Ve.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ko(r))throw Error(C(200));if(e==null||e._reactInternals===void 0)throw Error(C(38));return bo(e,t,r,!1,n)};Ve.version="18.3.1-next-f1338f8080-20240426";function hp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hp)}catch(e){console.error(e)}}hp(),hf.exports=Ve;var Ec=hf.exports;const By=Zd(Ec);var rd=Ec;Sa.createRoot=rd.createRoot,Sa.hydrateRoot=rd.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ss(){return Ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ss.apply(this,arguments)}var Qt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Qt||(Qt={}));const nd="popstate";function Wy(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:a}=n.location;return vl("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:to(s)}return Hy(t,r,null,e)}function le(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function pp(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Vy(){return Math.random().toString(36).substr(2,8)}function sd(e,t){return{usr:e.state,key:e.key,idx:t}}function vl(e,t,r,n){return r===void 0&&(r=null),Ss({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Nn(t):t,{state:r,key:t&&t.key||n||Vy()})}function to(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Nn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Hy(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=Qt.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Ss({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=Qt.Pop;let _=d(),g=_==null?null:_-u;u=_,l&&l({action:a,location:y.location,delta:g})}function h(_,g){a=Qt.Push;let v=vl(y.location,_,g);u=d()+1;let w=sd(v,u),b=y.createHref(v);try{o.pushState(w,"",b)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(b)}i&&l&&l({action:a,location:y.location,delta:1})}function m(_,g){a=Qt.Replace;let v=vl(y.location,_,g);u=d();let w=sd(v,u),b=y.createHref(v);o.replaceState(w,"",b),i&&l&&l({action:a,location:y.location,delta:0})}function x(_){let g=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof _=="string"?_:to(_);return v=v.replace(/ $/,"%20"),le(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let y={get action(){return a},get location(){return e(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(nd,f),l=_,()=>{s.removeEventListener(nd,f),l=null}},createHref(_){return t(s,_)},createURL:x,encodeLocation(_){let g=x(_);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:m,go(_){return o.go(_)}};return y}var id;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(id||(id={}));function qy(e,t,r){return r===void 0&&(r="/"),Gy(e,t,r,!1)}function Gy(e,t,r,n){let s=typeof t=="string"?Nn(t):t,i=Cc(s.pathname||"/",r);if(i==null)return null;let o=mp(e);Ky(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=i0(i);a=n0(o[l],u,n)}return a}function mp(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(le(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=sr([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(le(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),mp(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:t0(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of gp(i.path))s(i,o,l)}),t}function gp(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=gp(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function Ky(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:r0(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Qy=/^:[\w-]+$/,Jy=3,Yy=2,Xy=1,Zy=10,e0=-2,od=e=>e==="*";function t0(e,t){let r=e.split("/"),n=r.length;return r.some(od)&&(n+=e0),t&&(n+=Yy),r.filter(s=>!od(s)).reduce((s,i)=>s+(Qy.test(i)?Jy:i===""?Xy:Zy),n)}function r0(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function n0(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=ad({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=ad({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:sr([i,f.pathname]),pathnameBase:c0(sr([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=sr([i,f.pathnameBase]))}return o}function ad(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=s0(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let y=a[f]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const x=a[f];return m&&!x?u[h]=void 0:u[h]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function s0(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),pp(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function i0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return pp(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Cc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function o0(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Nn(e):e;return{pathname:r?r.startsWith("/")?r:a0(r,t):t,search:u0(n),hash:d0(s)}}function a0(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function la(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function l0(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Nc(e,t){let r=l0(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Pc(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Nn(e):(s=Ss({},e),le(!s.pathname||!s.pathname.includes("?"),la("?","pathname","search",s)),le(!s.pathname||!s.pathname.includes("#"),la("#","pathname","hash",s)),le(!s.search||!s.search.includes("#"),la("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}a=f>=0?t[f]:"/"}let l=o0(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const sr=e=>e.join("/").replace(/\/\/+/g,"/"),c0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),u0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,d0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function f0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const vp=["post","put","patch","delete"];new Set(vp);const h0=["get",...vp];new Set(h0);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function js(){return js=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},js.apply(this,arguments)}const Rc=p.createContext(null),p0=p.createContext(null),fr=p.createContext(null),So=p.createContext(null),Tt=p.createContext({outlet:null,matches:[],isDataRoute:!1}),yp=p.createContext(null);function m0(e,t){let{relative:r}=t===void 0?{}:t;Pn()||le(!1);let{basename:n,navigator:s}=p.useContext(fr),{hash:i,pathname:o,search:a}=xp(e,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:sr([n,o])),s.createHref({pathname:l,search:a,hash:i})}function Pn(){return p.useContext(So)!=null}function hr(){return Pn()||le(!1),p.useContext(So).location}function wp(e){p.useContext(fr).static||p.useLayoutEffect(e)}function Ze(){let{isDataRoute:e}=p.useContext(Tt);return e?P0():g0()}function g0(){Pn()||le(!1);let e=p.useContext(Rc),{basename:t,future:r,navigator:n}=p.useContext(fr),{matches:s}=p.useContext(Tt),{pathname:i}=hr(),o=JSON.stringify(Nc(s,r.v7_relativeSplatPath)),a=p.useRef(!1);return wp(()=>{a.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let f=Pc(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:sr([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}function v0(){let{matches:e}=p.useContext(Tt),t=e[e.length-1];return t?t.params:{}}function xp(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=p.useContext(fr),{matches:s}=p.useContext(Tt),{pathname:i}=hr(),o=JSON.stringify(Nc(s,n.v7_relativeSplatPath));return p.useMemo(()=>Pc(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function y0(e,t){return w0(e,t)}function w0(e,t,r,n){Pn()||le(!1);let{navigator:s}=p.useContext(fr),{matches:i}=p.useContext(Tt),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=hr(),d;if(t){var f;let _=typeof t=="string"?Nn(t):t;l==="/"||(f=_.pathname)!=null&&f.startsWith(l)||le(!1),d=_}else d=u;let h=d.pathname||"/",m=h;if(l!=="/"){let _=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(_.length).join("/")}let x=qy(e,{pathname:m}),y=S0(x&&x.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:sr([l,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:sr([l,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,r,n);return t&&y?p.createElement(So.Provider,{value:{location:js({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Qt.Pop}},y):y}function x0(){let e=N0(),t=f0(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:s},r):null,null)}const _0=p.createElement(x0,null);class k0 extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?p.createElement(Tt.Provider,{value:this.props.routeContext},p.createElement(yp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function b0(e){let{routeContext:t,match:r,children:n}=e,s=p.useContext(Rc);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(Tt.Provider,{value:t},n)}function S0(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||le(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,x=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||x){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,x=!1,y=null,_=null;r&&(m=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||_0,l&&(u<0&&h===0?(x=!0,_=null):u===h&&(x=!0,_=f.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,h+1)),v=()=>{let w;return m?w=y:x?w=_:f.route.Component?w=p.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,p.createElement(b0,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?p.createElement(k0,{location:r.location,revalidation:r.revalidation,component:y,error:m,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var _p=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(_p||{}),ro=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ro||{});function j0(e){let t=p.useContext(Rc);return t||le(!1),t}function E0(e){let t=p.useContext(p0);return t||le(!1),t}function C0(e){let t=p.useContext(Tt);return t||le(!1),t}function kp(e){let t=C0(),r=t.matches[t.matches.length-1];return r.route.id||le(!1),r.route.id}function N0(){var e;let t=p.useContext(yp),r=E0(ro.UseRouteError),n=kp(ro.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function P0(){let{router:e}=j0(_p.UseNavigateStable),t=kp(ro.UseNavigateStable),r=p.useRef(!1);return wp(()=>{r.current=!0}),p.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,js({fromRouteId:t},i)))},[e,t])}const ld={};function R0(e,t){ld[t]||(ld[t]=!0,console.warn(t))}const cd=(e,t,r)=>R0(e," React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+r+"."));function T0(e,t){e!=null&&e.v7_startTransition||cd("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(e!=null&&e.v7_relativeSplatPath)&&!t&&cd("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function bp(e){let{to:t,replace:r,state:n,relative:s}=e;Pn()||le(!1);let{future:i,static:o}=p.useContext(fr),{matches:a}=p.useContext(Tt),{pathname:l}=hr(),u=Ze(),d=Pc(t,Nc(a,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(d);return p.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function me(e){le(!1)}function O0(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Qt.Pop,navigator:i,static:o=!1,future:a}=e;Pn()&&le(!1);let l=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:l,navigator:i,static:o,future:js({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof n=="string"&&(n=Nn(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:x="default"}=n,y=p.useMemo(()=>{let _=Cc(d,l);return _==null?null:{location:{pathname:_,search:f,hash:h,state:m,key:x},navigationType:s}},[l,d,f,h,m,x,s]);return y==null?null:p.createElement(fr.Provider,{value:u},p.createElement(So.Provider,{children:r,value:y}))}function Sp(e){let{children:t,location:r}=e;return y0(yl(t),r)}new Promise(()=>{});function yl(e,t){t===void 0&&(t=[]);let r=[];return p.Children.forEach(e,(n,s)=>{if(!p.isValidElement(n))return;let i=[...t,s];if(n.type===p.Fragment){r.push.apply(r,yl(n.props.children,i));return}n.type!==me&&le(!1),!n.props.index||!n.props.children||le(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=yl(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wl(){return wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wl.apply(this,arguments)}function A0(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function L0(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function I0(e,t){return e.button===0&&(!t||t==="_self")&&!L0(e)}const D0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$0="6";try{window.__reactRouterVersion=$0}catch{}const M0="startTransition",ud=df[M0];function U0(e){let{basename:t,children:r,future:n,window:s}=e,i=p.useRef();i.current==null&&(i.current=Wy({window:s,v5Compat:!0}));let o=i.current,[a,l]=p.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=p.useCallback(f=>{u&&ud?ud(()=>l(f)):l(f)},[l,u]);return p.useLayoutEffect(()=>o.listen(d),[o,d]),p.useEffect(()=>T0(n),[n]),p.createElement(O0,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const F0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",z0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ht=p.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:f}=t,h=A0(t,D0),{basename:m}=p.useContext(fr),x,y=!1;if(typeof u=="string"&&z0.test(u)&&(x=u,F0))try{let w=new URL(window.location.href),b=u.startsWith("//")?new URL(w.protocol+u):new URL(u),S=Cc(b.pathname,m);b.origin===w.origin&&S!=null?u=S+b.search+b.hash:y=!0}catch{}let _=m0(u,{relative:s}),g=B0(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:f});function v(w){n&&n(w),w.defaultPrevented||g(w)}return p.createElement("a",wl({},h,{href:x||_,onClick:y||i?n:v,ref:r,target:l}))});var dd;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(dd||(dd={}));var fd;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(fd||(fd={}));function B0(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,l=Ze(),u=hr(),d=xp(e,{relative:o});return p.useCallback(f=>{if(I0(f,r)){f.preventDefault();let h=n!==void 0?n:to(u)===to(d);l(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,d,n,s,r,e,i,o,a])}const W0="modulepreload",V0=function(e){return"/"+e},hd={},bn=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=V0(l),l in hd)return;hd[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":W0,u||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},H0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>bn(async()=>{const{default:n}=await Promise.resolve().then(()=>Rn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Tc extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class q0 extends Tc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class G0 extends Tc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class K0 extends Tc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var xl;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(xl||(xl={}));var Q0=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class J0{constructor(t,{headers:r={},customFetch:n,region:s=xl.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=H0(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return Q0(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(x=>{throw new q0(x)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new G0(d);if(!d.ok)throw new K0(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return h==="application/json"?m=yield d.json():h==="application/octet-stream"?m=yield d.blob():h==="text/event-stream"?m=d:h==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null}}catch(s){return{data:null,error:s}}})}}var Le={},Oc={},jo={},Ms={},Eo={},Co={},Y0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Sn=Y0();const X0=Sn.fetch,jp=Sn.fetch.bind(Sn),Ep=Sn.Headers,Z0=Sn.Request,ew=Sn.Response,Rn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ep,Request:Z0,Response:ew,default:jp,fetch:X0},Symbol.toStringTag,{value:"Module"})),tw=gg(Rn);var No={};Object.defineProperty(No,"__esModule",{value:!0});class rw extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}No.default=rw;var Cp=Je&&Je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Co,"__esModule",{value:!0});const nw=Cp(tw),sw=Cp(No);let iw=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=nw.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,d=null,f=null,h=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const y=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),_=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");y&&_&&_.length>1&&(f=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const y=await i.text();try{u=JSON.parse(y),Array.isArray(u)&&i.status===404&&(d=[],u=null,h=200,m="OK")}catch{i.status===404&&y===""?(h=204,m="No Content"):u={message:y}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,h=200,m="OK"),u&&this.shouldThrowOnError)throw new sw.default(u)}return{error:u,data:d,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}};Co.default=iw;var ow=Je&&Je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Eo,"__esModule",{value:!0});const aw=ow(Co);let lw=class extends aw.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Eo.default=lw;var cw=Je&&Je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ms,"__esModule",{value:!0});const uw=cw(Eo);let dw=class extends uw.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Ms.default=dw;var fw=Je&&Je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jo,"__esModule",{value:!0});const zn=fw(Ms);let hw=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new zn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new zn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new zn.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new zn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new zn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};jo.default=hw;var Po={},Ro={};Object.defineProperty(Ro,"__esModule",{value:!0});Ro.version=void 0;Ro.version="0.0.0-automated";Object.defineProperty(Po,"__esModule",{value:!0});Po.DEFAULT_HEADERS=void 0;const pw=Ro;Po.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${pw.version}`};var Np=Je&&Je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Oc,"__esModule",{value:!0});const mw=Np(jo),gw=Np(Ms),vw=Po;let yw=class Pp{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},vw.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new mw.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Pp(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{a.searchParams.append(d,f)})):(o="POST",l=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new gw.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Oc.default=yw;var Tn=Je&&Je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Le,"__esModule",{value:!0});Le.PostgrestError=Le.PostgrestBuilder=Le.PostgrestTransformBuilder=Le.PostgrestFilterBuilder=Le.PostgrestQueryBuilder=Le.PostgrestClient=void 0;const Rp=Tn(Oc);Le.PostgrestClient=Rp.default;const Tp=Tn(jo);Le.PostgrestQueryBuilder=Tp.default;const Op=Tn(Ms);Le.PostgrestFilterBuilder=Op.default;const Ap=Tn(Eo);Le.PostgrestTransformBuilder=Ap.default;const Lp=Tn(Co);Le.PostgrestBuilder=Lp.default;const Ip=Tn(No);Le.PostgrestError=Ip.default;var ww=Le.default={PostgrestClient:Rp.default,PostgrestQueryBuilder:Tp.default,PostgrestFilterBuilder:Op.default,PostgrestTransformBuilder:Ap.default,PostgrestBuilder:Lp.default,PostgrestError:Ip.default};const{PostgrestClient:xw,PostgrestQueryBuilder:_b,PostgrestFilterBuilder:kb,PostgrestTransformBuilder:bb,PostgrestBuilder:Sb}=ww,_w="2.10.7",kw={"X-Client-Info":`realtime-js/${_w}`},bw="1.0.0",Dp=1e4,Sw=1e3;var hn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(hn||(hn={}));var Ue;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ue||(Ue={}));var it;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(it||(it={}));var _l;(function(e){e.websocket="websocket"})(_l||(_l={}));var kr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(kr||(kr={}));class jw{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+s));o=o+s;const l=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class $p{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var q;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(q||(q={}));const pd=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=Ew(o,e,t,s),i),{})},Ew=(e,t,r,n)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?Mp(i,o):kl(o)},Mp=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Rw(t,r)}switch(e){case q.bool:return Cw(t);case q.float4:case q.float8:case q.int2:case q.int4:case q.int8:case q.numeric:case q.oid:return Nw(t);case q.json:case q.jsonb:return Pw(t);case q.timestamp:return Tw(t);case q.abstime:case q.date:case q.daterange:case q.int4range:case q.int8range:case q.money:case q.reltime:case q.text:case q.time:case q.timestamptz:case q.timetz:case q.tsrange:case q.tstzrange:return kl(t);default:return kl(t)}},kl=e=>e,Cw=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Nw=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Pw=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Rw=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Mp(t,a))}return e},Tw=e=>typeof e=="string"?e.replace(" ","T"):e,Up=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class ca{constructor(t,r,n={},s=Dp){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var md;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(md||(md={}));class is{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=is.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=is.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=is.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),a={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(_=>_.presence_ref),m=f.map(_=>_.presence_ref),x=d.filter(_=>m.indexOf(_.presence_ref)<0),y=f.filter(_=>h.indexOf(_.presence_ref)<0);x.length>0&&(a[u]=x),y.length>0&&(l[u]=y)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),d.length>0){const f=t[a].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[a].unshift(...h)}n(a,d,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var gd;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(gd||(gd={}));var vd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(vd||(vd={}));var yd;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(yd||(yd={}));class Ac{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ue.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ca(this,it.join,this.params,this.timeout),this.rejoinTimer=new $p(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ue.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ue.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this._on(it.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new is(this),this.broadcastEndpointURL=Up(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>t&&t("CHANNEL_ERROR",d)),this._onClose(()=>t&&t("CLOSED"));const l={},u={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessToken&&(l.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",({postgres_changes:d})=>{var f;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),d===void 0){t&&t("SUBSCRIBED");return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,x=[];for(let y=0;y<m;y++){const _=h[y],{filter:{event:g,schema:v,table:w,filter:b}}=_,S=d&&d[y];if(S&&S.event===g&&S.schema===v&&S.table===w&&S.filter===b)x.push(Object.assign(Object.assign({},_),{id:S.id}));else{this.unsubscribe(),t&&t("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t("SUBSCRIBED");return}}).receive("error",d=>{t&&t("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t&&t("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,a={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=l.body)===null||s===void 0?void 0:s.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ue.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(it.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new ca(this,it.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ca(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=it;if(n&&[a,l,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var x,y,_;return((x=m.filter)===null||x===void 0?void 0:x.event)==="*"||((_=(y=m.filter)===null||y===void 0?void 0:y.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var x,y,_,g,v,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const b=m.id,S=(x=m.filter)===null||x===void 0?void 0:x.event;return b&&((y=r.ids)===null||y===void 0?void 0:y.includes(b))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const b=(v=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return b==="*"||b===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const x=h.data,{schema:y,table:_,commit_timestamp:g,type:v,errors:w}=x;h=Object.assign(Object.assign({},{schema:y,table:_,commit_timestamp:g,eventType:v,new:{},old:{},errors:w}),this._getPayloadRecords(x))}m.callback(h,n)})}_isClosed(){return this.state===Ue.closed}_isJoined(){return this.state===Ue.joined}_isJoining(){return this.state===Ue.joining}_isLeaving(){return this.state===Ue.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Ac.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(it.close,{},t)}_onError(t){this._on(it.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ue.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=pd(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=pd(t.columns,t.old_record)),r}}const Ow=()=>{},Aw=typeof WebSocket<"u",Lw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Iw{constructor(t,r){var n;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=kw,this.params={},this.timeout=Dp,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Ow,this.conn=null,this.sendBuffer=[],this.serializer=new jw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>bn(async()=>{const{default:l}=await Promise.resolve().then(()=>Rn);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${_l.websocket}`,this.httpEndpoint=Up(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessToken=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new $p(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(Aw){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new Dw(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),bn(async()=>{const{default:t}=await import("./browser-BN8tgNr3.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case hn.connecting:return kr.Connecting;case hn.open:return kr.Open;case hn.closing:return kr.Closing;default:return kr.Closed}}isConnected(){return this.connectionState()===kr.Open}channel(t,r={config:{}}){const n=new Ac(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(t){this.accessToken=t,this.channels.forEach(r=>{t&&r.updateJoinPayload({access_token:t}),r.joinedOnce&&r._isJoined()&&r._push(it.access_token,{access_token:t})})}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:bw}))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;(o&&o===this.pendingHeartbeatRef||s===(i==null?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this._sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(it.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Sw,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Lw],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Dw{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=hn.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Lc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function pe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class $w extends Lc{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class bl extends Lc{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Mw=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const Fp=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>bn(async()=>{const{default:n}=await Promise.resolve().then(()=>Rn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Uw=()=>Mw(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield bn(()=>Promise.resolve().then(()=>Rn),void 0)).Response:Response}),Sl=e=>{if(Array.isArray(e))return e.map(r=>Sl(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Sl(n)}),t};var Mr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const ua=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Fw=(e,t,r)=>Mr(void 0,void 0,void 0,function*(){const n=yield Uw();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new $w(ua(s),e.status||500))}).catch(s=>{t(new bl(ua(s),s))}):t(new bl(ua(e),e))}),zw=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Us(e,t,r,n,s,i){return Mr(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,zw(t,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Fw(l,a,n))})})}function no(e,t,r,n){return Mr(this,void 0,void 0,function*(){return Us(e,"GET",t,r,n)})}function Bt(e,t,r,n,s){return Mr(this,void 0,void 0,function*(){return Us(e,"POST",t,n,s,r)})}function Bw(e,t,r,n,s){return Mr(this,void 0,void 0,function*(){return Us(e,"PUT",t,n,s,r)})}function Ww(e,t,r,n){return Mr(this,void 0,void 0,function*(){return Us(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function zp(e,t,r,n,s){return Mr(this,void 0,void 0,function*(){return Us(e,"DELETE",t,n,s,r)})}var Oe=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const Vw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},wd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Hw{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Fp(s)}uploadOrUpdate(t,r,n,s){return Oe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},wd),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(pe(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Oe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:wd.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(pe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return Oe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Bt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Lc("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}update(t,r,n){return Oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Oe(this,void 0,void 0,function*(){try{return{data:yield Bt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Oe(this,void 0,void 0,function*(){try{return{data:{path:(yield Bt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Oe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Bt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Oe(this,void 0,void 0,function*(){try{const s=yield Bt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}})}download(t,r){return Oe(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield no(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(pe(a))return{data:null,error:a};throw a}})}info(t){return Oe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield no(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Sl(n),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}exists(t){return Oe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Ww(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(pe(n)&&n instanceof bl){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(t){return Oe(this,void 0,void 0,function*(){try{return{data:yield zp(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}})}list(t,r,n){return Oe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Vw),r),{prefix:t||""});return{data:yield Bt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const qw="2.7.1",Gw={"X-Client-Info":`storage-js/${qw}`};var zr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class Kw{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},Gw),r),this.fetch=Fp(n)}listBuckets(){return zr(this,void 0,void 0,function*(){try{return{data:yield no(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(pe(t))return{data:null,error:t};throw t}})}getBucket(t){return zr(this,void 0,void 0,function*(){try{return{data:yield no(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return zr(this,void 0,void 0,function*(){try{return{data:yield Bt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return zr(this,void 0,void 0,function*(){try{return{data:yield Bw(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}emptyBucket(t){return zr(this,void 0,void 0,function*(){try{return{data:yield Bt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}})}deleteBucket(t){return zr(this,void 0,void 0,function*(){try{return{data:yield zp(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}})}}class Qw extends Kw{constructor(t,r={},n){super(t,r,n)}from(t){return new Hw(this.url,this.headers,t,this.fetch)}}const Jw="2.46.1";let Qn="";typeof Deno<"u"?Qn="deno":typeof document<"u"?Qn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Qn="react-native":Qn="node";const Yw={"X-Client-Info":`supabase-js-${Qn}/${Jw}`},Xw={headers:Yw},Zw={schema:"public"},ex={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},tx={};var rx=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const nx=e=>{let t;return e?t=e:typeof fetch>"u"?t=jp:t=fetch,(...r)=>t(...r)},sx=()=>typeof Headers>"u"?Ep:Headers,ix=(e,t,r)=>{const n=nx(r),s=sx();return(i,o)=>rx(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var ox=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};function ax(e){return e.replace(/\/$/,"")}function lx(e,t){const{db:r,auth:n,realtime:s,global:i}=e,{db:o,auth:a,realtime:l,global:u}=t,d={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>ox(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const Bp="2.65.1",cx="http://localhost:9999",ux="supabase.auth.token",dx={"X-Client-Info":`gotrue-js/${Bp}`},xd=10,jl="X-Supabase-Api-Version",Wp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function fx(e){return Math.round(Date.now()/1e3)+e}function hx(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const rt=()=>typeof document<"u",yr={tested:!1,writable:!1},os=()=>{if(!rt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(yr.tested)return yr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),yr.tested=!0,yr.writable=!0}catch{yr.tested=!0,yr.writable=!1}return yr.writable};function da(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Vp=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>bn(async()=>{const{default:n}=await Promise.resolve().then(()=>Rn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},px=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Hp=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},oi=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ai=async(e,t)=>{await e.removeItem(t)};function mx(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,s,i,o,a,l,u,d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)o=t.indexOf(e.charAt(d++)),a=t.indexOf(e.charAt(d++)),l=t.indexOf(e.charAt(d++)),u=t.indexOf(e.charAt(d++)),n=o<<2|a>>4,s=(a&15)<<4|l>>2,i=(l&3)<<6|u,r=r+String.fromCharCode(n),l!=64&&s!=0&&(r=r+String.fromCharCode(s)),u!=64&&i!=0&&(r=r+String.fromCharCode(i));return r}class To{constructor(){this.promise=new To.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}To.promiseConstructor=Promise;function _d(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=e.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(mx(n))}async function gx(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function vx(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function yx(e){return("0"+e.toString(16)).substr(-2)}function wx(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,yx).join("")}async function xx(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function _x(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function kx(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await xx(e);return _x(r)}async function Br(e,t,r=!1){const n=wx();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Hp(e,`${t}-code-verifier`,s);const i=await kx(n);return[i,n===i?"plain":"s256"]}const bx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Sx(e){const t=e.headers.get(jl);if(!t||!t.match(bx))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class Ic extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function $(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class jx extends Ic{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Ex(e){return $(e)&&e.name==="AuthApiError"}class qp extends Ic{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ur extends Ic{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class $t extends Ur{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Cx(e){return $(e)&&e.name==="AuthSessionMissingError"}class fa extends Ur{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class li extends Ur{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ci extends Ur{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kd extends Ur{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class El extends Ur{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function ha(e){return $(e)&&e.name==="AuthRetryableFetchError"}class bd extends Ur{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}var Nx=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const _r=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Px=[502,503,504];async function Sd(e){var t;if(!px(e))throw new El(_r(e),0);if(Px.includes(e.status))throw new El(_r(e),e.status);let r;try{r=await e.json()}catch(i){throw new qp(_r(i),i)}let n;const s=Sx(e);if(s&&s.getTime()>=Wp["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new bd(_r(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new $t}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new bd(_r(r),e.status,r.weak_password.reasons);throw new jx(_r(r),e.status||500,n)}const Rx=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function U(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[jl]||(i[jl]=Wp["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Tx(e,t,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Tx(e,t,r,n,s,i){const o=Rx(t,n,s,i);let a;try{a=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new El(_r(l),0)}if(a.ok||await Sd(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Sd(l)}}function Mt(e){var t;let r=null;Ix(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=fx(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function jd(e){const t=Mt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function qt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Ox(e){return{data:e,error:null}}function Ax(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=Nx(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Lx(e){return e}function Ix(e){return e.access_token&&e.refresh_token&&e.expires_in}var Dx=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class $x{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Vp(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await U(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await U(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:qt})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Dx(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Ax,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if($(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await U(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:qt})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Lx});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(x=>{const y=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(x.split(";")[1].split("=")[1]);u[`${_}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if($(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await U(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:qt})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await U(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:qt})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await U(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:qt})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await U(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if($(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await U(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}}const Mx={getItem:e=>os()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{os()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{os()&&globalThis.localStorage.removeItem(e)}};function Ed(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Ux(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Wr={debug:!!(globalThis&&os()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Gp extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Fx extends Gp{}async function zx(e,t,r){Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Fx(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Wr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}})}Ux();const Bx={url:cx,storageKey:ux,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:dx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Bn=30*1e3,Cd=3;async function Nd(e,t,r){return await r()}class Es{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Es.nextInstanceID,Es.nextInstanceID+=1,this.instanceID>0&&rt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Bx),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new $x({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Vp(s.fetch),this.lock=s.lock||Nd,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:rt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=zx:this.lock=Nd,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:os()?this.storage=Mx:(this.memoryStorage={},this.storage=Ed(this.memoryStorage)):(this.memoryStorage={},this.storage=Ed(this.memoryStorage)),rt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Bp}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const t=rt()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:r,error:n}=await this._getSessionFromURL(t);if(n)return this._debug("#_initialize()","error detecting session from URL",n),(n==null?void 0:n.code)==="identity_already_exists"?{error:n}:(await this._removeSession(),{error:n});const{session:s,redirectType:i}=r;return this._debug("#_initialize()","detected session in URL",s,"redirect type",i),await this._saveSession(s),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return $(t)?{error:t}:{error:new qp("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Mt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if($(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,x=null;this.flowType==="pkce"&&([m,x]=await Br(this.storage,this.storageKey)),i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:x},xform:Mt})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Mt})}else throw new li("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if($(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:a}=t;r=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:jd})}else if("phone"in t){const{phone:i,password:o,options:a}=t;r=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:jd})}else throw new li("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new fa}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if($(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await oi(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Mt});if(await ai(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new fa}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if($(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,a=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Mt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new fa}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if($(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Br(this.storage,this.storageKey));const{error:f}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:d}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new li("You must provide either an email or phone number.")}catch(a){if($(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Mt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if($(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Br(this.storage,this.storageKey)),await U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Ox})}catch(i){if($(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new $t;const{error:s}=await U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if($(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await U(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:a}=await U(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new li("You must provide either an email or phone number and a type")}catch(r){if($(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await oi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:qt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $t}:await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:qt})})}catch(r){if($(r))return Cx(r)&&(await this._removeSession(),await ai(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new $t;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Br(this.storage,this.storageKey));const{data:u,error:d}=await U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:qt});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}_decodeJWT(t){return _d(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $t;const r=Date.now()/1e3;let n=r,s=!0,i=null;const o=_d(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if($(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new $t;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if($(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t){try{if(!rt())throw new ci("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new ci("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new kd("Not a valid PKCE flow url.");const r=da(window.location.href);if(t){if(!r.code)throw new kd("No code detected.");const{data:v,error:w}=await this._exchangeCodeForSession(r.code);if(w)throw w;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:v.session,redirectType:null},error:null}}if(r.error||r.error_description||r.error_code)throw new ci(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=r;if(!i||!a||!o||!u)throw new ci("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let h=d+f;l&&(h=parseInt(l));const m=h-d;m*1e3<=Bn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const x=h-f;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,h,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,h,d);const{data:y,error:_}=await this._getUser(i);if(_)throw _;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:r.type},error:null}}catch(r){if($(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantFlow(){const t=da(window.location.href);return!!(rt()&&(t.access_token||t.error_description))}async _isPKCEFlow(){const t=da(window.location.href),r=await oi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(Ex(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await ai(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=hx(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Br(this.storage,this.storageKey,!0));try{return await U(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if($(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await U(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return rt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if($(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await U(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if($(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await vx(async s=>(s>0&&await gx(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Mt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&ha(i)&&Date.now()+o-n<Bn})}catch(n){if(this._debug(r,"error",n),$(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),rt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await oi(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)<s+xd;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${xd}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),ha(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new $t;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new To;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new $t;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),$(i)){const o={session:null,error:i};return ha(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Hp(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await ai(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&rt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Bn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Bn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Bn}ms, refresh threshold is ${Cd} ticks`),s<=Cd&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Gp)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!rt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Br(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await U(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if($(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await U(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if($(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await U(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if($(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await U(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if($(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}}Es.nextInstanceID=0;const Wx=Es;class Vx extends Wx{constructor(t){super(t)}}var Hx=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class qx{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=ax(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:Zw,realtime:tx,auth:Object.assign(Object.assign({},ex),{storageKey:l}),global:Xw},d=lx(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=ix(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},d.realtime)),this.rest=new xw(`${a}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new J0(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Qw(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Hx(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:a,debug:l},u,d){var f;const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Vx({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:(f="Authorization"in this.headers)!==null&&f!==void 0?f:!1})}_initRealtimeClient(t){return new Iw(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.realtime.setAuth(n??null),this.changedAccessToken=n):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Gx=(e,t,r)=>new qx(e,t,r),Kx="https://iekczmlzhnccwsovkrvk.supabase.co",Qx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imlla2N6bWx6aG5jY3dzb3ZrcnZrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzE2ODA5NDUsImV4cCI6MjA0NzI1Njk0NX0.s5eTVh3rGC9q005Ztbg8h-IgJot1PB_QO4sO-4fLjko",Kp="https://www.rvzn.app",Jx=e=>{try{const t=new URL(e).hostname;return t==="localhost"?"":t.replace(/^www\./,"")}catch(t){return console.error("Error parsing URL:",t),""}},Yx=Jx(Kp);console.log("Cookie domain:",Yx||"(current hostname)");const Xx=typeof window<"u"&&window.location.hostname.includes("vercel.app"),Qp=Xx?`${window.location.protocol}//${window.location.host}`:Kp;console.log("Using site URL:",Qp);const F=Gx(Kx,Qx,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,flowType:"pkce",storageKey:"supabase.auth.token",storage:{getItem:e=>{try{const t=localStorage.getItem(e);return console.log(`Retrieved auth from storage: ${e} exists: ${!!t}`),t}catch(t){return console.error("Error accessing localStorage:",t),null}},setItem:(e,t)=>{try{console.log(`Storing auth in storage: ${e}`),localStorage.setItem(e,t)}catch(r){console.error("Error writing to localStorage:",r)}},removeItem:e=>{try{console.log(`Removing auth from storage: ${e}`),localStorage.removeItem(e)}catch(t){console.error("Error removing from localStorage:",t)}}}},global:{headers:{"Content-Type":"application/json",Accept:"application/json"}}});typeof window<"u"&&F.auth.onAuthStateChange((e,t)=>{console.log("Auth state changed:",e,!!t,"on",window.location.hostname),t&&(console.log("Session expires at:",new Date(t.expires_at*1e3).toLocaleString()),console.log("User ID:",t.user.id),document.cookie.split(";").forEach(r=>{(r.includes("supabase")||r.includes("sb-"))&&console.log("Found auth cookie:",r.trim())}))});const Zx=e=>e.startsWith("/")?e:`/${e}`,Cs=e=>{const t=Zx(e),r=`${Qp}${t}`;return console.log("Generated redirect URL:",r),r},Ns="/auth/callback",e1=async(e,t)=>{try{return console.log("Signing in with password, redirect to:",Cs(Ns)),await F.auth.signInWithPassword({email:e,password:t})}catch(r){throw console.error("Error signing in with password:",r),r}},t1=async(e,t)=>{try{return console.log("Signing up, redirect to:",Cs(Ns)),await F.auth.signUp({email:e,password:t,options:{emailRedirectTo:Cs(Ns)}})}catch(r){throw console.error("Error signing up:",r),r}},r1=async e=>{try{return console.log("Signing in with OTP, redirect to:",Cs(Ns)),await F.auth.signInWithOtp({email:e,options:{emailRedirectTo:Cs(Ns)}})}catch(t){throw console.error("Error signing in with OTP:",t),t}},n1=async()=>{try{return await F.auth.signOut()}catch(e){throw console.error("Error signing out:",e),e}},Pd=async()=>{try{const{data:e,error:t}=await F.auth.getSession();return t?(console.error("Error getting session:",t),{session:null,error:t}):{session:e.session,error:null}}catch(e){return console.error("Exception getting session:",e),{session:null,error:e}}};async function s1(e,t,r){try{if(!e)throw console.error("storeUserRole: Missing userId"),new Error("User ID is required");console.log("Storing role for user:",e,"Role:",r);const{data:n,error:s}=await F.from("users").select("id").eq("id",e).maybeSingle();if(s&&console.error("Error checking existing user:",s),n){console.log("User exists, updating role");const{error:i}=await F.from("users").update({role:r,email:t,credits:r==="mentee"?3:0,updated_at:new Date().toISOString()}).eq("id",e);if(i)throw console.error("Error updating user role:",i),i}else{console.log("User does not exist, inserting new record");const{error:i}=await F.from("users").insert({id:e,email:t,role:r,credits:r==="mentee"?3:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()});if(i)throw console.error("Error inserting user role:",i),i}console.log("Successfully stored role for user:",e)}catch(n){throw console.error("Exception storing user role:",n),n}}async function ui(e){try{if(!e)return console.error("getUserRole called with empty userId"),null;console.log("Fetching role for userId:",e);const t=new Promise((n,s)=>{setTimeout(()=>{console.warn("getUserRole timed out after 10 seconds"),s(new Error("Timeout fetching user role"))},1e4)}),r=(async()=>{try{const{data:n,error:s}=await F.from("users").select("role").eq("id",e).maybeSingle();if(s){console.error("Error fetching user role with standard query:",s);try{const i="https://iekczmlzhnccwsovkrvk.supabase.co",o="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imlla2N6bWx6aG5jY3dzb3ZrcnZrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzE2ODA5NDUsImV4cCI6MjA0NzI1Njk0NX0.s5eTVh3rGC9q005Ztbg8h-IgJot1PB_QO4sO-4fLjko",a=await fetch(`${i}/rest/v1/users?id=eq.${e}&select=role`,{method:"GET",headers:{apikey:o,Authorization:`Bearer ${o}`,"Content-Type":"application/json",Accept:"application/json"}});if(!a.ok)throw new Error(`HTTP error! Status: ${a.status}`);const l=await a.json();return console.log("Fetched user role data via fetch API:",l),Array.isArray(l)&&l.length>0?l[0].role:null}catch(i){return console.error("Error with alternative fetch approach:",i),null}}return console.log("Fetched user role data:",n),(n==null?void 0:n.role)||null}catch(n){return console.error("Inner exception in fetchRolePromise:",n),null}})();try{return await Promise.race([r,t])}catch(n){console.error("Timed out fetching user role:",n);try{console.log("Making one final attempt to fetch role after timeout");const{data:s}=await F.from("users").select("role").eq("id",e).maybeSingle();return(s==null?void 0:s.role)||null}catch(s){return console.error("Final attempt failed:",s),null}}}catch(t){return console.error("Exception fetching user role:",t),null}}const Jp=p.createContext(void 0),pa=20*60*1e3,so=typeof window<"u"?window.location.hostname:"",Gr=so==="rvzn.app"||so==="www.rvzn.app",i1=so==="localhost";typeof window<"u"&&console.log("Auth context initialized on domain:",so,Gr?"(main domain)":i1?"(localhost)":"(other domain)");function Yp({children:e}){const[t,r]=p.useState(null),[n,s]=p.useState(null),[i,o]=p.useState(null),[a,l]=p.useState(!0),[u,d]=p.useState(Date.now()),[f,h]=p.useState(!1),[m,x]=p.useState(0),y=async()=>{var N,A;const k=typeof window<"u"&&window.location.hostname.includes("vercel.app");x(L=>L+1);const j=m+1,R=Gr?pa:k?pa*2:pa*1.5;if(f&&Date.now()-u<R)return console.log(`Using cached auth state (check #${j}):`,f),f;try{d(Date.now());const{data:L}=await F.auth.getSession(),Z=!!((N=L.session)!=null&&N.user);if(console.log(`Session active check #${j}:`,Z,"on host:",window.location.hostname,"main domain:",Gr),!Z&&f&&j<5){console.log(`Session appears inactive but was active before (check #${j}), doing thorough check`);try{const ce=!!localStorage.getItem("supabase.auth.token");console.log("  - Local storage token exists:",ce);const mr=document.cookie.split(";").some(O=>O.trim().startsWith("sb-")||O.trim().includes("supabase"));if(console.log("  - Auth cookies exist:",mr),(ce||mr)&&Gr)return console.log("  - Token sources exist, maintaining auth state temporarily"),!0;const ft=Gr?1e3:1500;await new Promise(O=>setTimeout(O,ft));const{data:At}=await F.auth.getSession(),P=!!((A=At.session)!=null&&A.user);if(console.log(`  - Retry session check result (check #${j}):`,P),P)return h(!0),!0}catch(ce){console.error("Error during thorough session check:",ce)}}return!Gr&&f?(console.log("On non-main domain with previous authentication, maintaining state"),!0):(h(Z),Z)}catch(L){return console.error("Error checking session status:",L),f?(console.log("Error during session check but was authenticated before, maintaining state"),f):!1}},_=async()=>{if(!(n!=null&&n.id)){console.log("Cannot refresh role: No user ID");return}try{console.log("Refreshing role for user:",n.id),await new Promise(j=>setTimeout(j,500));const k=await ui(n.id);console.log("Refreshed role:",k),o(k),s(j=>j?{...j,userRole:k}:null)}catch(k){console.error("Error refreshing user role:",k)}},g=async()=>{try{console.log("Refreshing session");const{session:k,error:j}=await Pd();if(j){console.error("Error refreshing session:",j);return}if(!k){console.log("No session found during refresh"),s(null),o(null),h(!1);return}r(k),d(Date.now()),h(!0);try{const R=k.user,N=await ui(R.id);o(N),s({...R,userRole:N}),console.log("Session refreshed successfully")}catch(R){console.error("Error getting user data during refresh:",R)}}catch(k){console.error("Error in refreshSession:",k)}};p.useEffect(()=>{console.log("Initializing auth provider");let k=!0;const{data:{subscription:j}}=F.auth.onAuthStateChange(async(N,A)=>{if(console.log("Auth state changed:",N,!!A),!!k)if(r(A),d(Date.now()),A!=null&&A.user){const L=A.user;console.log("User found in session:",L.id),h(!0);try{await new Promise(ce=>setTimeout(ce,300));const Z=await ui(L.id);if(console.log("User role after auth change:",Z),!k)return;o(Z),s({...L,userRole:Z})}catch(Z){if(console.error("Error fetching user role:",Z),!k)return;s(L)}finally{k&&l(!1)}}else{if(!k)return;s(null),o(null),h(!1),l(!1)}});return(async()=>{try{localStorage.getItem("supabase.auth.token")&&console.log("Found stored session data");const{session:A,error:L}=await Pd();if(L&&console.error("Error getting initial session:",L),!k)return;if(r(A),d(Date.now()),A!=null&&A.user){const Z=A.user;console.log("Initial user found:",Z.id),h(!0);try{const ce=await ui(Z.id);if(console.log("Initial user role:",ce),!k)return;o(ce),s({...Z,userRole:ce})}catch(ce){if(console.error("Error fetching initial user role:",ce),!k)return;s(Z)}}else{if(console.log("No initial session found"),!k)return;s(null),o(null),h(!1)}}catch(N){if(console.error("Error initializing session:",N),!k)return;s(null),o(null),h(!1)}finally{k&&l(!1)}})(),()=>{k=!1,j==null||j.unsubscribe()}},[]);const v=async k=>{if(!(n!=null&&n.id))throw new Error("Cannot set role: No user ID");try{l(!0),await s1(n.id,n.email,k),console.log("Role set successfully:",k),o(k),s(j=>j?{...j,userRole:k}:null)}catch(j){throw console.error("Error setting user role:",j),j}finally{l(!1)}},w=async(k,j)=>{try{l(!0),console.log("Attempting to sign up with email:",k);const{error:R}=await t1(k,j);if(R)throw R;console.log("Sign up successful, awaiting email verification")}catch(R){throw console.error("Error signing up:",R),R}finally{l(!1)}},b=async(k,j)=>{try{l(!0),console.log("Attempting to sign in with email and password:",k);const{error:R}=await e1(k,j);if(R)throw R;console.log("Sign in with password successful"),d(Date.now()),h(!0)}catch(R){throw console.error("Error signing in with password:",R),R}finally{l(!1)}},S=async k=>{try{l(!0),console.log("Attempting to sign in with magic link:",k);const{error:j}=await r1(k);if(j)throw j;console.log("Sign in with magic link email sent")}catch(j){throw console.error("Error signing in with magic link:",j),j}finally{l(!1)}},E=async()=>{try{l(!0),console.log("Attempting to sign out");const{error:k}=await n1();if(k)throw k;r(null),s(null),o(null),h(!1),d(Date.now()),console.log("Sign out successful")}catch(k){throw console.error("Error signing out:",k),k}finally{l(!1)}};return c.jsx(Jp.Provider,{value:{session:t,user:n,loading:a,userRole:i,isAuthenticated:f,lastAuthCheckTime:u,signUpWithEmail:w,signInWithEmailAndPassword:b,signInWithEmail:S,signOut:E,setUserRole:v,refreshUserRole:_,checkSessionActive:y,refreshSession:g},children:e})}function et(){const e=p.useContext(Jp);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function Rd(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Xp(...e){return t=>{let r=!1;const n=e.map(s=>{const i=Rd(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():Rd(e[s],null)}}}}function pr(...e){return p.useCallback(Xp(...e),e)}var Oo=p.forwardRef((e,t)=>{const{children:r,...n}=e,s=p.Children.toArray(r),i=s.find(a1);if(i){const o=i.props.children,a=s.map(l=>l===i?p.Children.count(o)>1?p.Children.only(null):p.isValidElement(o)?o.props.children:null:l);return c.jsx(Cl,{...n,ref:t,children:p.isValidElement(o)?p.cloneElement(o,void 0,a):null})}return c.jsx(Cl,{...n,ref:t,children:r})});Oo.displayName="Slot";var Cl=p.forwardRef((e,t)=>{const{children:r,...n}=e;if(p.isValidElement(r)){const s=c1(r);return p.cloneElement(r,{...l1(n,r.props),ref:t?Xp(t,s):s})}return p.Children.count(r)>1?p.Children.only(null):null});Cl.displayName="SlotClone";var o1=({children:e})=>c.jsx(c.Fragment,{children:e});function a1(e){return p.isValidElement(e)&&e.type===o1}function l1(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{i(...a),s(...a)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function c1(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Zp(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Zp(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function em(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Zp(e))&&(n&&(n+=" "),n+=t);return n}const Td=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Od=em,Fs=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Od(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=Td(d)||Td(f);return s[u][h]}),a=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(x=>{let[y,_]=x;return Array.isArray(_)?_.includes({...i,...a}[y]):{...i,...a}[y]===_})?[...u,f,h]:u},[]);return Od(e,o,l,r==null?void 0:r.class,r==null?void 0:r.className)},Dc="-",u1=e=>{const t=f1(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const a=o.split(Dc);return a[0]===""&&a.length!==1&&a.shift(),tm(a,t)||d1(o)},getConflictingClassGroupIds:(o,a)=>{const l=r[o]||[];return a&&n[o]?[...l,...n[o]]:l}}},tm=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?tm(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Dc);return(o=t.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Ad=/^\[(.+)\]$/,d1=e=>{if(Ad.test(e)){const t=Ad.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},f1=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return p1(Object.entries(e.classGroups),r).forEach(([i,o])=>{Nl(o,n,i,t)}),n},Nl=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:Ld(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(h1(s)){Nl(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{Nl(o,Ld(t,i),r,n)})})},Ld=(e,t)=>{let r=e;return t.split(Dc).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},h1=e=>e.isThemeGetter,p1=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[t+o,a])):i);return[r,s]}):e,m1=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},rm="!",g1=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=a=>{const l=[];let u=0,d=0,f;for(let _=0;_<a.length;_++){let g=a[_];if(u===0){if(g===s&&(n||a.slice(_,_+i)===t)){l.push(a.slice(d,_)),d=_+i;continue}if(g==="/"){f=_;continue}}g==="["?u++:g==="]"&&u--}const h=l.length===0?a:a.substring(d),m=h.startsWith(rm),x=m?h.substring(1):h,y=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:y}};return r?a=>r({className:a,parseClassName:o}):o},v1=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},y1=e=>({cache:m1(e.cacheSize),parseClassName:g1(e),...u1(e)}),w1=/\s+/,x1=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(w1);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let x=!!m,y=n(x?h.substring(0,m):h);if(!y){if(!x){a=u+(a.length>0?" "+a:a);continue}if(y=n(h),!y){a=u+(a.length>0?" "+a:a);continue}x=!1}const _=v1(d).join(":"),g=f?_+rm:_,v=g+y;if(i.includes(v))continue;i.push(v);const w=s(y,x);for(let b=0;b<w.length;++b){const S=w[b];i.push(g+S)}a=u+(a.length>0?" "+a:a)}return a};function _1(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=nm(t))&&(n&&(n+=" "),n+=r);return n}const nm=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=nm(e[n]))&&(r&&(r+=" "),r+=t);return r};function k1(e,...t){let r,n,s,i=o;function o(l){const u=t.reduce((d,f)=>f(d),e());return r=y1(u),n=r.cache.get,s=r.cache.set,i=a,a(l)}function a(l){const u=n(l);if(u)return u;const d=x1(l,r);return s(l,d),d}return function(){return i(_1.apply(null,arguments))}}const J=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},sm=/^\[(?:([a-z-]+):)?(.+)\]$/i,b1=/^\d+\/\d+$/,S1=new Set(["px","full","screen"]),j1=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,E1=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,C1=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,N1=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,P1=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,wt=e=>pn(e)||S1.has(e)||b1.test(e),It=e=>On(e,"length",$1),pn=e=>!!e&&!Number.isNaN(Number(e)),ma=e=>On(e,"number",pn),Wn=e=>!!e&&Number.isInteger(Number(e)),R1=e=>e.endsWith("%")&&pn(e.slice(0,-1)),D=e=>sm.test(e),Dt=e=>j1.test(e),T1=new Set(["length","size","percentage"]),O1=e=>On(e,T1,im),A1=e=>On(e,"position",im),L1=new Set(["image","url"]),I1=e=>On(e,L1,U1),D1=e=>On(e,"",M1),Vn=()=>!0,On=(e,t,r)=>{const n=sm.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},$1=e=>E1.test(e)&&!C1.test(e),im=()=>!1,M1=e=>N1.test(e),U1=e=>P1.test(e),F1=()=>{const e=J("colors"),t=J("spacing"),r=J("blur"),n=J("brightness"),s=J("borderColor"),i=J("borderRadius"),o=J("borderSpacing"),a=J("borderWidth"),l=J("contrast"),u=J("grayscale"),d=J("hueRotate"),f=J("invert"),h=J("gap"),m=J("gradientColorStops"),x=J("gradientColorStopPositions"),y=J("inset"),_=J("margin"),g=J("opacity"),v=J("padding"),w=J("saturate"),b=J("scale"),S=J("sepia"),E=J("skew"),k=J("space"),j=J("translate"),R=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",D,t],L=()=>[D,t],Z=()=>["",wt,It],ce=()=>["auto",pn,D],mr=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ft=()=>["solid","dashed","dotted","double","none"],At=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],O=()=>["","0",D],I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[pn,D];return{cacheSize:500,separator:":",theme:{colors:[Vn],spacing:[wt,It],blur:["none","",Dt,D],brightness:B(),borderColor:[e],borderRadius:["none","","full",Dt,D],borderSpacing:L(),borderWidth:Z(),contrast:B(),grayscale:O(),hueRotate:B(),invert:O(),gap:L(),gradientColorStops:[e],gradientColorStopPositions:[R1,It],inset:A(),margin:A(),opacity:B(),padding:L(),saturate:B(),scale:B(),sepia:O(),skew:B(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",D]}],container:["container"],columns:[{columns:[Dt]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...mr(),D]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Wn,D]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",D]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",Wn,D]}],"grid-cols":[{"grid-cols":[Vn]}],"col-start-end":[{col:["auto",{span:["full",Wn,D]},D]}],"col-start":[{"col-start":ce()}],"col-end":[{"col-end":ce()}],"grid-rows":[{"grid-rows":[Vn]}],"row-start-end":[{row:["auto",{span:[Wn,D]},D]}],"row-start":[{"row-start":ce()}],"row-end":[{"row-end":ce()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",D]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",D]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",D,t]}],"min-w":[{"min-w":[D,t,"min","max","fit"]}],"max-w":[{"max-w":[D,t,"none","full","min","max","fit","prose",{screen:[Dt]},Dt]}],h:[{h:[D,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[D,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[D,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[D,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Dt,It]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ma]}],"font-family":[{font:[Vn]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",D]}],"line-clamp":[{"line-clamp":["none",pn,ma]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",wt,D]}],"list-image":[{"list-image":["none",D]}],"list-style-type":[{list:["none","disc","decimal",D]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ft(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",wt,It]}],"underline-offset":[{"underline-offset":["auto",wt,D]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",D]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",D]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...mr(),A1]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",O1]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},I1]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...ft(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:ft()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ft()]}],"outline-offset":[{"outline-offset":[wt,D]}],"outline-w":[{outline:[wt,It]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[wt,It]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Dt,D1]}],"shadow-color":[{shadow:[Vn]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...At(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":At()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Dt,D]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",D]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",D]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",D]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Wn,D]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",D]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",D]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",D]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[wt,It,ma]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},z1=k1(F1);function re(...e){return z1(em(e))}const B1=Fs("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),te=p.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?Oo:"button";return c.jsx(o,{className:re(B1({variant:t,size:r,className:e})),ref:i,...s})});te.displayName="Button";const ir=p.forwardRef(({className:e,type:t,...r},n)=>c.jsx("input",{type:t,className:re("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));ir.displayName="Input";const V=p.forwardRef(({className:e,...t},r)=>c.jsx("div",{ref:r,className:re("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));V.displayName="Card";const G=p.forwardRef(({className:e,...t},r)=>c.jsx("div",{ref:r,className:re("flex flex-col space-y-1.5 p-6",e),...t}));G.displayName="CardHeader";const K=p.forwardRef(({className:e,...t},r)=>c.jsx("h3",{ref:r,className:re("text-2xl font-semibold leading-none tracking-tight",e),...t}));K.displayName="CardTitle";const xe=p.forwardRef(({className:e,...t},r)=>c.jsx("p",{ref:r,className:re("text-sm text-muted-foreground",e),...t}));xe.displayName="CardDescription";const H=p.forwardRef(({className:e,...t},r)=>c.jsx("div",{ref:r,className:re("p-6 pt-0",e),...t}));H.displayName="CardContent";const W1=p.forwardRef(({className:e,...t},r)=>c.jsx("div",{ref:r,className:re("flex items-center p-6 pt-0",e),...t}));W1.displayName="CardFooter";function ct({className:e="",fullScreen:t=!0,...r}){return t?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Loading..."}),c.jsx("div",{className:`animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto ${e}`,...r})]})}):c.jsx("div",{className:`animate-spin rounded-full border-b-2 border-primary ${e}`,...r})}/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),om=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var H1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...a},l)=>p.createElement("svg",{ref:l,...H1,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:om("lucide",s),...a},[...o.map(([u,d])=>p.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=(e,t)=>{const r=p.forwardRef(({className:n,...s},i)=>p.createElement(q1,{ref:i,iconNode:t,className:om(`lucide-${V1(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=ye("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=ye("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=ye("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=ye("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=ye("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=ye("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=ye("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=ye("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=ye("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=ye("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=ye("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),t_=Fs("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Rs=p.forwardRef(({className:e,variant:t,...r},n)=>c.jsx("div",{ref:n,role:"alert",className:re(t_({variant:t}),e),...r}));Rs.displayName="Alert";const Ts=p.forwardRef(({className:e,...t},r)=>c.jsx("h5",{ref:r,className:re("mb-1 font-medium leading-none tracking-tight",e),...t}));Ts.displayName="AlertTitle";const Os=p.forwardRef(({className:e,...t},r)=>c.jsx("div",{ref:r,className:re("text-sm [&_p]:leading-relaxed",e),...t}));Os.displayName="AlertDescription";function r_(){const e=Ze(),{signInWithEmailAndPassword:t,signUpWithEmail:r,userRole:n}=et(),[s,i]=p.useState(""),[o,a]=p.useState(""),[l,u]=p.useState(""),[d,f]=p.useState(!1),[h,m]=p.useState(null),[x,y]=p.useState("signin"),_=()=>{a(""),u("")},g=async w=>{if(w.preventDefault(),!s.trim()){m({type:"error",text:"Please enter your email address"});return}if(!o){m({type:"error",text:"Please enter your password"});return}if(x==="signup"&&o!==l){m({type:"error",text:"Passwords do not match"});return}try{f(!0),m({type:"info",text:x==="signin"?"Signing in...":"Creating your account..."}),x==="signin"?(await t(s,o),m({type:"success",text:"Sign in successful!"}),setTimeout(()=>{e(n?"/dashboard":"/role-selection")},500)):(await r(s,o),m({type:"success",text:"Account created successfully! Please check your email to confirm your account before signing in."}),_(),setTimeout(()=>y("signin"),2e3))}catch(b){console.error("Authentication error:",b);let S="Authentication failed. Please try again.";b instanceof Error&&(b.message.includes("invalid login credentials")?S="Invalid email or password. Please try again.":b.message.includes("email already in use")?S="This email is already registered. Please sign in instead.":b.message.includes("password")?S="Password is too weak. Please use at least 6 characters.":S=b.message),m({type:"error",text:S})}finally{f(!1)}},v=()=>{y(x==="signin"?"signup":"signin"),m(null),_()};return c.jsx("div",{className:"container flex items-center justify-center min-h-screen",children:c.jsxs(V,{className:"w-full max-w-md",children:[c.jsxs(G,{className:"space-y-1",children:[c.jsx(K,{className:"text-2xl text-center",children:"Welcome"}),c.jsx(xe,{className:"text-center",children:x==="signin"?"Sign in to get started":"Create a new account"})]}),c.jsxs(H,{className:"space-y-4",children:[c.jsxs("form",{onSubmit:g,className:"space-y-4",children:[c.jsx("div",{className:"space-y-2",children:c.jsx(ir,{type:"email",placeholder:"Email",value:s,onChange:w=>i(w.target.value),disabled:d,required:!0})}),c.jsx("div",{className:"space-y-2",children:c.jsx(ir,{type:"password",placeholder:"Password",value:o,onChange:w=>a(w.target.value),disabled:d,required:!0})}),x==="signup"&&c.jsx("div",{className:"space-y-2",children:c.jsx(ir,{type:"password",placeholder:"Confirm Password",value:l,onChange:w=>u(w.target.value),disabled:d,required:!0})}),c.jsx(te,{type:"submit",className:"w-full",disabled:d,children:d?c.jsx(ct,{fullScreen:!1,className:"mr-2 h-4 w-4"}):x==="signin"?"Sign In":"Sign Up"}),c.jsx("div",{className:"text-center text-sm",children:c.jsx("button",{type:"button",onClick:v,className:"text-blue-600 hover:underline focus:outline-none",children:x==="signin"?"Don't have an account? Sign up":"Already have an account? Sign in"})})]}),h&&c.jsxs(Rs,{variant:h.type==="success"?"default":h.type==="error"?"destructive":"default",className:`p-3 rounded-md text-sm ${h.type==="success"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":h.type==="error"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400"}`,children:[h.type==="error"?c.jsx(io,{className:"h-4 w-4"}):h.type==="info"?c.jsx(K1,{className:"h-4 w-4"}):null,c.jsx(Ts,{children:h.type==="success"?"Success":h.type==="error"?"Error":"Info"}),c.jsx(Os,{children:h.text})]})]})]})})}function n_(){const e=Ze(),{user:t,userRole:r,loading:n}=et(),[s,i]=p.useState("Initializing..."),[o,a]=p.useState(!1);return p.useEffect(()=>{const l=setTimeout(()=>{a(!0)},1e3);return()=>clearTimeout(l)},[]),p.useEffect(()=>{if(console.log("SplashScreen state:",{loading:n,user:t==null?void 0:t.id,userRole:r,delayComplete:o}),n||!o){i(n?"Loading your account...":"Preparing your experience...");return}if(!t){console.log("SplashScreen: No user found, redirecting to login"),i("Redirecting to login..."),e("/login",{replace:!0});return}if(t&&!r){console.log("SplashScreen: User has no role, redirecting to role selection"),i("Redirecting to role selection..."),e("/role-selection",{replace:!0});return}if(t&&r){console.log("SplashScreen: User has role, redirecting to dashboard"),i("Loading your dashboard..."),e("/dashboard",{replace:!0});return}},[e,t,r,n,o]),c.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-background",children:c.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-24 h-24 rounded-full bg-primary/10 flex items-center justify-center",children:c.jsx("span",{className:"text-3xl font-bold text-primary",children:"MF"})}),c.jsx(ct,{fullScreen:!1,className:"absolute -bottom-2 -right-2"})]}),c.jsxs("div",{className:"text-center space-y-2",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Micro-Mentorship"}),c.jsx("p",{className:"text-muted-foreground",children:s})]})]})})}const dm=p.createContext(void 0);function fm({children:e}){const{user:t,session:r}=et(),[n,s]=p.useState(null),[i,o]=p.useState(0),[a,l]=p.useState(!0),[u,d]=p.useState([]),[f,h]=p.useState([]);p.useEffect(()=>{console.log("AppContext: Auth state changed",{hasAuthUser:!!t,hasSession:!!r,authUserId:t==null?void 0:t.id});async function E(){if(!(t!=null&&t.id)){s(null),l(!1);return}try{const{data:k,error:j}=await F.from("users").select("*").eq("id",t.id).maybeSingle();if(console.log("AppContext: Loaded profile",{hasProfile:!!k,error:j,userId:t.id}),j)throw j;k?(s({id:k.id,email:k.email,role:k.role,credits:k.credits}),o(k.credits||0)):s(null)}catch(k){console.error("Error loading user data:",k),s(null)}finally{l(!1)}}E()},[t,r]),p.useEffect(()=>{n&&(m(),x())},[n]);async function m(){if(!n)return;if(n.role==="mentee"){const{data:j}=await F.from("users").select("credits").eq("id",n.id).single();j&&o(j.credits)}const{data:E}=await F.from("notifications").select("*").eq("user_id",n.id).order("created_at",{ascending:!1});E&&d(E);const{data:k}=await F.from("feedback_requests").select("*").or(`mentee_id.eq.${n.id},mentor_id.eq.${n.id}`).order("created_at",{ascending:!1});k&&h(k)}function x(){if(!n)return;const E=F.channel("notifications").on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${n.id}`},j=>{j.eventType==="INSERT"&&d(R=>[j.new,...R])}).subscribe(),k=F.channel("feedback_requests").on("postgres_changes",{event:"*",schema:"public",table:"feedback_requests",filter:`mentee_id=eq.${n.id}`},j=>{j.eventType==="UPDATE"&&h(R=>R.map(N=>N.id===j.new.id?j.new:N))}).subscribe();return()=>{E.unsubscribe(),k.unsubscribe()}}async function y(E){if(!n)return;const{error:k}=await F.from("feedback_requests").insert([{...E,mentee_id:n.id,status:"pending",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]);if(k)throw k;await m()}async function _(E){if(!n)return;const{error:k}=await F.from("feedback_requests").update({status:"accepted",mentor_id:n.id,updated_at:new Date().toISOString()}).eq("id",E);if(k)throw k;await m()}async function g(E,k){if(!n)return;const{error:j}=await F.from("feedback_requests").update({status:"completed",feedback:k,updated_at:new Date().toISOString()}).eq("id",E);if(j)throw j;await m()}async function v(E,k){if(!n)return;const{error:j}=await F.from("feedback_requests").update({status:"declined",feedback:k,updated_at:new Date().toISOString()}).eq("id",E);if(j)throw j;await m()}async function w(E){if(!n)return;const{error:k}=await F.from("notifications").update({read:!0}).eq("id",E);if(k)throw k;await m()}async function b(E){if(!n)return;const{error:k}=await F.from("users").update({credits:(n.credits||0)+E}).eq("id",n.id);if(k)throw k;await m()}const S={user:n,credits:i,loading:a,notifications:u,feedbackRequests:f,createFeedbackRequest:y,acceptFeedbackRequest:_,completeFeedbackRequest:g,declineFeedbackRequest:v,markNotificationAsRead:w,purchaseCredits:b};return c.jsx(dm.Provider,{value:S,children:e})}function Ot(){const e=p.useContext(dm);if(e===void 0)throw new Error("useApp must be used within an AppProvider");return e}class s_ extends Il.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){console.error("Error caught by boundary:",t,r)}render(){return this.state.hasError?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Something went wrong"}),c.jsx("button",{onClick:()=>this.setState({hasError:!1}),className:"text-blue-500 hover:underline",children:"Try again"})]})}):this.props.children}}const i_={theme:"system",setTheme:()=>null},o_=p.createContext(i_);function hm({children:e,defaultTheme:t="system",storageKey:r="vite-ui-theme",...n}){const[s,i]=p.useState(()=>localStorage.getItem(r)||t);p.useEffect(()=>{const a=window.document.documentElement;if(a.classList.remove("light","dark"),s==="system"){const l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";a.classList.add(l);return}a.classList.add(s)},[s]);const o={theme:s,setTheme:a=>{localStorage.setItem(r,a),i(a)}};return c.jsx(o_.Provider,{...n,value:o,children:e})}function a_(e,t){const r=p.createContext(t),n=i=>{const{children:o,...a}=i,l=p.useMemo(()=>a,Object.values(a));return c.jsx(r.Provider,{value:l,children:o})};n.displayName=e+"Provider";function s(i){const o=p.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function Mc(e,t=[]){let r=[];function n(i,o){const a=p.createContext(o),l=r.length;r=[...r,o];const u=f=>{var g;const{scope:h,children:m,...x}=f,y=((g=h==null?void 0:h[e])==null?void 0:g[l])||a,_=p.useMemo(()=>x,Object.values(x));return c.jsx(y.Provider,{value:_,children:m})};u.displayName=i+"Provider";function d(f,h){var y;const m=((y=h==null?void 0:h[e])==null?void 0:y[l])||a,x=p.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>p.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return p.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[n,l_(s,...t)]}function l_(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...a,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function lr(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var Ar=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},c_=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Te=c_.reduce((e,t)=>{const r=p.forwardRef((n,s)=>{const{asChild:i,...o}=n,a=i?Oo:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(a,{...o,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function u_(e,t){e&&Ec.flushSync(()=>e.dispatchEvent(t))}var Uc="Avatar",[d_,jb]=Mc(Uc),[f_,pm]=d_(Uc),mm=p.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,i]=p.useState("idle");return c.jsx(f_,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:c.jsx(Te.span,{...n,ref:t})})});mm.displayName=Uc;var gm="AvatarImage",vm=p.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=e,o=pm(gm,r),a=h_(n,i.referrerPolicy),l=lr(u=>{s(u),o.onImageLoadingStatusChange(u)});return Ar(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?c.jsx(Te.img,{...i,ref:t,src:n}):null});vm.displayName=gm;var ym="AvatarFallback",wm=p.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,i=pm(ym,r),[o,a]=p.useState(n===void 0);return p.useEffect(()=>{if(n!==void 0){const l=window.setTimeout(()=>a(!0),n);return()=>window.clearTimeout(l)}},[n]),o&&i.imageLoadingStatus!=="loaded"?c.jsx(Te.span,{...s,ref:t}):null});wm.displayName=ym;function h_(e,t){const[r,n]=p.useState("idle");return Ar(()=>{if(!e){n("error");return}let s=!0;const i=new window.Image,o=a=>()=>{s&&n(a)};return n("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=e,t&&(i.referrerPolicy=t),()=>{s=!1}},[e,t]),r}var xm=mm,_m=vm,km=wm;const Fc=p.forwardRef(({className:e,...t},r)=>c.jsx(xm,{ref:r,className:re("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Fc.displayName=xm.displayName;const bm=p.forwardRef(({className:e,...t},r)=>c.jsx(_m,{ref:r,className:re("aspect-square h-full w-full",e),...t}));bm.displayName=_m.displayName;const zc=p.forwardRef(({className:e,...t},r)=>c.jsx(km,{ref:r,className:re("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));zc.displayName=km.displayName;function p_({role:e,credits:t,onMenuClick:r}){const[n,s]=p.useState(!1),[i,o]=p.useState(!1),a=p.useRef(null),l=p.useRef(null),u=Ze(),{notifications:d}=Ot(),{signOut:f}=et(),h=d.filter(y=>!y.read).length;p.useEffect(()=>{function y(_){a.current&&!a.current.contains(_.target)&&s(!1),l.current&&!l.current.contains(_.target)&&o(!1)}return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]);const m=async()=>{try{console.log("Header: Signing out"),console.log("Header: Navigating to login page"),u("/login",{replace:!0}),setTimeout(async()=>{try{await f(),console.log("Header: Sign out completed after navigation"),window.location.reload()}catch(y){console.error("Error in delayed sign out:",y)}},100)}catch(y){console.error("Error in handleSignOut:",y),window.location.href="/login"}},x=()=>{o(!1)};return c.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:c.jsxs("div",{className:"container flex h-14 items-center",children:[c.jsxs(te,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:r,children:[c.jsx(J1,{className:"h-6 w-6"}),c.jsx("span",{className:"sr-only",children:"Toggle menu"})]}),c.jsxs("div",{className:"flex flex-1 items-center justify-end space-x-4",children:[e==="mentee"&&c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Credits:"}),c.jsx("div",{className:"font-bold text-primary",children:t}),c.jsx(Ht,{to:"/dashboard/credits",children:c.jsx(te,{size:"sm",variant:"outline",children:"Buy Credits"})})]}),c.jsxs("div",{className:"relative",ref:a,children:[c.jsxs(te,{variant:"ghost",size:"icon",onClick:()=>s(!n),className:"relative",children:[c.jsx(am,{className:"h-5 w-5"}),h>0&&c.jsx("span",{className:"absolute -top-1 -right-1 h-4 w-4 rounded-full bg-destructive text-xs text-destructive-foreground flex items-center justify-center",children:h})]}),n&&c.jsxs("div",{className:"absolute right-0 mt-2 w-80 rounded-md bg-popover text-popover-foreground shadow-md ring-1 ring-black ring-opacity-5",children:[c.jsx("div",{className:"p-4 border-b",children:c.jsx("h3",{className:"text-sm font-medium",children:"Notifications"})}),c.jsx("div",{className:"max-h-96 overflow-y-auto",children:d.length>0?d.slice(0,5).map(y=>c.jsx("div",{className:"p-4 hover:bg-muted",children:c.jsx("p",{className:"text-sm",children:y.message})},y.id)):c.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"No notifications"})}),c.jsx("div",{className:"p-4 border-t",children:c.jsx(Ht,{to:"/dashboard/notifications",className:"text-sm text-primary hover:underline",onClick:()=>s(!1),children:"View All Notifications"})})]})]}),c.jsxs("div",{className:"relative",ref:l,children:[c.jsx(te,{variant:"ghost",className:"relative",onClick:()=>o(!i),children:c.jsx(Fc,{className:"h-8 w-8",children:c.jsx(zc,{children:e==="mentee"?"M":"T"})})}),i&&c.jsx("div",{className:"absolute right-0 mt-2 w-48 rounded-md bg-popover text-popover-foreground shadow-md ring-1 ring-black ring-opacity-5",children:c.jsxs("div",{className:"py-1",children:[c.jsxs(Ht,{to:"/dashboard/profile",className:"block px-4 py-2 text-sm flex items-center space-x-2 hover:bg-accent hover:text-accent-foreground",onClick:x,children:[c.jsx(Z1,{className:"h-4 w-4"}),c.jsx("span",{children:"Profile"})]}),c.jsxs(Ht,{to:"/dashboard/settings",className:"block px-4 py-2 text-sm flex items-center space-x-2 hover:bg-accent hover:text-accent-foreground",onClick:x,children:[c.jsx(um,{className:"h-4 w-4"}),c.jsx("span",{children:"Settings"})]}),e==="mentee"&&c.jsxs(Ht,{to:"/dashboard/credits",className:"block px-4 py-2 text-sm flex items-center space-x-2 hover:bg-accent hover:text-accent-foreground",onClick:x,children:[c.jsx(Ps,{className:"h-4 w-4"}),c.jsx("span",{children:"Buy Credits"})]}),c.jsx("div",{className:"border-t my-1"}),c.jsxs("button",{onClick:m,className:"w-full text-left px-4 py-2 text-sm flex items-center space-x-2 hover:bg-accent hover:text-accent-foreground text-destructive hover:text-destructive",children:[c.jsx(Q1,{className:"h-4 w-4"}),c.jsx("span",{children:"Sign Out"})]})]})})]})]})]})})}function jt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var m_=df.useId||(()=>{}),g_=0;function ga(e){const[t,r]=p.useState(m_());return Ar(()=>{e||r(n=>n??String(g_++))},[e]),e||(t?`radix-${t}`:"")}function Sm({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=v_({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:n,a=lr(r),l=p.useCallback(u=>{if(i){const f=typeof u=="function"?u(e):u;f!==e&&a(f)}else s(u)},[i,e,s,a]);return[o,l]}function v_({defaultProp:e,onChange:t}){const r=p.useState(e),[n]=r,s=p.useRef(n),i=lr(t);return p.useEffect(()=>{s.current!==n&&(i(n),s.current=n)},[n,s,i]),r}function y_(e,t=globalThis==null?void 0:globalThis.document){const r=lr(e);p.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var w_="DismissableLayer",Pl="dismissableLayer.update",x_="dismissableLayer.pointerDownOutside",__="dismissableLayer.focusOutside",Md,jm=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Em=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=e,u=p.useContext(jm),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),x=pr(t,k=>f(k)),y=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=y.indexOf(_),v=d?y.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,b=v>=g,S=S_(k=>{const j=k.target,R=[...u.branches].some(N=>N.contains(j));!b||R||(s==null||s(k),o==null||o(k),k.defaultPrevented||a==null||a())},h),E=j_(k=>{const j=k.target;[...u.branches].some(N=>N.contains(j))||(i==null||i(k),o==null||o(k),k.defaultPrevented||a==null||a())},h);return y_(k=>{v===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},h),p.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Md=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Ud(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Md)}},[d,h,r,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Ud())},[d,u]),p.useEffect(()=>{const k=()=>m({});return document.addEventListener(Pl,k),()=>document.removeEventListener(Pl,k)},[]),c.jsx(Te.div,{...l,ref:x,style:{pointerEvents:w?b?"auto":"none":void 0,...e.style},onFocusCapture:jt(e.onFocusCapture,E.onFocusCapture),onBlurCapture:jt(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:jt(e.onPointerDownCapture,S.onPointerDownCapture)})});Em.displayName=w_;var k_="DismissableLayerBranch",b_=p.forwardRef((e,t)=>{const r=p.useContext(jm),n=p.useRef(null),s=pr(t,n);return p.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),c.jsx(Te.div,{...e,ref:s})});b_.displayName=k_;function S_(e,t=globalThis==null?void 0:globalThis.document){const r=lr(e),n=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const i=a=>{if(a.target&&!n.current){let l=function(){Cm(x_,r,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function j_(e,t=globalThis==null?void 0:globalThis.document){const r=lr(e),n=p.useRef(!1);return p.useEffect(()=>{const s=i=>{i.target&&!n.current&&Cm(__,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Ud(){const e=new CustomEvent(Pl);document.dispatchEvent(e)}function Cm(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?u_(s,i):s.dispatchEvent(i)}var va="focusScope.autoFocusOnMount",ya="focusScope.autoFocusOnUnmount",Fd={bubbles:!1,cancelable:!0},E_="FocusScope",Nm=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[a,l]=p.useState(null),u=lr(s),d=lr(i),f=p.useRef(null),h=pr(t,y=>l(y)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let y=function(w){if(m.paused||!a)return;const b=w.target;a.contains(b)?f.current=b:Ut(f.current,{select:!0})},_=function(w){if(m.paused||!a)return;const b=w.relatedTarget;b!==null&&(a.contains(b)||Ut(f.current,{select:!0}))},g=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&Ut(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",_);const v=new MutationObserver(g);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",_),v.disconnect()}}},[n,a,m.paused]),p.useEffect(()=>{if(a){Bd.add(m);const y=document.activeElement;if(!a.contains(y)){const g=new CustomEvent(va,Fd);a.addEventListener(va,u),a.dispatchEvent(g),g.defaultPrevented||(C_(O_(Pm(a)),{select:!0}),document.activeElement===y&&Ut(a))}return()=>{a.removeEventListener(va,u),setTimeout(()=>{const g=new CustomEvent(ya,Fd);a.addEventListener(ya,d),a.dispatchEvent(g),g.defaultPrevented||Ut(y??document.body,{select:!0}),a.removeEventListener(ya,d),Bd.remove(m)},0)}}},[a,u,d,m]);const x=p.useCallback(y=>{if(!r&&!n||m.paused)return;const _=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,g=document.activeElement;if(_&&g){const v=y.currentTarget,[w,b]=N_(v);w&&b?!y.shiftKey&&g===b?(y.preventDefault(),r&&Ut(w,{select:!0})):y.shiftKey&&g===w&&(y.preventDefault(),r&&Ut(b,{select:!0})):g===v&&y.preventDefault()}},[r,n,m.paused]);return c.jsx(Te.div,{tabIndex:-1,...o,ref:h,onKeyDown:x})});Nm.displayName=E_;function C_(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ut(n,{select:t}),document.activeElement!==r)return}function N_(e){const t=Pm(e),r=zd(t,e),n=zd(t.reverse(),e);return[r,n]}function Pm(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function zd(e,t){for(const r of e)if(!P_(r,{upTo:t}))return r}function P_(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function R_(e){return e instanceof HTMLInputElement&&"select"in e}function Ut(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&R_(e)&&t&&e.select()}}var Bd=T_();function T_(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Wd(e,t),e.unshift(t)},remove(t){var r;e=Wd(e,t),(r=e[0])==null||r.resume()}}}function Wd(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function O_(e){return e.filter(t=>t.tagName!=="A")}var A_="Portal",Rm=p.forwardRef((e,t)=>{var a;const{container:r,...n}=e,[s,i]=p.useState(!1);Ar(()=>i(!0),[]);const o=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?By.createPortal(c.jsx(Te.div,{...n,ref:t}),o):null});Rm.displayName=A_;function L_(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var Ao=e=>{const{present:t,children:r}=e,n=I_(t),s=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),i=pr(n.ref,D_(s));return typeof r=="function"||n.isPresent?p.cloneElement(s,{ref:i}):null};Ao.displayName="Presence";function I_(e){const[t,r]=p.useState(),n=p.useRef({}),s=p.useRef(e),i=p.useRef("none"),o=e?"mounted":"unmounted",[a,l]=L_(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=di(n.current);i.current=a==="mounted"?u:"none"},[a]),Ar(()=>{const u=n.current,d=s.current;if(d!==e){const h=i.current,m=di(u);e?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),Ar(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const y=di(n.current).includes(m.animationName);if(m.target===t&&y&&(l("ANIMATION_END"),!s.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},h=m=>{m.target===t&&(i.current=di(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function di(e){return(e==null?void 0:e.animationName)||"none"}function D_(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var wa=0;function $_(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Vd()),document.body.insertAdjacentElement("beforeend",e[1]??Vd()),wa++,()=>{wa===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),wa--}},[])}function Vd(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var gt=function(){return gt=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},gt.apply(this,arguments)};function Tm(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function M_(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Ni="right-scroll-bar-position",Pi="width-before-scroll-bar",U_="with-scroll-bars-hidden",F_="--removed-body-scroll-bar-size";function xa(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function z_(e,t){var r=p.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var B_=typeof window<"u"?p.useLayoutEffect:p.useEffect,Hd=new WeakMap;function W_(e,t){var r=z_(null,function(n){return e.forEach(function(s){return xa(s,n)})});return B_(function(){var n=Hd.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(a){i.has(a)||xa(a,null)}),i.forEach(function(a){s.has(a)||xa(a,o)})}Hd.set(r,e)},[e]),r}function V_(e){return e}function H_(e,t){t===void 0&&(t=V_);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(a){return i(a)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var a=r;r=[],a.forEach(i),o=r}var l=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function q_(e){e===void 0&&(e={});var t=H_(null);return t.options=gt({async:!0,ssr:!1},e),t}var Om=function(e){var t=e.sideCar,r=Tm(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return p.createElement(n,gt({},r))};Om.isSideCarExport=!0;function G_(e,t){return e.useMedium(t),Om}var Am=q_(),_a=function(){},Lo=p.forwardRef(function(e,t){var r=p.useRef(null),n=p.useState({onScrollCapture:_a,onWheelCapture:_a,onTouchMoveCapture:_a}),s=n[0],i=n[1],o=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noIsolation,x=e.inert,y=e.allowPinchZoom,_=e.as,g=_===void 0?"div":_,v=e.gapMode,w=Tm(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=h,S=W_([r,t]),E=gt(gt({},w),s);return p.createElement(p.Fragment,null,d&&p.createElement(b,{sideCar:Am,removeScrollBar:u,shards:f,noIsolation:m,inert:x,setCallbacks:i,allowPinchZoom:!!y,lockRef:r,gapMode:v}),o?p.cloneElement(p.Children.only(a),gt(gt({},E),{ref:S})):p.createElement(g,gt({},E,{className:l,ref:S}),a))});Lo.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Lo.classNames={fullWidth:Pi,zeroRight:Ni};var K_=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Q_(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=K_();return t&&e.setAttribute("nonce",t),e}function J_(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Y_(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var X_=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Q_())&&(J_(t,r),Y_(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Z_=function(){var e=X_();return function(t,r){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Lm=function(){var e=Z_(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},ek={left:0,top:0,right:0,gap:0},ka=function(e){return parseInt(e||"",10)||0},tk=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[ka(r),ka(n),ka(s)]},rk=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return ek;var t=tk(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},nk=Lm(),mn="data-scroll-locked",sk=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,a=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(U_,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(mn,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ni,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Pi,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Ni," .").concat(Ni,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Pi," .").concat(Pi,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(mn,`] {
    `).concat(F_,": ").concat(a,`px;
  }
`)},qd=function(){var e=parseInt(document.body.getAttribute(mn)||"0",10);return isFinite(e)?e:0},ik=function(){p.useEffect(function(){return document.body.setAttribute(mn,(qd()+1).toString()),function(){var e=qd()-1;e<=0?document.body.removeAttribute(mn):document.body.setAttribute(mn,e.toString())}},[])},ok=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;ik();var i=p.useMemo(function(){return rk(s)},[s]);return p.createElement(nk,{styles:sk(i,!t,s,r?"":"!important")})},Rl=!1;if(typeof window<"u")try{var fi=Object.defineProperty({},"passive",{get:function(){return Rl=!0,!0}});window.addEventListener("test",fi,fi),window.removeEventListener("test",fi,fi)}catch{Rl=!1}var Vr=Rl?{}:!1,ak=function(e){return e.tagName==="TEXTAREA"},Im=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!ak(e)&&r[t]==="visible")},lk=function(e){return Im(e,"overflowY")},ck=function(e){return Im(e,"overflowX")},Gd=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=Dm(e,n);if(s){var i=$m(e,n),o=i[1],a=i[2];if(o>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},uk=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},dk=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Dm=function(e,t){return e==="v"?lk(t):ck(t)},$m=function(e,t){return e==="v"?uk(t):dk(t)},fk=function(e,t){return e==="h"&&t==="rtl"?-1:1},hk=function(e,t,r,n,s){var i=fk(e,window.getComputedStyle(t).direction),o=i*n,a=r.target,l=t.contains(a),u=!1,d=o>0,f=0,h=0;do{var m=$m(e,a),x=m[0],y=m[1],_=m[2],g=y-_-i*x;(x||g)&&Dm(e,a)&&(f+=g,h+=x),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},hi=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Kd=function(e){return[e.deltaX,e.deltaY]},Qd=function(e){return e&&"current"in e?e.current:e},pk=function(e,t){return e[0]===t[0]&&e[1]===t[1]},mk=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},gk=0,Hr=[];function vk(e){var t=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),s=p.useState(gk++)[0],i=p.useState(Lm)[0],o=p.useRef(e);p.useEffect(function(){o.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=M_([e.lockRef.current],(e.shards||[]).map(Qd),!0).filter(Boolean);return y.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=p.useCallback(function(y,_){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var g=hi(y),v=r.current,w="deltaX"in y?y.deltaX:v[0]-g[0],b="deltaY"in y?y.deltaY:v[1]-g[1],S,E=y.target,k=Math.abs(w)>Math.abs(b)?"h":"v";if("touches"in y&&k==="h"&&E.type==="range")return!1;var j=Gd(k,E);if(!j)return!0;if(j?S=k:(S=k==="v"?"h":"v",j=Gd(k,E)),!j)return!1;if(!n.current&&"changedTouches"in y&&(w||b)&&(n.current=S),!S)return!0;var R=n.current||S;return hk(R,_,y,R==="h"?w:b,!0)},[]),l=p.useCallback(function(y){var _=y;if(!(!Hr.length||Hr[Hr.length-1]!==i)){var g="deltaY"in _?Kd(_):hi(_),v=t.current.filter(function(S){return S.name===_.type&&(S.target===_.target||_.target===S.shadowParent)&&pk(S.delta,g)})[0];if(v&&v.should){_.cancelable&&_.preventDefault();return}if(!v){var w=(o.current.shards||[]).map(Qd).filter(Boolean).filter(function(S){return S.contains(_.target)}),b=w.length>0?a(_,w[0]):!o.current.noIsolation;b&&_.cancelable&&_.preventDefault()}}},[]),u=p.useCallback(function(y,_,g,v){var w={name:y,delta:_,target:g,should:v,shadowParent:yk(g)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(b){return b!==w})},1)},[]),d=p.useCallback(function(y){r.current=hi(y),n.current=void 0},[]),f=p.useCallback(function(y){u(y.type,Kd(y),y.target,a(y,e.lockRef.current))},[]),h=p.useCallback(function(y){u(y.type,hi(y),y.target,a(y,e.lockRef.current))},[]);p.useEffect(function(){return Hr.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Vr),document.addEventListener("touchmove",l,Vr),document.addEventListener("touchstart",d,Vr),function(){Hr=Hr.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,Vr),document.removeEventListener("touchmove",l,Vr),document.removeEventListener("touchstart",d,Vr)}},[]);var m=e.removeScrollBar,x=e.inert;return p.createElement(p.Fragment,null,x?p.createElement(i,{styles:mk(s)}):null,m?p.createElement(ok,{gapMode:e.gapMode}):null)}function yk(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const wk=G_(Am,vk);var Mm=p.forwardRef(function(e,t){return p.createElement(Lo,gt({},e,{ref:t,sideCar:wk}))});Mm.classNames=Lo.classNames;var xk=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},qr=new WeakMap,pi=new WeakMap,mi={},ba=0,Um=function(e){return e&&(e.host||Um(e.parentNode))},_k=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=Um(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},kk=function(e,t,r,n){var s=_k(t,Array.isArray(e)?e:[e]);mi[r]||(mi[r]=new WeakMap);var i=mi[r],o=[],a=new Set,l=new Set(s),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var m=h.getAttribute(n),x=m!==null&&m!=="false",y=(qr.get(h)||0)+1,_=(i.get(h)||0)+1;qr.set(h,y),i.set(h,_),o.push(h),y===1&&x&&pi.set(h,!0),_===1&&h.setAttribute(r,"true"),x||h.setAttribute(n,"true")}catch(g){console.error("aria-hidden: cannot operate on ",h,g)}})};return d(t),a.clear(),ba++,function(){o.forEach(function(f){var h=qr.get(f)-1,m=i.get(f)-1;qr.set(f,h),i.set(f,m),h||(pi.has(f)||f.removeAttribute(n),pi.delete(f)),m||f.removeAttribute(r)}),ba--,ba||(qr=new WeakMap,qr=new WeakMap,pi=new WeakMap,mi={})}},bk=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=xk(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),kk(n,s,r,"aria-hidden")):function(){return null}},Bc="Dialog",[Fm,Eb]=Mc(Bc),[Sk,dt]=Fm(Bc),zm=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,a=p.useRef(null),l=p.useRef(null),[u=!1,d]=Sm({prop:n,defaultProp:s,onChange:i});return c.jsx(Sk,{scope:t,triggerRef:a,contentRef:l,contentId:ga(),titleId:ga(),descriptionId:ga(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};zm.displayName=Bc;var Bm="DialogTrigger",jk=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=dt(Bm,r),i=pr(t,s.triggerRef);return c.jsx(Te.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Hc(s.open),...n,ref:i,onClick:jt(e.onClick,s.onOpenToggle)})});jk.displayName=Bm;var Wc="DialogPortal",[Ek,Wm]=Fm(Wc,{forceMount:void 0}),Vm=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=dt(Wc,t);return c.jsx(Ek,{scope:t,forceMount:r,children:p.Children.map(n,o=>c.jsx(Ao,{present:r||i.open,children:c.jsx(Rm,{asChild:!0,container:s,children:o})}))})};Vm.displayName=Wc;var oo="DialogOverlay",Hm=p.forwardRef((e,t)=>{const r=Wm(oo,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=dt(oo,e.__scopeDialog);return i.modal?c.jsx(Ao,{present:n||i.open,children:c.jsx(Ck,{...s,ref:t})}):null});Hm.displayName=oo;var Ck=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=dt(oo,r);return c.jsx(Mm,{as:Oo,allowPinchZoom:!0,shards:[s.contentRef],children:c.jsx(Te.div,{"data-state":Hc(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Lr="DialogContent",qm=p.forwardRef((e,t)=>{const r=Wm(Lr,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=dt(Lr,e.__scopeDialog);return c.jsx(Ao,{present:n||i.open,children:i.modal?c.jsx(Nk,{...s,ref:t}):c.jsx(Pk,{...s,ref:t})})});qm.displayName=Lr;var Nk=p.forwardRef((e,t)=>{const r=dt(Lr,e.__scopeDialog),n=p.useRef(null),s=pr(t,r.contentRef,n);return p.useEffect(()=>{const i=n.current;if(i)return bk(i)},[]),c.jsx(Gm,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:jt(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:jt(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:jt(e.onFocusOutside,i=>i.preventDefault())})}),Pk=p.forwardRef((e,t)=>{const r=dt(Lr,e.__scopeDialog),n=p.useRef(!1),s=p.useRef(!1);return c.jsx(Gm,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Gm=p.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,a=dt(Lr,r),l=p.useRef(null),u=pr(t,l);return $_(),c.jsxs(c.Fragment,{children:[c.jsx(Nm,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:c.jsx(Em,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Hc(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(Rk,{titleId:a.titleId}),c.jsx(Ok,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Vc="DialogTitle",Km=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=dt(Vc,r);return c.jsx(Te.h2,{id:s.titleId,...n,ref:t})});Km.displayName=Vc;var Qm="DialogDescription",Jm=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=dt(Qm,r);return c.jsx(Te.p,{id:s.descriptionId,...n,ref:t})});Jm.displayName=Qm;var Ym="DialogClose",Xm=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=dt(Ym,r);return c.jsx(Te.button,{type:"button",...n,ref:t,onClick:jt(e.onClick,()=>s.onOpenChange(!1))})});Xm.displayName=Ym;function Hc(e){return e?"open":"closed"}var Zm="DialogTitleWarning",[Cb,eg]=a_(Zm,{contentName:Lr,titleName:Vc,docsSlug:"dialog"}),Rk=({titleId:e})=>{const t=eg(Zm),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Tk="DialogDescriptionWarning",Ok=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${eg(Tk).contentName}}.`;return p.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Ak=zm,Lk=Vm,tg=Hm,rg=qm,ng=Km,sg=Jm,Ik=Xm;const Dk=Ak,$k=Lk,ig=p.forwardRef(({className:e,...t},r)=>c.jsx(tg,{className:re("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));ig.displayName=tg.displayName;const Mk=Fs("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),og=p.forwardRef(({side:e="right",className:t,children:r,...n},s)=>c.jsxs($k,{children:[c.jsx(ig,{}),c.jsxs(rg,{ref:s,className:re(Mk({side:e}),t),...n,children:[r,c.jsxs(Ik,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[c.jsx(e_,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));og.displayName=rg.displayName;const Uk=p.forwardRef(({className:e,...t},r)=>c.jsx(ng,{ref:r,className:re("text-lg font-semibold text-foreground",e),...t}));Uk.displayName=ng.displayName;const Fk=p.forwardRef(({className:e,...t},r)=>c.jsx(sg,{ref:r,className:re("text-sm text-muted-foreground",e),...t}));Fk.displayName=sg.displayName;const Jd={mentee:[{href:"/dashboard",label:"Dashboard",icon:$d},{href:"/dashboard/mentors",label:"Find Mentors",icon:$c},{href:"/dashboard/credits",label:"Credits",icon:Ps},{href:"/dashboard/request-feedback",label:"Request Feedback",icon:Dd}],mentor:[{href:"/dashboard",label:"Dashboard",icon:$d},{href:"/dashboard/feedback-history",label:"Feedback History",icon:Dd},{href:"/dashboard/earnings",label:"Earnings",icon:Ps}],common:[{href:"/dashboard/notifications",label:"Notifications",icon:am},{href:"/dashboard/settings",label:"Settings",icon:um}]};function zk({role:e,isOpen:t,onClose:r}){const n=hr(),s=[...Jd[e],...Jd.common],i=a=>a==="/dashboard"?n.pathname==="/dashboard"||n.pathname==="/dashboard/":n.pathname.startsWith(a),o=()=>c.jsxs("div",{className:"h-full flex flex-col",children:[c.jsx("div",{className:"mt-14 p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"text-2xl font-bold text-primary",children:""}),c.jsx("span",{className:"ml-2 text-xl font-semibold",children:"Dashboard"})]})}),c.jsx("nav",{className:"flex-1 px-4 space-y-2",children:s.map(a=>{const l=a.icon;return c.jsx(Ht,{to:a.href,onClick:r,children:c.jsxs(te,{variant:"ghost",className:re("w-full justify-start gap-2",i(a.href)&&"bg-accent text-accent-foreground"),children:[c.jsx(l,{className:"h-5 w-5"}),a.label]})},a.href)})})]});return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col lg:fixed lg:inset-y-0",children:c.jsx("div",{className:"flex flex-col flex-grow border-r bg-background",children:c.jsx(o,{})})}),c.jsx(Dk,{open:t,onOpenChange:r,children:c.jsx(og,{side:"left",className:"w-64 p-0",children:c.jsx(o,{})})})]})}function Bk(){const{feedbackRequests:e,credits:t}=Ot(),[r,n]=p.useState("all"),[s,i]=p.useState("date"),o=e.filter(u=>r==="all"||u.status===r).sort((u,d)=>s==="date"?new Date(d.created_at).getTime()-new Date(u.created_at).getTime():u.status.localeCompare(d.status)),a=e.filter(u=>u.status==="pending"),l=e.filter(u=>u.status==="completed");return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[c.jsxs(V,{children:[c.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(K,{className:"text-sm font-medium",children:"Available Credits"}),c.jsx(Ps,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsx(H,{children:c.jsx("div",{className:"text-2xl font-bold",children:t})})]}),c.jsxs(V,{children:[c.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(K,{className:"text-sm font-medium",children:"Active Requests"}),c.jsx(lm,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsx(H,{children:c.jsx("div",{className:"text-2xl font-bold",children:a.length})})]}),c.jsxs(V,{children:[c.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(K,{className:"text-sm font-medium",children:"Completed Reviews"}),c.jsx($c,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsx(H,{children:c.jsx("div",{className:"text-2xl font-bold",children:l.length})})]})]}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[c.jsx(Ht,{to:"/request-feedback",children:c.jsx(te,{className:"w-full",size:"lg",children:"Request New Feedback"})}),c.jsx(Ht,{to:"/mentors",children:c.jsx(te,{variant:"secondary",className:"w-full",size:"lg",children:"Find a Mentor"})})]}),c.jsxs(V,{children:[c.jsxs(G,{children:[c.jsx(K,{children:"Feedback History"}),c.jsx(xe,{children:"View and manage your feedback requests"}),c.jsxs("div",{className:"flex space-x-4 mt-4",children:[c.jsxs("select",{value:r,onChange:u=>n(u.target.value),className:"rounded-md border bg-background px-3 py-2 text-sm ring-offset-background",children:[c.jsx("option",{value:"all",children:"All Status"}),c.jsx("option",{value:"pending",children:"Pending"}),c.jsx("option",{value:"completed",children:"Completed"})]}),c.jsxs("select",{value:s,onChange:u=>i(u.target.value),className:"rounded-md border bg-background px-3 py-2 text-sm ring-offset-background",children:[c.jsx("option",{value:"date",children:"Sort by Date"}),c.jsx("option",{value:"status",children:"Sort by Status"})]})]})]}),c.jsx(H,{children:c.jsx("div",{className:"space-y-6",children:o.map(u=>c.jsxs("div",{className:"border-b pb-6 last:border-b-0 last:pb-0",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium",children:u.description}),c.jsxs("div",{className:"mt-1 space-x-4",children:[c.jsx("a",{href:u.link,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline text-sm",children:"View Design"}),c.jsxs("span",{className:"text-sm text-muted-foreground",children:["Submitted on ",u.created_at&&new Date(u.created_at).toLocaleDateString()]})]})]}),c.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${u.status==="pending"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100"}`,children:u.status.charAt(0).toUpperCase()+u.status.slice(1)})]}),u.feedback&&c.jsxs("div",{className:"mt-4 bg-muted rounded-lg p-4",children:[c.jsx("h4",{className:"text-sm font-medium mb-2",children:"Feedback"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:u.feedback})]})]},u.id))})})]})]})}const qc=p.forwardRef(({className:e,...t},r)=>c.jsx("textarea",{className:re("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));qc.displayName="Textarea";var Wk="Label",ag=p.forwardRef((e,t)=>c.jsx(Te.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));ag.displayName=Wk;var lg=ag;const Vk=Fs("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ir=p.forwardRef(({className:e,...t},r)=>c.jsx(lg,{ref:r,className:re(Vk(),e),...t}));Ir.displayName=lg.displayName;function Hk(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function qk(e){const[t,r]=p.useState(void 0);return Ar(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=e.offsetWidth,a=e.offsetHeight;r({width:o,height:a})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Gc="Switch",[Gk,Nb]=Mc(Gc),[Kk,Qk]=Gk(Gc),cg=p.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:o,disabled:a,value:l="on",onCheckedChange:u,form:d,...f}=e,[h,m]=p.useState(null),x=pr(t,w=>m(w)),y=p.useRef(!1),_=h?d||!!h.closest("form"):!0,[g=!1,v]=Sm({prop:s,defaultProp:i,onChange:u});return c.jsxs(Kk,{scope:r,checked:g,disabled:a,children:[c.jsx(Te.button,{type:"button",role:"switch","aria-checked":g,"aria-required":o,"data-state":fg(g),"data-disabled":a?"":void 0,disabled:a,value:l,...f,ref:x,onClick:jt(e.onClick,w=>{v(b=>!b),_&&(y.current=w.isPropagationStopped(),y.current||w.stopPropagation())})}),_&&c.jsx(Jk,{control:h,bubbles:!y.current,name:n,value:l,checked:g,required:o,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});cg.displayName=Gc;var ug="SwitchThumb",dg=p.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=Qk(ug,r);return c.jsx(Te.span,{"data-state":fg(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});dg.displayName=ug;var Jk=e=>{const{control:t,checked:r,bubbles:n=!0,...s}=e,i=p.useRef(null),o=Hk(r),a=qk(t);return p.useEffect(()=>{const l=i.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&f){const h=new Event("click",{bubbles:n});f.call(l,r),l.dispatchEvent(h)}},[o,r,n]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:i,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function fg(e){return e?"checked":"unchecked"}var hg=cg,Yk=dg;const pg=p.forwardRef(({className:e,...t},r)=>c.jsx(hg,{className:re("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:c.jsx(Yk,{className:re("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));pg.displayName=hg.displayName;const Yd=({request:e,onClose:t,onSubmit:r,onDecline:n})=>{const[s,i]=p.useState("");return c.jsxs(V,{className:"w-full max-w-2xl",children:[c.jsx(G,{className:"space-y-1",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx(K,{children:e.description}),c.jsxs("div",{className:"flex items-center mt-2 space-x-2",children:[c.jsxs("span",{className:"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary text-primary-foreground hover:bg-primary/80",children:[e.credits_cost," Credits"]}),c.jsx("span",{className:"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",children:e.urgency})]})]}),c.jsxs(te,{variant:"ghost",size:"icon",onClick:t,children:[c.jsx("span",{className:"sr-only",children:"Close"}),c.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]})}),c.jsxs(H,{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("h4",{className:"font-medium",children:"Request Details"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("h4",{className:"font-medium",children:"Design Link"}),c.jsx("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline text-sm",children:"View Design"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("h4",{className:"font-medium",children:"Your Feedback"}),c.jsx(qc,{value:s,onChange:o=>i(o.target.value),placeholder:"Enter your feedback here...",className:"min-h-[150px]"})]}),c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsx(te,{variant:"ghost",onClick:()=>n(),children:"Decline Request"}),c.jsx(te,{onClick:()=>r(s),children:"Submit Feedback"})]})]})]})};function Xk(){const{feedbackRequests:e,completeFeedbackRequest:t,declineFeedbackRequest:r,user:n}=Ot(),[s,i]=p.useState({id:null,view:null}),[o,a]=p.useState(""),[l,u]=p.useState(null),[d,f]=p.useState(!1),[h,m]=p.useState(!1);p.useEffect(()=>{n&&x()},[n]);async function x(){var S;try{const{data:E,error:k}=await F.from("users").select("price_per_feedback, available").eq("id",n==null?void 0:n.id).single();if(k)throw k;E&&(a(((S=E.price_per_feedback)==null?void 0:S.toString())||""),m(E.available||!1))}catch(E){console.error("Error fetching mentor status:",E)}}async function y(S){if(n)try{const{error:E}=await F.from("users").update({available:S}).eq("id",n.id);if(E)throw E;m(S)}catch(E){console.error("Error updating availability:",E)}}async function _(){if(!n)return;const S=parseInt(o);if(isNaN(S)||S<1){u("Please enter a valid price (minimum 1 credit)");return}f(!0),u(null);try{const{error:E}=await F.from("users").update({price_per_feedback:S}).eq("id",n.id);if(E)throw E}catch(E){u(E instanceof Error?E.message:"Failed to update price")}finally{f(!1)}}const g=async(S,E)=>{try{await t(S,E),i({id:null,view:null})}catch(k){console.error("Error submitting feedback:",k)}},v=async S=>{try{await r(S,"Request declined"),i({id:null,view:null})}catch(E){console.error("Error declining request:",E)}},w=e.filter(S=>S.status==="pending"),b=e.filter(S=>S.status==="completed");return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[c.jsxs(V,{children:[c.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(K,{className:"text-sm font-medium",children:"Total Feedback Given"}),c.jsx($c,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsx(H,{children:c.jsx("div",{className:"text-2xl font-bold",children:b.length})})]}),c.jsxs(V,{children:[c.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(K,{className:"text-sm font-medium",children:"Pending Requests"}),c.jsx(lm,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsx(H,{children:c.jsx("div",{className:"text-2xl font-bold",children:w.length})})]}),c.jsxs(V,{children:[c.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(K,{className:"text-sm font-medium",children:"Available Earnings"}),c.jsx(cm,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsx(H,{children:c.jsx("div",{className:"text-2xl font-bold text-green-600",children:"$0"})})]})]}),c.jsxs(V,{children:[c.jsxs(G,{children:[c.jsx(K,{children:"Availability Status"}),c.jsx(xe,{children:"Control whether you're available to receive new feedback requests"})]}),c.jsx(H,{children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx(pg,{checked:h,onCheckedChange:y}),c.jsx(Ir,{children:"Available for new requests"})]})})]}),c.jsxs(V,{children:[c.jsxs(G,{children:[c.jsx(K,{children:"Set Your Price"}),c.jsx(xe,{children:"Set how many credits you charge for each piece of feedback"})]}),c.jsx(H,{children:c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ir,{htmlFor:"price",children:"Price per feedback (in credits)"}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(ir,{id:"price",type:"number",min:"1",value:o,onChange:S=>{a(S.target.value),u(null)},placeholder:"Enter price in credits",className:"max-w-[200px]"}),c.jsx(te,{onClick:_,disabled:d,children:d?"Saving...":"Save Price"})]}),l&&c.jsx("p",{className:"text-sm text-destructive",children:l}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Set a competitive price that reflects your expertise and the value of your feedback. Remember that mentees will see this price when browsing for mentors."})]})})})]}),c.jsxs(V,{children:[c.jsxs(G,{children:[c.jsx(K,{children:"Pending Feedback Requests"}),c.jsx(xe,{children:"Review and respond to feedback requests from mentees"})]}),c.jsx(H,{children:c.jsx("div",{className:"space-y-4",children:w.length===0?c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No pending feedback requests at this time"}):c.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:w.map(S=>c.jsx(V,{className:"bg-muted",children:c.jsx(H,{className:"p-4",children:c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsx("h3",{className:"font-medium line-clamp-2",children:S.description}),c.jsx("span",{className:"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold border-transparent bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100",children:S.urgency})]}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Requested on ",S.created_at&&new Date(S.created_at).toLocaleDateString()]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("span",{className:"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold border-transparent bg-primary text-primary-foreground",children:[S.credits_cost," Credits"]}),c.jsx(te,{onClick:()=>i({id:S.id,view:"fullpage"}),children:"Provide Feedback"})]})]})})},S.id))})})})]}),s.id&&s.view==="sidebar"&&c.jsx("div",{className:"fixed inset-y-0 right-0 w-[600px] bg-background border-l",children:c.jsx(Yd,{request:e.find(S=>S.id===s.id),onClose:()=>i({id:null,view:null}),onSubmit:S=>g(s.id,S),onDecline:()=>v(s.id)})}),s.id&&s.view==="fullpage"&&c.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm",children:c.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:c.jsx(Yd,{request:e.find(S=>S.id===s.id),onClose:()=>i({id:null,view:null}),onSubmit:S=>g(s.id,S),onDecline:()=>v(s.id)})})})]})}const Zk=Fs("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ri({className:e,variant:t,...r}){return c.jsx("div",{className:re(Zk({variant:t}),e),...r})}function eb({onSelectMentor:e}){const[t,r]=p.useState([]),[n,s]=p.useState(!0),[i,o]=p.useState(null),[a,l]=p.useState({expertise:"",language:"",minRating:0});p.useEffect(()=>{u()},[]);async function u(){try{s(!0);const{data:m,error:x}=await F.from("users").select("*").eq("role","mentor").order("rating",{ascending:!1});if(x)throw x;r(m||[])}catch(m){o(m instanceof Error?m.message:"Failed to load mentors")}finally{s(!1)}}const d=Array.from(new Set(t.flatMap(m=>m.expertise||[]))),f=Array.from(new Set(t.flatMap(m=>m.languages||[]))),h=t.filter(m=>{const x=!a.expertise||m.expertise&&m.expertise.includes(a.expertise),y=!a.language||m.languages&&m.languages.includes(a.language),_=!m.rating||m.rating>=a.minRating;return x&&y&&_});return n?c.jsx("div",{className:"flex items-center justify-center p-8",children:c.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):i?c.jsx(V,{className:"bg-destructive/10",children:c.jsxs(H,{className:"p-6",children:[c.jsx("p",{className:"text-destructive",children:i}),c.jsx(te,{onClick:u,variant:"outline",className:"mt-2",children:"Try again"})]})}):c.jsxs(V,{children:[c.jsxs(G,{children:[c.jsx(K,{children:"Available Mentors"}),c.jsx(xe,{children:"Find the perfect mentor for your design feedback"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:a.expertise,onChange:m=>l({...a,expertise:m.target.value}),children:[c.jsx("option",{value:"",children:"Any Expertise"}),d.map(m=>c.jsx("option",{value:m,children:m},m))]}),c.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:a.language,onChange:m=>l({...a,language:m.target.value}),children:[c.jsx("option",{value:"",children:"Any Language"}),f.map(m=>c.jsx("option",{value:m,children:m},m))]}),c.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:a.minRating,onChange:m=>l({...a,minRating:Number(m.target.value)}),children:[c.jsx("option",{value:"0",children:"Any Rating"}),c.jsx("option",{value:"4",children:"4.0+"}),c.jsx("option",{value:"4.5",children:"4.5+"}),c.jsx("option",{value:"4.8",children:"4.8+"})]})]})]}),c.jsx(H,{children:c.jsx("div",{className:"space-y-6",children:h.length===0?c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No mentors found matching your criteria"}):c.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:h.map(m=>{var x,y;return c.jsxs(V,{children:[c.jsx(G,{children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs(Fc,{className:"h-12 w-12",children:[c.jsx(bm,{src:m.avatar_url||void 0}),c.jsx(zc,{children:((x=m.name)==null?void 0:x[0])||"?"})]}),c.jsxs("div",{className:"flex-1 space-y-1",children:[c.jsx(K,{children:m.name||"Anonymous"}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(X1,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),c.jsx("span",{children:m.rating!==null&&m.rating!==void 0?m.rating.toFixed(1):"0.0"}),c.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",m.review_count||0," reviews)"]})]})]}),c.jsx(Ri,{variant:m.available?"default":"secondary",children:m.available?"Available":"Unavailable"})]})}),c.jsx(H,{children:c.jsxs("div",{className:"space-y-4",children:[m.bio&&c.jsx(xe,{className:"line-clamp-2",children:m.bio}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[(y=m.expertise)==null?void 0:y.slice(0,3).map(_=>c.jsx(Ri,{variant:"outline",children:_},_)),m.expertise&&m.expertise.length>3&&c.jsxs(Ri,{variant:"outline",children:["+",m.expertise.length-3," more"]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"text-lg font-semibold",children:m.price_per_feedback!==null?`${m.price_per_feedback} credits`:"Price not set"}),c.jsx(te,{onClick:()=>e(m.id),disabled:!m.available||m.price_per_feedback===null,children:m.available?m.price_per_feedback===null?"Price Not Set":"Request Feedback":"Currently Unavailable"})]})]})})]},m.id)})})})})]})}function tb(){const e=Ze(),t=r=>{e(`/request-feedback/${r}`)};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Find a Mentor"}),c.jsx("button",{onClick:()=>e("/"),className:"text-gray-600 hover:text-gray-900",children:"Back to Dashboard"})]}),c.jsx(eb,{onSelectMentor:t})]})}function rb(){const{credits:e}=Ot(),t=[{id:1,credits:10,price:25,popular:!1},{id:2,credits:25,price:50,popular:!0},{id:3,credits:50,price:90,popular:!1}];return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Credits"}),c.jsxs("div",{className:"bg-white px-4 py-2 rounded-lg shadow",children:[c.jsx("span",{className:"text-gray-600",children:"Available Credits:"}),c.jsx("span",{className:"ml-2 font-bold text-blue-600",children:e})]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:t.map(r=>c.jsxs("div",{className:`bg-white rounded-lg shadow-lg overflow-hidden ${r.popular?"ring-2 ring-blue-500":""}`,children:[r.popular&&c.jsx("div",{className:"bg-blue-500 text-white text-center py-1 text-sm",children:"Most Popular"}),c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"text-center",children:[c.jsxs("h3",{className:"text-2xl font-bold",children:[r.credits," Credits"]}),c.jsxs("p",{className:"text-gray-600 mt-1",children:["$",r.price]}),c.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["$",(r.price/r.credits).toFixed(2)," per credit"]})]}),c.jsx("button",{className:"w-full mt-6 bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",onClick:()=>console.log(`Purchasing ${r.credits} credits`),children:"Purchase"})]})]},r.id))})]})}function nb(){const[e,t]=p.useState({email:!1,push:!1});return c.jsx("div",{children:c.jsx("input",{type:"checkbox",checked:e.email,onChange:r=>t(n=>({...n,email:r.target.checked}))})})}function sb(){const{notifications:e}=Ot();return c.jsxs("div",{className:"space-y-8",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Notifications"}),c.jsx("div",{className:"bg-white rounded-lg shadow divide-y",children:e.sort((t,r)=>new Date(r.created_at).getTime()-new Date(t.created_at).getTime()).map(t=>c.jsxs("div",{className:"p-4 hover:bg-gray-50",children:[c.jsx("p",{className:"text-gray-600",children:t.message}),c.jsx("span",{className:"text-sm text-gray-500",children:new Date(t.created_at).toLocaleDateString()})]},t.id))})]})}function ib(){const{mentorId:e}=v0(),t=Ze(),{user:r,credits:n}=Ot(),{user:s,loading:i,isAuthenticated:o,checkSessionActive:a}=et(),[l,u]=p.useState(null),[d,f]=p.useState(!0),[h,m]=p.useState(null),[x,y]=p.useState(!1),[_,g]=p.useState(!1),[v,w]=p.useState(null),[b,S]=p.useState({link:"",description:""});p.useEffect(()=>{console.log("RequestFeedbackPage state:",{mentorId:e,hasAuthUser:!!s,hasAppUser:!!r,authLoading:i,loading:d,error:h,authChecked:_,isAuthenticated:o,sessionValid:v})},[e,s,r,i,d,h,_,o,v]);const E=p.useCallback(async()=>{try{if(console.log("RequestFeedbackPage: Validating session"),o&&s)return console.log("RequestFeedbackPage: Already authenticated in memory"),w(!0),!0;const j=await a();if(console.log("RequestFeedbackPage: Session active check:",j),!j&&s){console.log("RequestFeedbackPage: Session check failed but user exists, retrying"),await new Promise(N=>setTimeout(N,1e3));const R=await a();return console.log("RequestFeedbackPage: Retry session check:",R),w(R),R}return w(j),j}catch(j){return console.error("RequestFeedbackPage: Session check error",j),s?(console.log("RequestFeedbackPage: Error during check but user exists, assuming valid"),w(!0),!0):(w(!1),!1)}},[a,o,s]);p.useEffect(()=>{i||(async()=>{try{console.log("RequestFeedbackPage: Checking auth state"),await new Promise(N=>setTimeout(N,300));const R=await E();g(!0),setTimeout(()=>{!R&&!s&&(console.warn("RequestFeedbackPage: No valid session, redirecting to login"),t("/login",{replace:!0,state:{from:`/dashboard/request-feedback/${e}`}}))},500)}catch(R){console.error("RequestFeedbackPage: Auth check error",R),g(!0)}})()},[i,s,E,t,e]),p.useEffect(()=>{if(!e){f(!1),m("No mentor specified");return}if(_&&v===!1&&!s){f(!1);return}(async()=>{try{(!o||!s)&&localStorage.getItem("supabase.auth.token")&&(console.log("RequestFeedbackPage: Found auth token in storage, refreshing session"),await a())}catch(N){console.error("RequestFeedbackPage: Error in auth state persistence",N)}})(),(async()=>{try{f(!0),console.log("Fetching mentor data for ID:",e);const{data:N,error:A}=await F.from("users").select("id, name, price_per_feedback").eq("id",e).single();if(A)throw console.error("Error fetching mentor:",A),A;if(!N)throw console.error("No mentor found with ID:",e),new Error("Mentor not found");if(!N.price_per_feedback)throw console.error("Mentor has no price set:",N),new Error("This mentor has not set their price yet");console.log("Successfully fetched mentor:",N),u(N)}catch(N){const A=N instanceof Error?N.message:"Failed to load mentor";console.error("RequestFeedbackPage error:",A),m(A)}finally{f(!1)}})()},[e,_,v,o,s,a]);async function k(j){if(j.preventDefault(),!await E()){m("Your session has expired. Please log in again."),setTimeout(()=>t("/login",{replace:!0}),1500);return}if(!l||!r){console.error("Cannot submit: Missing mentor or user data"),m("Missing required data. Please try again.");return}if(!b.link||!b.description){m("Please fill in all fields");return}if(n<l.price_per_feedback){m(`You need ${l.price_per_feedback} credits to request feedback from this mentor. Please purchase more credits.`);return}try{y(!0),console.log("Submitting feedback request to mentor:",l.id);const{error:N}=await F.from("feedback_requests").insert([{mentee_id:r.id,mentor_id:l.id,description:b.description,link:b.link,status:"pending",credits_cost:l.price_per_feedback,urgency:"medium"}]);if(N)throw console.error("Error creating feedback request:",N),N;const{error:A}=await F.from("users").update({credits:n-l.price_per_feedback}).eq("id",r.id);if(A)throw console.error("Error updating credits:",A),A;console.log("Feedback request submitted successfully"),t("/dashboard")}catch(N){const A=N instanceof Error?N.message:"Failed to submit feedback request";console.error("RequestFeedbackPage submission error:",A),m(A),y(!1)}}return i||d&&!h||v===null?c.jsxs("div",{className:"flex flex-col items-center justify-center p-8",children:[c.jsx(ct,{fullScreen:!1}),c.jsx("span",{className:"mt-4 text-center",children:_?"Loading mentor data...":"Verifying your authentication..."})]}):h?c.jsxs(V,{className:"max-w-2xl mx-auto",children:[c.jsxs(G,{children:[c.jsx(K,{children:"Error"}),c.jsx(xe,{children:"We encountered a problem:"})]}),c.jsxs(H,{children:[c.jsxs(Rs,{variant:"destructive",children:[c.jsx(io,{className:"h-4 w-4"}),c.jsx(Ts,{children:"Error"}),c.jsx(Os,{children:h})]}),c.jsx(te,{onClick:()=>t(-1),className:"mt-4",children:"Go Back"})]})]}):l?c.jsx("div",{className:"max-w-2xl mx-auto",children:c.jsxs(V,{children:[c.jsxs(G,{children:[c.jsxs(K,{children:["Request Feedback from ",l.name]}),c.jsxs(xe,{children:["This will cost ",l.price_per_feedback," credits. You currently have ",n," credits."]})]}),c.jsx(H,{children:c.jsxs("form",{onSubmit:k,className:"space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ir,{htmlFor:"link",children:"Design Link"}),c.jsx(ir,{id:"link",type:"url",placeholder:"https://www.figma.com/...",value:b.link,onChange:j=>S(R=>({...R,link:j.target.value})),required:!0}),c.jsx(xe,{children:"Link to your design (Figma, Dribbble, etc.)"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ir,{htmlFor:"description",children:"Description"}),c.jsx(qc,{id:"description",placeholder:"Please describe what specific aspects you'd like feedback on...",value:b.description,onChange:j=>S(R=>({...R,description:j.target.value})),required:!0,className:"min-h-[150px]"})]}),c.jsxs("div",{className:"flex justify-end space-x-4",children:[c.jsx(te,{type:"button",variant:"outline",onClick:()=>t(-1),children:"Cancel"}),c.jsx(te,{type:"submit",disabled:n<l.price_per_feedback||x,children:x?"Submitting...":`Request Feedback (${l.price_per_feedback} credits)`})]})]})})]})}):c.jsxs(V,{className:"max-w-2xl mx-auto",children:[c.jsxs(G,{children:[c.jsx(K,{children:"Mentor Not Found"}),c.jsx(xe,{children:"We couldn't find the mentor you're looking for."})]}),c.jsx(H,{children:c.jsx(te,{onClick:()=>t("/mentors"),children:"Browse Mentors"})})]})}function Xd(){const{feedbackRequests:e}=Ot(),{userRole:t,user:r}=et(),[n,s]=p.useState("all"),[i,o]=p.useState("all"),a=e.filter(l=>{const u=t==="mentee"?l.mentee_id===(r==null?void 0:r.id):l.mentor_id===(r==null?void 0:r.id),d=i==="all"||l.status===i;let f=!0;if(n!=="all"&&l.created_at){const h=new Date(l.created_at);f=Math.floor((Date.now()-h.getTime())/(1e3*60*60*24))<=parseInt(n)}return u&&d&&f}).sort((l,u)=>new Date(u.created_at).getTime()-new Date(l.created_at).getTime());return c.jsx("div",{className:"space-y-8",children:c.jsxs(V,{children:[c.jsx(G,{children:c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[c.jsxs("div",{children:[c.jsx(K,{children:"Feedback History"}),c.jsx(xe,{children:t==="mentee"?"Your submitted feedback requests":"Feedback you have provided to mentees"})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:[c.jsxs("select",{value:n,onChange:l=>s(l.target.value),className:"px-3 py-2 rounded-md border bg-background text-sm",children:[c.jsx("option",{value:"all",children:"All Time"}),c.jsx("option",{value:"30",children:"Last 30 Days"}),c.jsx("option",{value:"90",children:"Last 90 Days"})]}),c.jsxs("select",{value:i,onChange:l=>o(l.target.value),className:"px-3 py-2 rounded-md border bg-background text-sm",children:[c.jsx("option",{value:"all",children:"All Status"}),c.jsx("option",{value:"completed",children:"Completed"}),c.jsx("option",{value:"pending",children:"Pending"}),c.jsx("option",{value:"declined",children:"Declined"})]})]})]})}),c.jsx(H,{children:a.length===0?c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No feedback requests found matching your criteria"}):c.jsx("div",{className:"divide-y",children:a.map(l=>c.jsxs("div",{className:"py-6 first:pt-0 last:pb-0",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium",children:l.description}),c.jsxs("div",{className:"mt-1 space-x-4",children:[l.link&&c.jsx("a",{href:l.link,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline text-sm",children:"View Design"}),l.created_at&&c.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(l.created_at).toLocaleDateString()})]})]}),c.jsx(Ri,{className:l.status==="completed"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100":l.status==="pending"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-100",children:l.status.charAt(0).toUpperCase()+l.status.slice(1)})]}),l.feedback&&c.jsxs("div",{className:"mt-4 bg-muted rounded-lg p-4",children:[c.jsx("h4",{className:"text-sm font-medium mb-2",children:"Feedback"}),c.jsx("p",{className:"text-muted-foreground whitespace-pre-line",children:l.feedback})]}),t==="mentor"&&l.status==="pending"&&c.jsx("div",{className:"mt-4 flex justify-end",children:c.jsx(te,{onClick:()=>window.location.href="/dashboard",variant:"secondary",size:"sm",children:"Provide Feedback"})})]},l.id))})})]})})}function ob(){const{feedbackRequests:e,user:t}=Ot(),[r,n]=p.useState(""),[s,i]=p.useState(""),o=e.filter(d=>d.mentor_id===(t==null?void 0:t.id)&&d.status==="completed"),a=o.reduce((d,f)=>d+(f.credits_cost||0),0),l=a,u=()=>{alert(`Payout of $${r} requested to ${s}. This would be processed by your payment provider in a real application.`)};return c.jsxs("div",{className:"space-y-8",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Earnings & Payouts"}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[c.jsxs(V,{children:[c.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(K,{className:"text-sm font-medium",children:"Total Earnings"}),c.jsx(cm,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(H,{children:[c.jsxs("div",{className:"text-2xl font-bold",children:["$",a]}),c.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Lifetime earnings from all completed feedback"})]})]}),c.jsxs(V,{children:[c.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(K,{className:"text-sm font-medium",children:"Available for Payout"}),c.jsx(Ps,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(H,{children:[c.jsxs("div",{className:"text-2xl font-bold",children:["$",l]}),c.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Amount ready to be withdrawn"})]})]}),c.jsxs(V,{children:[c.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(K,{className:"text-sm font-medium",children:"Average per Review"}),c.jsx(G1,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(H,{children:[c.jsxs("div",{className:"text-2xl font-bold",children:["$",o.length?(a/o.length).toFixed(2):"0"]}),c.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Based on ",o.length," completed reviews"]})]})]})]}),c.jsxs(V,{children:[c.jsxs(G,{children:[c.jsx(K,{children:"Request Payout"}),c.jsx(xe,{children:"Request a payout of your available earnings"})]}),c.jsx(H,{children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ir,{htmlFor:"amount",children:"Amount (USD)"}),c.jsx(ir,{id:"amount",type:"number",min:"1",max:l,value:r,onChange:d=>n(d.target.value),placeholder:"Enter amount to withdraw",className:"max-w-[200px]"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ir,{htmlFor:"email",children:"PayPal Email"}),c.jsx(ir,{id:"email",type:"email",value:s,onChange:d=>i(d.target.value),placeholder:"your.email@example.com",className:"max-w-[300px]"})]}),c.jsx(te,{onClick:u,disabled:!r||!s||Number(r)>l,children:"Request Payout"}),c.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Payouts are typically processed within 3-5 business days."})]})})]}),c.jsxs(V,{children:[c.jsxs(G,{children:[c.jsx(K,{children:"Earnings History"}),c.jsx(xe,{children:"History of completed feedback and earnings"})]}),c.jsx(H,{children:c.jsx("div",{className:"space-y-4",children:o.length===0?c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No completed feedback requests yet"}):c.jsx("div",{className:"border rounded-md overflow-hidden",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-muted",children:[c.jsx("th",{className:"px-4 py-2 text-left",children:"Date"}),c.jsx("th",{className:"px-4 py-2 text-left",children:"Feedback Request"}),c.jsx("th",{className:"px-4 py-2 text-right",children:"Credits"}),c.jsx("th",{className:"px-4 py-2 text-right",children:"Amount (USD)"})]})}),c.jsx("tbody",{children:o.map(d=>c.jsxs("tr",{className:"border-t",children:[c.jsx("td",{className:"px-4 py-2 text-left",children:new Date(d.updated_at).toLocaleDateString()}),c.jsx("td",{className:"px-4 py-2 text-left line-clamp-1",children:d.description}),c.jsx("td",{className:"px-4 py-2 text-right",children:d.credits_cost}),c.jsxs("td",{className:"px-4 py-2 text-right",children:["$",d.credits_cost]})]},d.id))})]})})})})]})]})}function ab(e){return e==="mentee"}function lb(e){return e==="mentor"}function cb(){const[e,t]=p.useState(!1),{credits:r}=Ot(),{user:n,userRole:s,loading:i,isAuthenticated:o,checkSessionActive:a}=et(),[l,u]=p.useState(!0),d=Ze(),f=hr();if(p.useEffect(()=>{console.log("AppLayout auth state:",{hasUser:!!n,userRole:s,authLoading:i,localLoading:l,isAuthenticated:o,pathname:f.pathname})},[n,s,i,l,o,f.pathname]),p.useEffect(()=>{const g=setTimeout(()=>{l&&(console.warn("Dashboard loading timed out after 5 seconds, resetting loading state"),u(!1))},5e3);return()=>clearTimeout(g)},[l]),p.useEffect(()=>{let g=!0;return(async()=>{if(!i&&g){if(console.log("AppLayout: Auth loading complete, checking user state",{hasUser:!!n,userRole:s,isAuthenticated:o,path:f.pathname}),f.pathname.includes("/dashboard")){if(f.pathname.includes("/request-feedback")){console.log("AppLayout: In request-feedback route, performing lightweight auth check"),(!o||!n)&&(await a()||console.warn("AppLayout: Session check failed in request-feedback route")),u(!1);return}if((!o||!n)&&(console.log("AppLayout: Not authenticated, doing a quick session check"),!await a())){console.warn("AppLayout: Session check failed, app will redirect shortly");return}}g&&(console.log("AppLayout: Completing loading process"),u(!1))}})(),()=>{g=!1}},[n,s,i,o,f,a]),i&&l&&!f.pathname.includes("/request-feedback"))return c.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[c.jsx(ct,{fullScreen:!1}),c.jsx("p",{className:"ml-2 text-muted-foreground",children:"Loading your dashboard..."}),c.jsx("button",{onClick:()=>u(!1),className:"mt-8 text-sm text-blue-500 hover:underline",children:"Loading taking too long? Click here"})]});const h=f.pathname.includes("/request-feedback"),m=typeof window<"u"&&!!localStorage.getItem("supabase.auth.token");if(!o&&!n&&!h)return console.log("AppLayout: Not authenticated, redirecting to login"),d("/login",{replace:!0}),null;if(!o&&!n&&h&&!m)return console.log("AppLayout: Not authenticated in request-feedback route, redirecting to login"),d("/login",{replace:!0,state:{from:f.pathname}}),null;if(!s&&!h)return console.log("AppLayout: No role, redirecting to role selection"),d("/role-selection",{replace:!0}),null;const x=ab(s)||h,y=lb(s)&&!h,_=s==="mentor"?"mentor":"mentee";return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx(p_,{role:_,credits:r,onMenuClick:()=>t(!0)}),c.jsx(zk,{role:_,isOpen:e,onClose:()=>t(!1)}),c.jsx("div",{className:"lg:pl-64",children:c.jsx("main",{className:"py-20 px-4 sm:px-6 lg:px-8",children:c.jsxs(Sp,{children:[c.jsx(me,{path:"/settings",element:c.jsx(nb,{})}),c.jsx(me,{path:"/notifications",element:c.jsx(sb,{})}),x&&c.jsxs(c.Fragment,{children:[c.jsx(me,{index:!0,element:c.jsx(Bk,{})}),c.jsx(me,{path:"/mentors",element:c.jsx(tb,{})}),c.jsx(me,{path:"/credits",element:c.jsx(rb,{})}),c.jsx(me,{path:"/request-feedback/:mentorId",element:c.jsx(ib,{})}),c.jsx(me,{path:"/feedback-history",element:c.jsx(Xd,{})})]}),y&&c.jsxs(c.Fragment,{children:[c.jsx(me,{index:!0,element:c.jsx(Xk,{})}),c.jsx(me,{path:"/feedback-history",element:c.jsx(Xd,{})}),c.jsx(me,{path:"/earnings",element:c.jsx(ob,{})})]}),c.jsx(me,{path:"*",element:c.jsx(bp,{to:"/dashboard",replace:!0})})]})})})]})}const ub=p.createContext(void 0);function db({children:e}){const{user:t,userRole:r,loading:n,setUserRole:s}=et(),[i,o]=p.useState(!1),[a,l]=p.useState(!1),[u,d]=p.useState(null),f=async()=>{if(!(t!=null&&t.id)){console.log("OnboardingContext: No user, onboarding incomplete"),l(!1);return}try{console.log("OnboardingContext: Checking role for user",t.id);const x=!!r;console.log("OnboardingContext: Role check result",{hasRole:x,role:r,userId:t.id}),l(x)}catch(x){console.error("OnboardingContext: Error checking onboarding:",x),l(!1)}};p.useEffect(()=>{n||f()},[t,r,n]);async function h(x){if(!(t!=null&&t.id))throw console.error("OnboardingContext: Cannot set role, no user ID"),d("Please sign in to continue."),new Error("User not authenticated");console.log(`OnboardingContext: Setting role to ${x} for user ${t.id}`),o(!0),d(null);const y=setTimeout(()=>{console.log("OnboardingContext: Role setting operation timed out"),o(!1),d("The operation timed out. Please try again.")},15e3);try{await s(x),clearTimeout(y),console.log(`OnboardingContext: Successfully set role to ${x} for user ${t.id}`),l(!0)}catch(_){throw clearTimeout(y),console.error("OnboardingContext: Error setting role:",_),_ instanceof Error?d(_.message):d("We encountered an issue setting your role. Please try again later or contact support."),new Error("We encountered an issue setting your role. Please try again later.")}finally{o(!1)}}const m={setRole:h,isComplete:a,loading:i||n,error:u,checkOnboardingStatus:f};return c.jsx(ub.Provider,{value:m,children:e})}function fb(){const e=Ze(),{user:t,userRole:r,loading:n,setUserRole:s,refreshUserRole:i}=et(),[o,a]=p.useState(null),[l,u]=p.useState(!1),[d,f]=p.useState(null),[h,m]=p.useState(0);p.useEffect(()=>{console.log("RoleSelection: Component loaded",{user:t==null?void 0:t.id,userRole:r,authLoading:n}),!n&&r&&(console.log("RoleSelection: User already has role, redirecting to dashboard"),e("/dashboard",{replace:!0}))},[r,n,e,t]);const x=g=>{console.log("RoleSelection: Role selected",{role:g}),a(g),f(null)},y=async()=>{if(t)try{u(!0),f(null),console.log("RoleSelection: Manually refreshing user role"),await i(),r?e("/dashboard",{replace:!0}):f("Unable to retrieve your role. Please try setting it again.")}catch(g){console.error("RoleSelection: Error refreshing role:",g),f("Could not refresh your role. Please try again.")}finally{u(!1)}},_=async()=>{if(!o){f("Please select a role to continue");return}if(!t){f("You must be logged in to select a role"),setTimeout(()=>e("/login",{replace:!0}),2e3);return}try{if(console.log("RoleSelection: Submitting role",{role:o,userId:t.id}),u(!0),f(null),await s(o),console.log("RoleSelection: Role set successfully"),h===0){m(1),console.log("RoleSelection: Attempting second role save for reliability");try{await new Promise(g=>setTimeout(g,800)),await s(o)}catch{console.warn("RoleSelection: Second attempt failed, continuing anyway")}}e("/dashboard",{replace:!0})}catch(g){if(console.error("RoleSelection: Error setting role:",g),r){console.log("RoleSelection: Despite API error, role is set in state. Proceeding."),e("/dashboard",{replace:!0});return}f("There was a problem setting your role. Please try again or refresh the page."),m(v=>v+1)}finally{u(!1)}};return n?c.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[c.jsx(ct,{fullScreen:!1}),c.jsx("p",{className:"mt-4 text-muted-foreground",children:"Checking your account..."})]}):t?c.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:c.jsxs("div",{className:"max-w-md w-full",children:[c.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:"Welcome to Our Platform"}),d&&c.jsxs(Rs,{variant:"destructive",className:"mb-6",children:[c.jsx(io,{className:"h-4 w-4"}),c.jsx(Ts,{children:"Error"}),c.jsxs(Os,{children:[d,c.jsxs(te,{variant:"outline",size:"sm",className:"mt-2 w-full",onClick:y,disabled:l,children:[l?c.jsx(ct,{fullScreen:!1,className:"mr-2 h-4 w-4"}):c.jsx(Y1,{className:"mr-2 h-4 w-4"}),"Refresh Account Status"]})]})]}),c.jsxs("div",{className:"bg-muted p-4 rounded-lg mb-6",children:[c.jsx("h2",{className:"font-semibold mb-2",children:"Important Note:"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Your role selection is permanent and cannot be changed later. Please choose the role that best describes your goals on the platform."})]}),c.jsx("p",{className:"text-center mb-6 text-muted-foreground",children:"Please select your role to continue:"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[c.jsxs(V,{className:`cursor-pointer transition-all ${o==="mentee"?"ring-2 ring-primary":""}`,onClick:()=>x("mentee"),children:[c.jsxs(G,{className:"relative",children:[o==="mentee"&&c.jsx(Id,{className:"h-5 w-5 absolute top-3 right-3 text-primary"}),c.jsx(K,{children:"Feedback Seeker"}),c.jsx(xe,{children:"I need feedback on my work"})]}),c.jsx(H,{children:c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Get valuable feedback on your designs from experienced mentors.",c.jsx("strong",{className:"block mt-2",children:"You'll receive 3 free credits to start."})]})})]}),c.jsxs(V,{className:`cursor-pointer transition-all ${o==="mentor"?"ring-2 ring-primary":""}`,onClick:()=>x("mentor"),children:[c.jsxs(G,{className:"relative",children:[o==="mentor"&&c.jsx(Id,{className:"h-5 w-5 absolute top-3 right-3 text-primary"}),c.jsx(K,{children:"Mentor"}),c.jsx(xe,{children:"I want to provide feedback"})]}),c.jsx(H,{children:c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Share your expertise by providing feedback to designers.",c.jsx("strong",{className:"block mt-2",children:"You'll earn credits for each feedback."})]})})]})]}),c.jsx(te,{className:"w-full",onClick:_,disabled:!o||l,children:l?c.jsxs(c.Fragment,{children:[c.jsx(ct,{fullScreen:!1,className:"mr-2 h-4 w-4"}),"Setting up your account..."]}):`Continue as ${o==="mentor"?"Mentor":o==="mentee"?"Feedback Seeker":"..."}`})]})}):c.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:c.jsxs(Rs,{variant:"destructive",className:"max-w-md",children:[c.jsx(io,{className:"h-4 w-4"}),c.jsx(Ts,{children:"Authentication Error"}),c.jsx(Os,{children:"You must be logged in to select a role. Redirecting to login..."})]})})}const hb=()=>{const[e,t]=p.useState(!0),[r,n]=p.useState(null),s=Ze(),{user:i,refreshSession:o}=et();return p.useEffect(()=>{(async()=>{try{if(console.log("AuthCallback: Processing authentication callback"),t(!0),i){console.log("AuthCallback: User already authenticated, redirecting to dashboard"),s("/dashboard");return}const{data:l,error:u}=await F.auth.getSession();if(u){console.error("AuthCallback: Error getting session:",u),n(u.message),s("/login");return}if(!l.session){console.log("AuthCallback: No session found, redirecting to login"),s("/login");return}console.log("AuthCallback: Session found, refreshing auth context"),await o();const{data:d}=await F.from("users").select("role").eq("id",l.session.user.id).single();d!=null&&d.role?(console.log("AuthCallback: User has role, redirecting to dashboard"),s("/dashboard")):(console.log("AuthCallback: User needs to select role, redirecting"),s("/role-selection"))}catch(l){console.error("AuthCallback: Unexpected error:",l),n("An unexpected error occurred during authentication"),s("/login")}finally{t(!1)}})()},[s,o,i]),e?c.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[c.jsx(ct,{fullScreen:!1}),c.jsx("p",{className:"mt-4 text-lg text-gray-600",children:"Completing authentication..."})]}):r?c.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[c.jsx("div",{className:"p-4 mb-4 text-sm text-red-700 bg-red-100 rounded-lg",children:c.jsxs("p",{children:["Authentication error: ",r]})}),c.jsx("button",{onClick:()=>s("/login"),className:"px-4 py-2 text-white bg-blue-600 rounded hover:bg-blue-700",children:"Return to Login"})]}):c.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[c.jsx(ct,{fullScreen:!1}),c.jsx("p",{className:"mt-4 text-lg text-gray-600",children:"Redirecting..."})]})};function pb(){return c.jsx(hm,{defaultTheme:"dark",storageKey:"app-theme",children:c.jsx(s_,{children:c.jsx(Yp,{children:c.jsx(db,{children:c.jsx(fm,{children:c.jsx(U0,{children:c.jsxs(Sp,{children:[c.jsx(me,{path:"/",element:c.jsx(n_,{})}),c.jsx(me,{path:"/login",element:c.jsx(r_,{})}),c.jsx(me,{path:"/role-selection",element:c.jsx(mb,{})}),c.jsx(me,{path:"/dashboard/*",element:c.jsx(gb,{})}),c.jsx(me,{path:"/auth/callback",element:c.jsx(hb,{})}),c.jsx(me,{path:"*",element:c.jsx(bp,{to:"/login",replace:!0})})]})})})})})})})}function mb(){const{user:e,userRole:t,loading:r}=et(),n=Ze(),[s,i]=p.useState(!0);return p.useEffect(()=>{let o=!0;return(async()=>{try{if(console.log("ProtectedRoleSelection: Initial state",{hasUser:!!e,userId:e==null?void 0:e.id,userRole:t,loading:r}),r)return;if(!e){console.log("ProtectedRoleSelection: No user, redirecting to login"),n("/login",{replace:!0});return}if(t){console.log("ProtectedRoleSelection: User has role, redirecting to dashboard"),n("/dashboard",{replace:!0});return}o&&i(!1)}catch(l){console.error("ProtectedRoleSelection: Error checking status",l),o&&n("/login",{replace:!0})}})(),()=>{o=!1}},[e,r,t,n]),r||s?c.jsxs("div",{className:"flex items-center justify-center min-h-screen",children:[c.jsx(ct,{fullScreen:!1}),c.jsx("p",{className:"ml-2 text-muted-foreground",children:"Checking authentication..."})]}):e&&!t?c.jsx(fb,{}):null}function gb(){const{user:e,userRole:t,loading:r,isAuthenticated:n,checkSessionActive:s}=et(),i=Ze(),o=hr(),[a,l]=p.useState(!0),[u,d]=p.useState(!1);return p.useEffect(()=>{let f=!0,h=!1;return(async()=>{try{if(u&&n&&e){console.log("ProtectedRoute: Session already checked and valid, skipping checks"),f&&a&&l(!1);return}if(console.log("ProtectedRoute: Checking auth state",{hasUser:!!e,userId:e==null?void 0:e.id,userRole:t,loading:r,isAuthenticated:n,path:o.pathname}),r||h)return;if(h=!0,o.pathname.includes("/dashboard")){const x=await s();if(console.log("ProtectedRoute: Session active check:",x),!x){if(console.log("ProtectedRoute: Session appears inactive, waiting briefly before redirect"),await new Promise(_=>setTimeout(_,1e3)),await s())console.log("ProtectedRoute: Session reactivated during delay, continuing");else if(console.log("ProtectedRoute: Session confirmed inactive, redirecting to login"),f){i("/login",{replace:!0});return}}f&&d(!0)}if((!e||!n)&&(await new Promise(x=>setTimeout(x,500)),(!e||!n)&&(console.log("ProtectedRoute: No user or not authenticated after delay, redirecting to login"),f))){i("/login",{replace:!0});return}if(!t&&(console.log("ProtectedRoute: User has no role, redirecting to role selection"),f)){i("/role-selection",{replace:!0});return}f&&(console.log("ProtectedRoute: User authenticated and has role, rendering dashboard"),l(!1),d(!0))}catch(x){console.error("ProtectedRoute: Error checking status",x),f&&i("/login",{replace:!0})}})(),()=>{f=!1}},[e,t,r,n,i,o,s,u,a]),r||a?c.jsxs("div",{className:"flex items-center justify-center min-h-screen",children:[c.jsx(ct,{fullScreen:!1}),c.jsx("p",{className:"ml-2 text-muted-foreground",children:"Loading your dashboard..."})]}):e&&t?c.jsx(cb,{}):null}Sa.createRoot(document.getElementById("root")).render(c.jsx(Il.StrictMode,{children:c.jsx(hm,{defaultTheme:"system",storageKey:"app-theme",children:c.jsx(Yp,{children:c.jsx(fm,{children:c.jsx(pb,{})})})})}));export{Zd as g};
